/*! For license information please see main.29e7ca38.js.LICENSE.txt */
!function(){var e={916:function(e){var t=1/0,n=17976931348623157e292,r=NaN,i="[object Symbol]",a=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt,c=Object.prototype.toString;function f(e,f){var h;if("function"!=typeof f)throw new TypeError("Expected a function");return e=function(e){var f=function(e){if(!e)return 0===e?e:0;if((e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&c.call(e)==i}(e))return r;if(d(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=d(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=s.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):o.test(e)?r:+e}(e))===t||e===-1/0){return(e<0?-1:1)*n}return e===e?e:0}(e),h=f%1;return f===f?h?f-h:f:0}(e),function(){return--e>0&&(h=f.apply(this,arguments)),e<=1&&(f=void 0),h}}function d(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return f(2,e)}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var A,M=Object.assign;function F(e){if(void 0===A)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);A=t&&t[1]||""}return"\n"+A+e}var U=!1;function z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function q(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case w:return"Portal";case S:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ge(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,we=null,xe=null;function Ce(e){if(e=vi(e)){if("function"!==typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=yi(t),ke(e.stateNode,e.type,t))}}function Se(e){we?xe?xe.push(e):xe=[e]:we=e}function Ee(){if(we){var e=we,t=xe;if(xe=we=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Ie(){}var Oe=!1;function Ne(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Te(e,t,n)}finally{Oe=!1,(null!==we||null!==xe)&&(Ie(),Ee())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=yi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(c)try{var je={};Object.defineProperty(je,"passive",{get:function(){Re=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(tc){Re=!1}function De(e,t,n,r,i,a,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Le=!1,Ae=null,Me=!1,Fe=null,Ue={onError:function(e){Le=!0,Ae=e}};function ze(e,t,n,r,i,a,o,s,u){Le=!1,Ae=null,De.apply(Ue,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Be(e){if(qe(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Be(i),e;if(o===r)return Be(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ge=i.unstable_requestPaint,Qe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,Ze=i.unstable_UserBlockingPriority,et=i.unstable_NormalPriority,tt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,rt=null,it=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ot(e)/st|0)|0},ot=Math.log,st=Math.LN2;var ut=64,lt=4194304;function ct(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ct(s):0!==(a&=o)&&(r=ct(a))}else 0!==(o=n&~i)?r=ct(o):0!==a&&(r=ct(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,kt,wt,xt,Ct,St=!1,Et=[],Tt=null,It=null,Ot=null,Nt=new Map,Pt=new Map,Rt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=vi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function At(e){var t=pi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Ct(e.priority,(function(){wt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Mt(e)&&n.delete(t)}function Ut(){St=!1,null!==Tt&&Mt(Tt)&&(Tt=null),null!==It&&Mt(It)&&(It=null),null!==Ot&&Mt(Ot)&&(Ot=null),Nt.forEach(Ft),Pt.forEach(Ft)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function qt(e){function t(t){return zt(t,e)}if(0<Et.length){zt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&zt(Tt,e),null!==It&&zt(It,e),null!==Ot&&zt(Ot,e),Nt.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)At(n),null===n.blockedOn&&Rt.shift()}var Wt=_.ReactCurrentBatchConfig,Bt=!0;function Ht(e,t,n,r){var i=gt,a=Wt.transition;Wt.transition=null;try{gt=1,Yt(e,t,n,r)}finally{gt=i,Wt.transition=a}}function Vt(e,t,n,r){var i=gt,a=Wt.transition;Wt.transition=null;try{gt=4,Yt(e,t,n,r)}finally{gt=i,Wt.transition=a}}function Yt(e,t,n,r){if(Bt){var i=$t(e,t,n,r);if(null===i)zr(e,t,r,Kt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return It=Lt(It,e,t,n,r,i),!0;case"mouseover":return Ot=Lt(Ot,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Lt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<jt.indexOf(e)){for(;null!==i;){var a=vi(i);if(null!==a&&_t(a),null===(a=$t(e,t,n,r))&&zr(e,t,r,Kt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}}var Kt=null;function $t(e,t,n,r){if(Kt=null,null!==(e=pi(e=_e(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Xe:return 1;case Ze:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,Xt=null;function Zt(){if(Xt)return Xt;var e,t,n=Jt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var an,on,sn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=rn(un),cn=M({},un,{view:0,detail:0}),fn=rn(cn),dn=M({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,on=e.screenY-sn.screenY):on=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),hn=rn(dn),pn=rn(M({},dn,{dataTransfer:0})),vn=rn(M({},cn,{relatedTarget:0})),mn=rn(M({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=rn(M({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),gn=rn(M({},un,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function xn(){return wn}var Cn=rn(M({},cn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Sn=rn(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=rn(M({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Tn=rn(M({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=rn(M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),On=[9,13,27,32],Nn=c&&"CompositionEvent"in window,Pn=null;c&&"documentMode"in document&&(Pn=document.documentMode);var Rn=c&&"TextEvent"in window&&!Pn,jn=c&&(!Nn||Pn&&8<Pn&&11>=Pn),Dn=String.fromCharCode(32),Ln=!1;function An(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Fn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function qn(e,t,n,r){Se(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Bn=null;function Hn(e){Dr(e,0)}function Vn(e){if(K(mi(e)))return e}function Yn(e,t){if("change"===e)return t}var Kn=!1;if(c){var $n;if(c){var Gn="oninput"in document;if(!Gn){var Qn=document.createElement("div");Qn.setAttribute("oninput","return;"),Gn="function"===typeof Qn.oninput}$n=Gn}else $n=!1;Kn=$n&&(!document.documentMode||9<document.documentMode)}function Jn(){Wn&&(Wn.detachEvent("onpropertychange",Xn),Bn=Wn=null)}function Xn(e){if("value"===e.propertyName&&Vn(Bn)){var t=[];qn(t,Bn,e,_e(e)),Ne(Hn,t)}}function Zn(e,t,n){"focusin"===e?(Jn(),Bn=n,(Wn=t).attachEvent("onpropertychange",Xn)):"focusout"===e&&Jn()}function er(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Vn(Bn)}function tr(e,t){if("click"===e)return Vn(t)}function nr(e,t){if("input"===e||"change"===e)return Vn(t)}var rr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ir(e,t){if(rr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!rr(e[i],t[i]))return!1}return!0}function ar(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function or(e,t){var n,r=ar(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ar(r)}}function sr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?sr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ur(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function cr(e){var t=ur(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sr(n.ownerDocument.documentElement,n)){if(null!==r&&lr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=or(n,a);var o=or(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=c&&"documentMode"in document&&11>=document.documentMode,dr=null,hr=null,pr=null,vr=!1;function mr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==dr||dr!==$(r)||("selectionStart"in(r=dr)&&lr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},pr&&ir(pr,r)||(pr=r,0<(r=Wr(hr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=dr)))}function yr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var gr={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionend:yr("Transition","TransitionEnd")},br={},_r={};function kr(e){if(br[e])return br[e];if(!gr[e])return e;var t,n=gr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return br[e]=n[t];return e}c&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);var wr=kr("animationend"),xr=kr("animationiteration"),Cr=kr("animationstart"),Sr=kr("transitionend"),Er=new Map,Tr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Er.set(e,t),u(t,[e])}for(var Or=0;Or<Tr.length;Or++){var Nr=Tr[Or];Ir(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Ir(wr,"onAnimationEnd"),Ir(xr,"onAnimationIteration"),Ir(Cr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Sr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,l){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var c=Ae;Le=!1,Ae=null,Me||(Me=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,l),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;jr(i,s,l),a=u}}}if(Me)throw e=Fe,Me=!1,Fe=null,e}function Lr(e,t){var n=t[fi];void 0===n&&(n=t[fi]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function Ar(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var Mr="_reactListening"+Math.random().toString(36).slice(2);function Fr(e){if(!e[Mr]){e[Mr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Ar(t,!1,e),Ar(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Mr]||(t[Mr]=!0,Ar("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Gt(t)){case 1:var i=Ht;break;case 4:i=Vt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=pi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Ne((function(){var r=a,i=_e(n),o=[];e:{var s=Er.get(e);if(void 0!==s){var u=ln,l=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":u=Cn;break;case"focusin":l="focus",u=vn;break;case"focusout":l="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=En;break;case wr:case xr:case Cr:u=mn;break;case Sr:u=Tn;break;case"scroll":u=fn;break;case"wheel":u=In;break;case"copy":case"cut":case"paste":u=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Sn}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Pe(p,d))&&c.push(qr(p,v,h)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!pi(l)&&!l[ci])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?pi(l):null)&&(l!==(f=qe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=hn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Sn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:mi(u),h=null==l?s:mi(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=h,v=null,pi(i)===r&&((c=new c(d,p+"enter",l,n,i)).target=h,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(d=l,p=0,h=c=u;h;h=Br(h))p++;for(h=0,v=d;v;v=Br(v))h++;for(;0<p-h;)c=Br(c),p--;for(;0<h-p;)d=Br(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Br(c),d=Br(d)}c=null}else c=null;null!==u&&Hr(o,s,u,c,!1),null!==l&&null!==f&&Hr(o,f,l,c,!0)}if("select"===(u=(s=r?mi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(zn(s))if(Kn)m=nr;else{m=er;var y=Zn}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=tr);switch(m&&(m=m(e,r))?qn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?mi(r):window,e){case"focusin":(zn(y)||"true"===y.contentEditable)&&(dr=y,hr=r,pr=null);break;case"focusout":pr=hr=dr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,mr(o,n,i);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":mr(o,n,i)}var g;if(Nn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Fn?An(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Fn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Fn&&(g=Zt()):(Jt="value"in(Qt=i)?Qt.value:Qt.textContent,Fn=!0)),0<(y=Wr(r,b)).length&&(b=new gn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Mn(n))&&(b.data=g))),(g=Rn?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(Ln=!0,Dn);case"textInput":return(e=t.data)===Dn&&Ln?null:e;default:return null}}(e,n):function(e,t){if(Fn)return"compositionend"===e||!Nn&&An(e,t)?(e=Zt(),Xt=Jt=Qt=null,Fn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new gn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Dr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Pe(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Br(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Hr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Pe(n,a))&&o.unshift(qr(n,u,s)):i||null!=(u=Pe(n,a))&&o.push(qr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Vr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Kr(e){return("string"===typeof e?e:""+e).replace(Vr,"\n").replace(Yr,"")}function $r(e,t,n){if(t=Kr(t),Kr(e)!==t&&n)throw Error(a(425))}function Gr(){}var Qr=null,Jr=null;function Xr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zr="function"===typeof setTimeout?setTimeout:void 0,ei="function"===typeof clearTimeout?clearTimeout:void 0,ti="function"===typeof Promise?Promise:void 0,ni="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ti?function(e){return ti.resolve(null).then(e).catch(ri)}:Zr;function ri(e){setTimeout((function(){throw e}))}function ii(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ai(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function oi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),ui="__reactFiber$"+si,li="__reactProps$"+si,ci="__reactContainer$"+si,fi="__reactEvents$"+si,di="__reactListeners$"+si,hi="__reactHandles$"+si;function pi(e){var t=e[ui];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ci]||n[ui]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=oi(e);null!==e;){if(n=e[ui])return n;e=oi(e)}return t}n=(e=n).parentNode}return null}function vi(e){return!(e=e[ui]||e[ci])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function mi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function yi(e){return e[li]||null}var gi=[],bi=-1;function _i(e){return{current:e}}function ki(e){0>bi||(e.current=gi[bi],gi[bi]=null,bi--)}function wi(e,t){bi++,gi[bi]=e.current,e.current=t}var xi={},Ci=_i(xi),Si=_i(!1),Ei=xi;function Ti(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ii(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){ki(Si),ki(Ci)}function Ni(e,t,n){if(Ci.current!==xi)throw Error(a(168));wi(Ci,t),wi(Si,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,B(e)||"Unknown",i));return M({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Ei=Ci.current,wi(Ci,e),wi(Si,Si.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Ei),r.__reactInternalMemoizedMergedChildContext=e,ki(Si),ki(Ci),wi(Ci,e)):ki(Si),wi(Si,n)}var Di=null,Li=!1,Ai=!1;function Mi(e){null===Di?Di=[e]:Di.push(e)}function Fi(){if(!Ai&&null!==Di){Ai=!0;var e=0,t=gt;try{var n=Di;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Di=null,Li=!1}catch(i){throw null!==Di&&(Di=Di.slice(e+1)),Ye(Xe,Fi),i}finally{gt=t,Ai=!1}}return null}var Ui=[],zi=0,qi=null,Wi=0,Bi=[],Hi=0,Vi=null,Yi=1,Ki="";function $i(e,t){Ui[zi++]=Wi,Ui[zi++]=qi,qi=e,Wi=t}function Gi(e,t,n){Bi[Hi++]=Yi,Bi[Hi++]=Ki,Bi[Hi++]=Vi,Vi=e;var r=Yi;e=Ki;var i=32-at(r)-1;r&=~(1<<i),n+=1;var a=32-at(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-at(t)+i|n<<i|r,Ki=a+e}else Yi=1<<a|n<<i|r,Ki=e}function Qi(e){null!==e.return&&($i(e,1),Gi(e,1,0))}function Ji(e){for(;e===qi;)qi=Ui[--zi],Ui[zi]=null,Wi=Ui[--zi],Ui[zi]=null;for(;e===Vi;)Vi=Bi[--Hi],Bi[Hi]=null,Ki=Bi[--Hi],Bi[Hi]=null,Yi=Bi[--Hi],Bi[Hi]=null}var Xi=null,Zi=null,ea=!1,ta=null;function na(e,t){var n=Tl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ra(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Xi=e,Zi=ai(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Xi=e,Zi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Vi?{id:Yi,overflow:Ki}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Xi=e,Zi=null,!0);default:return!1}}function ia(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function aa(e){if(ea){var t=Zi;if(t){var n=t;if(!ra(e,t)){if(ia(e))throw Error(a(418));t=ai(n.nextSibling);var r=Xi;t&&ra(e,t)?na(r,n):(e.flags=-4097&e.flags|2,ea=!1,Xi=e)}}else{if(ia(e))throw Error(a(418));e.flags=-4097&e.flags|2,ea=!1,Xi=e}}}function oa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Xi=e}function sa(e){if(e!==Xi)return!1;if(!ea)return oa(e),ea=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Xr(e.type,e.memoizedProps)),t&&(t=Zi)){if(ia(e))throw ua(),Error(a(418));for(;t;)na(e,t),t=ai(t.nextSibling)}if(oa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Zi=ai(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Zi=null}}else Zi=Xi?ai(e.stateNode.nextSibling):null;return!0}function ua(){for(var e=Zi;e;)e=ai(e.nextSibling)}function la(){Zi=Xi=null,ea=!1}function ca(e){null===ta?ta=[e]:ta.push(e)}var fa=_.ReactCurrentBatchConfig;function da(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ha=_i(null),pa=null,va=null,ma=null;function ya(){ma=va=pa=null}function ga(e){var t=ha.current;ki(ha),e._currentValue=t}function ba(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){pa=e,ma=va=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ms=!0),e.firstContext=null)}function ka(e){var t=e._currentValue;if(ma!==e)if(e={context:e,memoizedValue:t,next:null},null===va){if(null===pa)throw Error(a(308));va=e,pa.dependencies={lanes:0,firstContext:e}}else va=va.next=e;return t}var wa=null;function xa(e){null===wa?wa=[e]:wa.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,xa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Sa(e,r)}function Sa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ea=!1;function Ta(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ia(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Na(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Sa(e,n)}return null===(i=r.interleaved)?(t.next=t,xa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Sa(e,n)}function Pa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ra(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ja(e,t,n,r){var i=e.updateQueue;Ea=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?a=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,c=l=u=null,s=a;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=M({},f,d);break e;case 2:Ea=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=h,u=f):c=c.next=h,o|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ru|=o,e.lanes=o,e.memoizedState=f}}function Da(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var La=(new r.Component).refs;function Aa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ma={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qu(),i=Ju(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(Xu(t,e,i,r),Pa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qu(),i=Ju(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Na(e,a,i))&&(Xu(t,e,i,r),Pa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qu(),r=Ju(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Na(e,i,r))&&(Xu(t,e,r,n),Pa(t,e,r))}};function Fa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ir(n,r)||!ir(i,a))}function Ua(e,t,n){var r=!1,i=xi,a=t.contextType;return"object"===typeof a&&null!==a?a=ka(a):(i=Ii(t)?Ei:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ti(e,i):xi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function za(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ma.enqueueReplaceState(t,t.state,null)}function qa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=La,Ta(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=ka(a):(a=Ii(t)?Ei:Ci.current,i.context=Ti(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Aa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ma.enqueueReplaceState(i,i.state,null),ja(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===La&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ba(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ha(e){return(0,e._init)(e._payload)}function Va(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ol(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Ha(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Nl(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Dl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Pl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Nl(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case w:return(t=Dl(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Pl(t,e.mode,n,null)).return=e,t;Ba(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case R:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ba(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ba(t,r)}return null}function v(i,a,s,u){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=h(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y,f=m}if(v===s.length)return n(i,f),ea&&$i(i,v),l;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ea&&$i(i,v),l}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),ea&&$i(i,v),l}function m(i,s,u,l){var c=L(u);if("function"!==typeof c)throw Error(a(150));if(null==(u=c.call(u)))throw Error(a(151));for(var f=c=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=h(i,v,g.value,l);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,m),null===f?c=b:f.sibling=b,f=b,v=y}if(g.done)return n(i,v),ea&&$i(i,m),c;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=d(i,g.value,l))&&(s=o(g,s,m),null===f?c=g:f.sibling=g,f=g);return ea&&$i(i,m),c}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=o(g,s,m),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ea&&$i(i,m),c}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case k:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===x){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&Ha(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Wa(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===x?((a=Pl(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Nl(o.type,o.key,o.props,null,r.mode,u)).ref=Wa(r,a,o),u.return=r,r=u)}return s(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Dl(o,r.mode,u)).return=r,r=a}return s(r);case R:return e(r,a,(c=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(L(o))return m(r,a,o,u);Ba(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jl(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Ya=Va(!0),Ka=Va(!1),$a={},Ga=_i($a),Qa=_i($a),Ja=_i($a);function Xa(e){if(e===$a)throw Error(a(174));return e}function Za(e,t){switch(wi(Ja,t),wi(Qa,e),wi(Ga,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Ga),wi(Ga,t)}function eo(){ki(Ga),ki(Qa),ki(Ja)}function to(e){Xa(Ja.current);var t=Xa(Ga.current),n=ue(t,e.type);t!==n&&(wi(Qa,e),wi(Ga,n))}function no(e){Qa.current===e&&(ki(Ga),ki(Qa))}var ro=_i(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var so=_.ReactCurrentDispatcher,uo=_.ReactCurrentBatchConfig,lo=0,co=null,fo=null,ho=null,po=!1,vo=!1,mo=0,yo=0;function go(){throw Error(a(321))}function bo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rr(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,o){if(lo=o,co=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,so.current=null===e||null===e.memoizedState?rs:is,e=n(r,i),vo){o=0;do{if(vo=!1,mo=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,so.current=as,e=n(r,i)}while(vo)}if(so.current=ns,t=null!==fo&&null!==fo.next,lo=0,ho=fo=co=null,po=!1,t)throw Error(a(300));return e}function ko(){var e=0!==mo;return mo=0,e}function wo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?co.memoizedState=ho=e:ho=ho.next=e,ho}function xo(){if(null===fo){var e=co.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?co.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?co.memoizedState=ho=e:ho=ho.next=e}return ho}function Co(e,t){return"function"===typeof t?t(e):t}function So(e){var t=xo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,l=null,c=o;do{var f=c.lane;if((lo&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=d,s=r):l=l.next=d,co.lanes|=f,Ru|=f}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,rr(r,t.memoizedState)||(ms=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,co.lanes|=o,Ru|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=xo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);rr(o,t.memoizedState)||(ms=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function Io(e,t){var n=co,r=xo(),i=t(),o=!rr(r.memoizedState,i);if(o&&(r.memoizedState=i,ms=!0),r=r.queue,zo(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,Lo(9,No.bind(null,n,r,i,t),void 0,null),null===Su)throw Error(a(349));0!==(30&lo)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=co.updateQueue)?(t={lastEffect:null,stores:null},co.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function No(e,t,n,r){t.value=n,t.getSnapshot=r,Ro(t)&&jo(e)}function Po(e,t,n){return n((function(){Ro(t)&&jo(e)}))}function Ro(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rr(e,n)}catch(r){return!0}}function jo(e){var t=Sa(e,1);null!==t&&Xu(t,e,1,-1)}function Do(e){var t=wo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=Xo.bind(null,co,e),[t.memoizedState,e]}function Lo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=co.updateQueue)?(t={lastEffect:null,stores:null},co.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ao(){return xo().memoizedState}function Mo(e,t,n,r){var i=wo();co.flags|=e,i.memoizedState=Lo(1|t,n,void 0,void 0===r?null:r)}function Fo(e,t,n,r){var i=xo();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&bo(r,o.deps))return void(i.memoizedState=Lo(t,n,a,r))}co.flags|=e,i.memoizedState=Lo(1|t,n,a,r)}function Uo(e,t){return Mo(8390656,8,e,t)}function zo(e,t){return Fo(2048,8,e,t)}function qo(e,t){return Fo(4,2,e,t)}function Wo(e,t){return Fo(4,4,e,t)}function Bo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ho(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,Bo.bind(null,t,e),n)}function Vo(){}function Yo(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=xo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&lo)?(e.baseState&&(e.baseState=!1,ms=!0),e.memoizedState=n):(rr(n,t)||(n=pt(),co.lanes|=n,Ru|=n,e.baseState=!0),t)}function Go(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=uo.transition;uo.transition={};try{e(!1),t()}finally{gt=n,uo.transition=r}}function Qo(){return xo().memoizedState}function Jo(e,t,n){var r=Ju(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zo(e))es(t,n);else if(null!==(n=Ca(e,t,n,r))){Xu(n,e,r,Qu()),ts(n,t,r)}}function Xo(e,t,n){var r=Ju(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zo(e))es(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,rr(s,o)){var u=t.interleaved;return null===u?(i.next=i,xa(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ca(e,t,i,r))&&(Xu(n,e,r,i=Qu()),ts(n,t,r))}}function Zo(e){var t=e.alternate;return e===co||null!==t&&t===co}function es(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ns={readContext:ka,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},rs={readContext:ka,useCallback:function(e,t){return wo().memoizedState=[e,void 0===t?null:t],e},useContext:ka,useEffect:Uo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,Bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=wo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jo.bind(null,co,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},wo().memoizedState=e},useState:Do,useDebugValue:Vo,useDeferredValue:function(e){return wo().memoizedState=e},useTransition:function(){var e=Do(!1),t=e[0];return e=Go.bind(null,e[1]),wo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=co,i=wo();if(ea){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Su)throw Error(a(349));0!==(30&lo)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Uo(Po.bind(null,r,o,e),[e]),r.flags|=2048,Lo(9,No.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=wo(),t=Su.identifierPrefix;if(ea){var n=Ki;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},is={readContext:ka,useCallback:Yo,useContext:ka,useEffect:zo,useImperativeHandle:Ho,useInsertionEffect:qo,useLayoutEffect:Wo,useMemo:Ko,useReducer:So,useRef:Ao,useState:function(){return So(Co)},useDebugValue:Vo,useDeferredValue:function(e){return $o(xo(),fo.memoizedState,e)},useTransition:function(){return[So(Co)[0],xo().memoizedState]},useMutableSource:To,useSyncExternalStore:Io,useId:Qo,unstable_isNewReconciler:!1},as={readContext:ka,useCallback:Yo,useContext:ka,useEffect:zo,useImperativeHandle:Ho,useInsertionEffect:qo,useLayoutEffect:Wo,useMemo:Ko,useReducer:Eo,useRef:Ao,useState:function(){return Eo(Co)},useDebugValue:Vo,useDeferredValue:function(e){var t=xo();return null===fo?t.memoizedState=e:$o(t,fo.memoizedState,e)},useTransition:function(){return[Eo(Co)[0],xo().memoizedState]},useMutableSource:To,useSyncExternalStore:Io,useId:Qo,unstable_isNewReconciler:!1};function os(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function ss(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function us(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ls="function"===typeof WeakMap?WeakMap:Map;function cs(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zu||(zu=!0,qu=r),us(0,t)},n}function fs(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){us(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){us(0,t),"function"!==typeof r&&(null===Wu?Wu=new Set([this]):Wu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ds(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ls;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kl.bind(null,e,t,n),t.then(e,e))}function hs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ps(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Na(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vs=_.ReactCurrentOwner,ms=!1;function ys(e,t,n,r){t.child=null===e?Ka(t,null,n,r):Ya(t,e.child,n,r)}function gs(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=ko(),null===e||ms?(ea&&n&&Qi(t),t.flags|=1,ys(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function bs(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Il(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_s(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ir)(o,r)&&e.ref===t.ref)return zs(e,t,i)}return t.flags|=1,(e=Ol(a,r)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ir(a,r)&&e.ref===t.ref){if(ms=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,zs(e,t,i);0!==(131072&e.flags)&&(ms=!0)}}return xs(e,t,n,r,i)}function ks(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},wi(Ou,Iu),Iu|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,wi(Ou,Iu),Iu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,wi(Ou,Iu),Iu|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,wi(Ou,Iu),Iu|=r;return ys(e,t,i,n),t.child}function ws(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xs(e,t,n,r,i){var a=Ii(n)?Ei:Ci.current;return a=Ti(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=ko(),null===e||ms?(ea&&r&&Qi(t),t.flags|=1,ys(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function Cs(e,t,n,r,i){if(Ii(n)){var a=!0;Ri(t)}else a=!1;if(_a(t,i),null===t.stateNode)Us(e,t),Ua(t,n,r),qa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=ka(l):l=Ti(t,l=Ii(n)?Ei:Ci.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&za(t,o,r,l),Ea=!1;var d=t.memoizedState;o.state=d,ja(t,r,o,i),u=t.memoizedState,s!==r||d!==u||Si.current||Ea?("function"===typeof c&&(Aa(t,n,c,r),u=t.memoizedState),(s=Ea||Fa(t,n,s,r,d,u,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ia(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:da(t.type,s),o.props=l,f=t.pendingProps,d=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=ka(u):u=Ti(t,u=Ii(n)?Ei:Ci.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||d!==u)&&za(t,o,r,u),Ea=!1,d=t.memoizedState,o.state=d,ja(t,r,o,i);var p=t.memoizedState;s!==f||d!==p||Si.current||Ea?("function"===typeof h&&(Aa(t,n,h,r),p=t.memoizedState),(l=Ea||Fa(t,n,l,r,d,p,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ss(e,t,n,r,a,i)}function Ss(e,t,n,r,i,a){ws(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),zs(e,t,a);r=t.stateNode,vs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,s,a)):ys(e,t,s,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Es(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),Za(e,t.containerInfo)}function Ts(e,t,n,r,i){return la(),ca(i),t.flags|=256,ys(e,t,n,r),t.child}var Is,Os,Ns,Ps={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,o=ro.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),wi(ro,1&o),null===e)return aa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Rl(u,i,0,null),e=Pl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Ps,e):Ds(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Ls(e,t,s,r=ss(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Rl({mode:"visible",children:r.children},i,0,null),(o=Pl(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Ps,o);if(0===(1&t.mode))return Ls(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Ls(e,t,s,r=ss(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),ms||u){if(null!==(r=Su)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Sa(e,i),Xu(r,e,i,-1))}return fl(),Ls(e,t,s,r=ss(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Zi=ai(i.nextSibling),Xi=t,ea=!0,ta=null,null!==e&&(Bi[Hi++]=Yi,Bi[Hi++]=Ki,Bi[Hi++]=Vi,Yi=e.id,Ki=e.overflow,Vi=t),(t=Ds(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ol(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Ol(r,s):(s=Pl(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Rs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ps,i}return e=(s=e.child).sibling,i=Ol(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ds(e,t){return(t=Rl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ls(e,t,n,r){return null!==r&&ca(r),Ya(t,e.child,null,n),(e=Ds(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function As(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ba(e.return,t,n)}function Ms(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Fs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ys(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&As(e,n,t);else if(19===e.tag)As(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(wi(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ms(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ms(t,!0,n,null,a);break;case"together":Ms(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Us(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ru|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ol(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ol(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!ea)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bs(e,t,n){var r=t.pendingProps;switch(Ji(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Ii(t.type)&&Oi(),Ws(t),null;case 3:return r=t.stateNode,eo(),ki(Si),ki(Ci),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(sa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ta&&(nl(ta),ta=null))),Ws(t),null;case 5:no(t);var i=Xa(Ja.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ws(t),null}if(e=Xa(Ga.current),sa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ui]=t,r[li]=o,e=0!==(1&t.mode),n){case"dialog":Lr("cancel",r),Lr("close",r);break;case"iframe":case"object":case"embed":Lr("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Lr(Pr[i],r);break;case"source":Lr("error",r);break;case"img":case"image":case"link":Lr("error",r),Lr("load",r);break;case"details":Lr("toggle",r);break;case"input":Q(r,o),Lr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Lr("invalid",r);break;case"textarea":ie(r,o),Lr("invalid",r)}for(var u in ye(n,o),i=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Lr("scroll",r)}switch(n){case"input":Y(r),Z(r,o,!0);break;case"textarea":Y(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Gr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[ui]=t,e[li]=r,Is(e,t),t.stateNode=e;e:{switch(u=ge(n,r),n){case"dialog":Lr("cancel",e),Lr("close",e),i=r;break;case"iframe":case"object":case"embed":Lr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Lr(Pr[i],e);i=r;break;case"source":Lr("error",e),i=r;break;case"img":case"image":case"link":Lr("error",e),Lr("load",e),i=r;break;case"details":Lr("toggle",e),i=r;break;case"input":Q(e,r),i=G(e,r),Lr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Lr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Lr("invalid",e)}for(o in ye(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?ve(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&ce(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Lr("scroll",e):null!=c&&b(e,o,c,u))}switch(n){case"input":Y(e),Z(e,r,!1);break;case"textarea":Y(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Gr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ns(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Xa(Ja.current),Xa(Ga.current),sa(t)){if(r=t.stateNode,n=t.memoizedProps,r[ui]=t,(o=r.nodeValue!==n)&&null!==(e=Xi))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ui]=t,t.stateNode=r}return Ws(t),null;case 13:if(ki(ro),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ea&&null!==Zi&&0!==(1&t.mode)&&0===(128&t.flags))ua(),la(),t.flags|=98560,o=!1;else if(o=sa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[ui]=t}else la(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),o=!1}else null!==ta&&(nl(ta),ta=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Nu&&(Nu=3):fl())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return eo(),null===e&&Fr(t.stateNode.containerInfo),Ws(t),null;case 10:return ga(t.type._context),Ws(t),null;case 19:if(ki(ro),null===(o=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)qs(o,!1);else{if(0!==Nu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=io(e))){for(t.flags|=128,qs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return wi(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Fu&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ea)return Ws(t),null}else 2*Qe()-o.renderingStartTime>Fu&&1073741824!==n&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=ro.current,wi(ro,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return sl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Iu)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Hs(e,t){switch(Ji(t),t.tag){case 1:return Ii(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),ki(Si),ki(Ci),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(ki(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));la()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ro),null;case 4:return eo(),null;case 10:return ga(t.type._context),null;case 22:case 23:return sl(),null;default:return null}}Is=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xa(Ga.current);var a,o=null;switch(n){case"input":i=G(e,i),r=G(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Gr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&u[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Lr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ns=function(e,t,n,r){n!==r&&(t.flags|=4)};var Vs=!1,Ys=!1,Ks="function"===typeof WeakSet?WeakSet:Set,$s=null;function Gs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_l(e,t,r)}else n.current=null}function Qs(e,t,n){try{n()}catch(r){_l(e,t,r)}}var Js=!1;function Xs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Qs(t,n,a)}i=i.next}while(i!==r)}}function Zs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function eu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function tu(e){var t=e.alternate;null!==t&&(e.alternate=null,tu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ui],delete t[li],delete t[fi],delete t[di],delete t[hi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nu(e){return 5===e.tag||3===e.tag||4===e.tag}function ru(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||nu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function iu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Gr));else if(4!==r&&null!==(e=e.child))for(iu(e,t,n),e=e.sibling;null!==e;)iu(e,t,n),e=e.sibling}function au(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(au(e,t,n),e=e.sibling;null!==e;)au(e,t,n),e=e.sibling}var ou=null,su=!1;function uu(e,t,n){for(n=n.child;null!==n;)lu(e,t,n),n=n.sibling}function lu(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Ys||Gs(n,t);case 6:var r=ou,i=su;ou=null,uu(e,t,n),su=i,null!==(ou=r)&&(su?(e=ou,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ou.removeChild(n.stateNode));break;case 18:null!==ou&&(su?(e=ou,n=n.stateNode,8===e.nodeType?ii(e.parentNode,n):1===e.nodeType&&ii(e,n),qt(e)):ii(ou,n.stateNode));break;case 4:r=ou,i=su,ou=n.stateNode.containerInfo,su=!0,uu(e,t,n),ou=r,su=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Qs(n,t,o),i=i.next}while(i!==r)}uu(e,t,n);break;case 1:if(!Ys&&(Gs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){_l(n,t,s)}uu(e,t,n);break;case 21:uu(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,uu(e,t,n),Ys=r):uu(e,t,n);break;default:uu(e,t,n)}}function cu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ks),t.forEach((function(t){var r=Cl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:ou=u.stateNode,su=!1;break e;case 3:case 4:ou=u.stateNode.containerInfo,su=!0;break e}u=u.return}if(null===ou)throw Error(a(160));lu(o,s,i),ou=null,su=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){_l(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)du(t,e),t=t.sibling}function du(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fu(t,e),hu(e),4&r){try{Xs(3,e,e.return),Zs(3,e)}catch(m){_l(e,e.return,m)}try{Xs(5,e,e.return)}catch(m){_l(e,e.return,m)}}break;case 1:fu(t,e),hu(e),512&r&&null!==n&&Gs(n,n.return);break;case 5:if(fu(t,e),hu(e),512&r&&null!==n&&Gs(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){_l(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&J(i,o),ge(u,s);var c=ge(u,o);for(s=0;s<l.length;s+=2){var f=l[s],d=l[s+1];"style"===f?ve(i,d):"dangerouslySetInnerHTML"===f?ce(i,d):"children"===f?fe(i,d):b(i,f,d,c)}switch(u){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[li]=o}catch(m){_l(e,e.return,m)}}break;case 6:if(fu(t,e),hu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){_l(e,e.return,m)}}break;case 3:if(fu(t,e),hu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){_l(e,e.return,m)}break;case 4:default:fu(t,e),hu(e);break;case 13:fu(t,e),hu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Mu=Qe())),4&r&&cu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(c=Ys)||f,fu(t,e),Ys=c):fu(t,e),hu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for($s=e,f=e.child;null!==f;){for(d=$s=f;null!==$s;){switch(p=(h=$s).child,h.tag){case 0:case 11:case 14:case 15:Xs(4,h,h.return);break;case 1:Gs(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){_l(r,n,m)}}break;case 5:Gs(h,h.return);break;case 22:if(null!==h.memoizedState){yu(d);continue}}null!==p?(p.return=h,$s=p):yu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=d.stateNode,s=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=pe("display",s))}catch(m){_l(e,e.return,m)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){_l(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fu(t,e),hu(e),4&r&&cu(e);case 21:}}function hu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(nu(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),au(e,ru(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;iu(e,ru(e),o);break;default:throw Error(a(161))}}catch(s){_l(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function pu(e,t,n){$s=e,vu(e,t,n)}function vu(e,t,n){for(var r=0!==(1&e.mode);null!==$s;){var i=$s,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Vs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Ys;s=Vs;var l=Ys;if(Vs=o,(Ys=u)&&!l)for($s=i;null!==$s;)u=(o=$s).child,22===o.tag&&null!==o.memoizedState?gu(i):null!==u?(u.return=o,$s=u):gu(i);for(;null!==a;)$s=a,vu(a,t,n),a=a.sibling;$s=i,Vs=s,Ys=l}mu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$s=a):mu(e)}}function mu(e){for(;null!==$s;){var t=$s;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||Zs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:da(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Da(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Da(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&qt(d)}}}break;default:throw Error(a(163))}Ys||512&t.flags&&eu(t)}catch(h){_l(t,t.return,h)}}if(t===e){$s=null;break}if(null!==(n=t.sibling)){n.return=t.return,$s=n;break}$s=t.return}}function yu(e){for(;null!==$s;){var t=$s;if(t===e){$s=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$s=n;break}$s=t.return}}function gu(e){for(;null!==$s;){var t=$s;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zs(4,t)}catch(u){_l(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){_l(t,i,u)}}var a=t.return;try{eu(t)}catch(u){_l(t,a,u)}break;case 5:var o=t.return;try{eu(t)}catch(u){_l(t,o,u)}}}catch(u){_l(t,t.return,u)}if(t===e){$s=null;break}var s=t.sibling;if(null!==s){s.return=t.return,$s=s;break}$s=t.return}}var bu,_u=Math.ceil,ku=_.ReactCurrentDispatcher,wu=_.ReactCurrentOwner,xu=_.ReactCurrentBatchConfig,Cu=0,Su=null,Eu=null,Tu=0,Iu=0,Ou=_i(0),Nu=0,Pu=null,Ru=0,ju=0,Du=0,Lu=null,Au=null,Mu=0,Fu=1/0,Uu=null,zu=!1,qu=null,Wu=null,Bu=!1,Hu=null,Vu=0,Yu=0,Ku=null,$u=-1,Gu=0;function Qu(){return 0!==(6&Cu)?Qe():-1!==$u?$u:$u=Qe()}function Ju(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Tu?Tu&-Tu:null!==fa.transition?(0===Gu&&(Gu=pt()),Gu):0!==(e=gt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function Xu(e,t,n,r){if(50<Yu)throw Yu=0,Ku=null,Error(a(185));mt(e,n,r),0!==(2&Cu)&&e===Su||(e===Su&&(0===(2&Cu)&&(ju|=n),4===Nu&&rl(e,Tu)),Zu(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(Fu=Qe()+500,Li&&Fi()))}function Zu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-at(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ft(e,e===Su?Tu:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Li=!0,Mi(e)}(il.bind(null,e)):Mi(il.bind(null,e)),ni((function(){0===(6&Cu)&&Fi()})),n=null;else{switch(bt(r)){case 1:n=Xe;break;case 4:n=Ze;break;case 16:default:n=et;break;case 536870912:n=nt}n=Sl(n,el.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function el(e,t){if($u=-1,Gu=0,0!==(6&Cu))throw Error(a(327));var n=e.callbackNode;if(gl()&&e.callbackNode!==n)return null;var r=ft(e,e===Su?Tu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=dl(e,r);else{t=r;var i=Cu;Cu|=2;var o=cl();for(Su===e&&Tu===t||(Uu=null,Fu=Qe()+500,ul(e,t));;)try{pl();break}catch(u){ll(e,u)}ya(),ku.current=o,Cu=i,null!==Eu?t=0:(Su=null,Tu=0,t=Nu)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=tl(e,i))),1===t)throw n=Pu,ul(e,0),rl(e,r),Zu(e,Qe()),n;if(6===t)rl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!rr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=dl(e,r))&&(0!==(o=ht(e))&&(r=o,t=tl(e,o))),1===t))throw n=Pu,ul(e,0),rl(e,r),Zu(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:yl(e,Au,Uu);break;case 3:if(rl(e,r),(130023424&r)===r&&10<(t=Mu+500-Qe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Qu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Zr(yl.bind(null,e,Au,Uu),t);break}yl(e,Au,Uu);break;case 4:if(rl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_u(r/1960))-r)){e.timeoutHandle=Zr(yl.bind(null,e,Au,Uu),r);break}yl(e,Au,Uu);break;default:throw Error(a(329))}}}return Zu(e,Qe()),e.callbackNode===n?el.bind(null,e):null}function tl(e,t){var n=Lu;return e.current.memoizedState.isDehydrated&&(ul(e,t).flags|=256),2!==(e=dl(e,t))&&(t=Au,Au=n,null!==t&&nl(t)),e}function nl(e){null===Au?Au=e:Au.push.apply(Au,e)}function rl(e,t){for(t&=~Du,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function il(e){if(0!==(6&Cu))throw Error(a(327));gl();var t=ft(e,0);if(0===(1&t))return Zu(e,Qe()),null;var n=dl(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=tl(e,r))}if(1===n)throw n=Pu,ul(e,0),rl(e,t),Zu(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yl(e,Au,Uu),Zu(e,Qe()),null}function al(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(Fu=Qe()+500,Li&&Fi())}}function ol(e){null!==Hu&&0===Hu.tag&&0===(6&Cu)&&gl();var t=Cu;Cu|=1;var n=xu.transition,r=gt;try{if(xu.transition=null,gt=1,e)return e()}finally{gt=r,xu.transition=n,0===(6&(Cu=t))&&Fi()}}function sl(){Iu=Ou.current,ki(Ou)}function ul(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ei(n)),null!==Eu)for(n=Eu.return;null!==n;){var r=n;switch(Ji(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:eo(),ki(Si),ki(Ci),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:ki(ro);break;case 10:ga(r.type._context);break;case 22:case 23:sl()}n=n.return}if(Su=e,Eu=e=Ol(e.current,null),Tu=Iu=t,Nu=0,Pu=null,Du=ju=Ru=0,Au=Lu=null,null!==wa){for(t=0;t<wa.length;t++)if(null!==(r=(n=wa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}wa=null}return e}function ll(e,t){for(;;){var n=Eu;try{if(ya(),so.current=ns,po){for(var r=co.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(lo=0,ho=fo=co=null,vo=!1,mo=0,wu.current=null,null===n||null===n.return){Nu=1,Pu=t,Eu=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Tu,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=hs(s);if(null!==p){p.flags&=-257,ps(p,s,u,0,t),1&p.mode&&ds(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){ds(o,c,t),fl();break e}l=Error(a(426))}else if(ea&&1&u.mode){var y=hs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ps(y,s,u,0,t),ca(os(l,u));break e}}o=l=os(l,u),4!==Nu&&(Nu=2),null===Lu?Lu=[o]:Lu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ra(o,cs(0,l,t));break e;case 1:u=l;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wu||!Wu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ra(o,fs(o,u,t));break e}}o=o.return}while(null!==o)}ml(n)}catch(_){t=_,Eu===n&&null!==n&&(Eu=n=n.return);continue}break}}function cl(){var e=ku.current;return ku.current=ns,null===e?ns:e}function fl(){0!==Nu&&3!==Nu&&2!==Nu||(Nu=4),null===Su||0===(268435455&Ru)&&0===(268435455&ju)||rl(Su,Tu)}function dl(e,t){var n=Cu;Cu|=2;var r=cl();for(Su===e&&Tu===t||(Uu=null,ul(e,t));;)try{hl();break}catch(i){ll(e,i)}if(ya(),Cu=n,ku.current=r,null!==Eu)throw Error(a(261));return Su=null,Tu=0,Nu}function hl(){for(;null!==Eu;)vl(Eu)}function pl(){for(;null!==Eu&&!$e();)vl(Eu)}function vl(e){var t=bu(e.alternate,e,Iu);e.memoizedProps=e.pendingProps,null===t?ml(e):Eu=t,wu.current=null}function ml(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Bs(n,t,Iu)))return void(Eu=n)}else{if(null!==(n=Hs(n,t)))return n.flags&=32767,void(Eu=n);if(null===e)return Nu=6,void(Eu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Eu=t);Eu=t=e}while(null!==t);0===Nu&&(Nu=5)}function yl(e,t,n){var r=gt,i=xu.transition;try{xu.transition=null,gt=1,function(e,t,n,r){do{gl()}while(null!==Hu);if(0!==(6&Cu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Su&&(Eu=Su=null,Tu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Bu||(Bu=!0,Sl(et,(function(){return gl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=xu.transition,xu.transition=null;var s=gt;gt=1;var u=Cu;Cu|=4,wu.current=null,function(e,t){if(Qr=Bt,lr(e=ur())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(k){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==o||0!==r&&3!==d.nodeType||(l=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(u=s),h===o&&++f===r&&(l=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jr={focusedElem:e,selectionRange:n},Bt=!1,$s=t;null!==$s;)if(e=(t=$s).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$s=e;else for(;null!==$s;){t=$s;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:da(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(a(163))}}catch(k){_l(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,$s=e;break}$s=t.return}v=Js,Js=!1}(e,n),du(n,e),cr(Jr),Bt=!!Qr,Jr=Qr=null,e.current=n,pu(n,e,i),Ge(),Cu=u,gt=s,xu.transition=o}else e.current=n;if(Bu&&(Bu=!1,Hu=e,Vu=i),0===(o=e.pendingLanes)&&(Wu=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),Zu(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(zu)throw zu=!1,e=qu,qu=null,e;0!==(1&Vu)&&0!==e.tag&&gl(),0!==(1&(o=e.pendingLanes))?e===Ku?Yu++:(Yu=0,Ku=e):Yu=0,Fi()}(e,t,n,r)}finally{xu.transition=i,gt=r}return null}function gl(){if(null!==Hu){var e=bt(Vu),t=xu.transition,n=gt;try{if(xu.transition=null,gt=16>e?16:e,null===Hu)var r=!1;else{if(e=Hu,Hu=null,Vu=0,0!==(6&Cu))throw Error(a(331));var i=Cu;for(Cu|=4,$s=e.current;null!==$s;){var o=$s,s=o.child;if(0!==(16&$s.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for($s=c;null!==$s;){var f=$s;switch(f.tag){case 0:case 11:case 15:Xs(8,f,o)}var d=f.child;if(null!==d)d.return=f,$s=d;else for(;null!==$s;){var h=(f=$s).sibling,p=f.return;if(tu(f),f===c){$s=null;break}if(null!==h){h.return=p,$s=h;break}$s=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}$s=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,$s=s;else e:for(;null!==$s;){if(0!==(2048&(o=$s).flags))switch(o.tag){case 0:case 11:case 15:Xs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,$s=g;break e}$s=o.return}}var b=e.current;for($s=b;null!==$s;){var _=(s=$s).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,$s=_;else e:for(s=b;null!==$s;){if(0!==(2048&(u=$s).flags))try{switch(u.tag){case 0:case 11:case 15:Zs(9,u)}}catch(w){_l(u,u.return,w)}if(u===s){$s=null;break e}var k=u.sibling;if(null!==k){k.return=u.return,$s=k;break e}$s=u.return}}if(Cu=i,Fi(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(w){}r=!0}return r}finally{gt=n,xu.transition=t}}return!1}function bl(e,t,n){e=Na(e,t=cs(0,t=os(n,t),1),1),t=Qu(),null!==e&&(mt(e,1,t),Zu(e,t))}function _l(e,t,n){if(3===e.tag)bl(e,e,n);else for(;null!==t;){if(3===t.tag){bl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wu||!Wu.has(r))){t=Na(t,e=fs(t,e=os(n,e),1),1),e=Qu(),null!==t&&(mt(t,1,e),Zu(t,e));break}}t=t.return}}function kl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Qu(),e.pingedLanes|=e.suspendedLanes&n,Su===e&&(Tu&n)===n&&(4===Nu||3===Nu&&(130023424&Tu)===Tu&&500>Qe()-Mu?ul(e,0):Du|=n),Zu(e,t)}function wl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Qu();null!==(e=Sa(e,t))&&(mt(e,t,n),Zu(e,n))}function xl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),wl(e,n)}function Cl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),wl(e,n)}function Sl(e,t){return Ye(e,t)}function El(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tl(e,t,n,r){return new El(e,t,n,r)}function Il(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ol(e,t){var n=e.alternate;return null===n?((n=Tl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Il(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Pl(n.children,i,o,t);case C:s=8,i|=8;break;case S:return(e=Tl(12,n,t,2|i)).elementType=S,e.lanes=o,e;case O:return(e=Tl(13,n,t,i)).elementType=O,e.lanes=o,e;case N:return(e=Tl(19,n,t,i)).elementType=N,e.lanes=o,e;case j:return Rl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case T:s=9;break e;case I:s=11;break e;case P:s=14;break e;case R:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Tl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Pl(e,t,n,r){return(e=Tl(7,e,r,t)).lanes=n,e}function Rl(e,t,n,r){return(e=Tl(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function jl(e,t,n){return(e=Tl(6,e,null,t)).lanes=n,e}function Dl(e,t,n){return(t=Tl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ll(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Al(e,t,n,r,i,a,o,s,u){return e=new Ll(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Tl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ta(a),e}function Ml(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Fl(e){if(!e)return xi;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ii(n))return Pi(e,n,t)}return t}function Ul(e,t,n,r,i,a,o,s,u){return(e=Al(n,r,!0,e,0,a,0,s,u)).context=Fl(null),n=e.current,(a=Oa(r=Qu(),i=Ju(n))).callback=void 0!==t&&null!==t?t:null,Na(n,a,i),e.current.lanes=i,mt(e,i,r),Zu(e,r),e}function zl(e,t,n,r){var i=t.current,a=Qu(),o=Ju(i);return n=Fl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Na(i,t,o))&&(Xu(e,i,o,a),Pa(e,i,o)),o}function ql(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Bl(e,t){Wl(e,t),(e=e.alternate)&&Wl(e,t)}bu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Si.current)ms=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ms=!1,function(e,t,n){switch(t.tag){case 3:Es(t),la();break;case 5:to(t);break;case 1:Ii(t.type)&&Ri(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;wi(ha,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(wi(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(wi(ro,1&ro.current),null!==(e=zs(e,t,n))?e.sibling:null);wi(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Fs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),wi(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return zs(e,t,n)}(e,t,n);ms=0!==(131072&e.flags)}else ms=!1,ea&&0!==(1048576&t.flags)&&Gi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Us(e,t),e=t.pendingProps;var i=Ti(t,Ci.current);_a(t,n),i=_o(null,t,r,e,i,n);var o=ko();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(r)?(o=!0,Ri(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ta(t),i.updater=Ma,t.stateNode=i,i._reactInternals=t,qa(t,r,e,n),t=Ss(null,t,r,!0,o,n)):(t.tag=0,ea&&o&&Qi(t),ys(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Us(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Il(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=da(r,e),i){case 0:t=xs(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=gs(null,t,r,e,n);break e;case 14:t=bs(null,t,r,da(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:da(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:da(r,i),n);case 3:e:{if(Es(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ia(e,t),ja(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ts(e,t,r,n,i=os(Error(a(423)),t));break e}if(r!==i){t=Ts(e,t,r,n,i=os(Error(a(424)),t));break e}for(Zi=ai(t.stateNode.containerInfo.firstChild),Xi=t,ea=!0,ta=null,n=Ka(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(la(),r===i){t=zs(e,t,n);break e}ys(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&aa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Xr(r,i)?s=null:null!==o&&Xr(r,o)&&(t.flags|=32),ws(e,t),ys(e,t,s,n),t.child;case 6:return null===e&&aa(t),null;case 13:return js(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):ys(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,gs(e,t,r,i=t.elementType===r?i:da(r,i),n);case 7:return ys(e,t,t.pendingProps,n),t.child;case 8:case 12:return ys(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,wi(ha,r._currentValue),r._currentValue=s,null!==o)if(rr(o.value,s)){if(o.children===i.children&&!Si.current){t=zs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Oa(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ba(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),ba(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ys(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),r=r(i=ka(i)),t.flags|=1,ys(e,t,r,n),t.child;case 14:return i=da(r=t.type,t.pendingProps),bs(e,t,r,i=da(r.type,i),n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:da(r,i),Us(e,t),t.tag=1,Ii(r)?(e=!0,Ri(t)):e=!1,_a(t,n),Ua(t,r,i),qa(t,r,i,n),Ss(null,t,r,!0,e,n);case 19:return Fs(e,t,n);case 22:return ks(e,t,n)}throw Error(a(156,t.tag))};var Hl="function"===typeof reportError?reportError:function(e){console.error(e)};function Vl(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Kl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $l(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Gl(){}function Ql(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=ql(o);s.call(e)}}zl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=ql(o);a.call(e)}}var o=Ul(t,r,e,0,null,!1,0,"",Gl);return e._reactRootContainer=o,e[ci]=o.current,Fr(8===e.nodeType?e.parentNode:e),ol(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=ql(u);s.call(e)}}var u=Al(e,0,!1,null,0,!1,0,"",Gl);return e._reactRootContainer=u,e[ci]=u.current,Fr(8===e.nodeType?e.parentNode:e),ol((function(){zl(t,u,n,r)})),u}(n,t,e,i,r);return ql(o)}Yl.prototype.render=Vl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));zl(e,t,null,null)},Yl.prototype.unmount=Vl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ol((function(){zl(null,e,null,null)})),t[ci]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&At(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ct(t.pendingLanes);0!==n&&(yt(t,1|n),Zu(t,Qe()),0===(6&Cu)&&(Fu=Qe()+500,Fi()))}break;case 13:ol((function(){var t=Sa(e,1);if(null!==t){var n=Qu();Xu(t,e,1,n)}})),Bl(e,1)}},kt=function(e){if(13===e.tag){var t=Sa(e,134217728);if(null!==t)Xu(t,e,134217728,Qu());Bl(e,134217728)}},wt=function(e){if(13===e.tag){var t=Ju(e),n=Sa(e,t);if(null!==n)Xu(n,e,t,Qu());Bl(e,t)}},xt=function(){return gt},Ct=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},ke=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=yi(r);if(!i)throw Error(a(90));K(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=al,Ie=ol;var Jl={usingClientEntryPoint:!1,Events:[vi,mi,yi,Se,Ee,al]},Xl={findFiberByHostInstance:pi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Zl={bundleType:Xl.bundleType,version:Xl.version,rendererPackageName:Xl.rendererPackageName,rendererConfig:Xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:Xl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{rt=ec.inject(Zl),it=ec}catch(tc){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kl(t))throw Error(a(200));return Ml(e,t,null,n)},t.createRoot=function(e,t){if(!Kl(e))throw Error(a(299));var n=!1,r="",i=Hl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Al(e,1,!1,null,0,n,0,r,i),e[ci]=t.current,Fr(8===e.nodeType?e.parentNode:e),new Vl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return ol(e)},t.hydrate=function(e,t,n){if(!$l(t))throw Error(a(200));return Ql(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Kl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Hl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Ul(t,null,e,1,null!=n?n:null,i,0,o,s),e[ci]=t.current,Fr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!$l(t))throw Error(a(200));return Ql(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$l(e))throw Error(a(40));return!!e._reactRootContainer&&(ol((function(){Ql(null,null,e,!1,(function(){e._reactRootContainer=null,e[ci]=null}))})),!0)},t.unstable_batchedUpdates=al,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$l(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Ql(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var _=b.prototype=new g;_.constructor=b,v(_,y.prototype),_.isPureReactComponent=!0;var k=Array.isArray,w=Object.prototype.hasOwnProperty,x={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!C.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,k(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),O(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",k(e))for(var l=0;l<e.length;l++){var c=a+I(s=e[l],l);u+=O(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=O(s=s.value,t,i,c=a+I(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},j={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:j,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)w.call(t,l)&&!C.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>a(u,n))l<i&&0>a(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function k(e){if(m=!1,_(e),!v)if(null!==r(l))v=!0,j(w);else{var t=r(c);null!==t&&D(k,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=h;try{for(_(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!O());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var s=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(l)&&i(l),_(n)}else i(l);d=r(l)}if(null!==d)var u=!0;else{var f=r(c);null!==f&&D(k,f.startTime-n),u=!1}return u}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,C=!1,S=null,E=-1,T=5,I=-1;function O(){return!(t.unstable_now()-I<T)}function N(){if(null!==S){var e=t.unstable_now();I=e;var n=!0;try{n=S(!0,e)}finally{n?x():(C=!1,S=null)}}else C=!1}if("function"===typeof b)x=function(){b(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=N,x=function(){R.postMessage(null)}}else x=function(){y(N,0)};function j(e){S=e,C||(C=!0,x())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,j(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(g(E),E=-1):m=!0,D(k,a-o))):(e.sortIndex=s,n(l,e),v||p||(v=!0,j(w))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.nc=void 0,function(){"use strict";var e=n(250);function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,n){if(e){if("string"===typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a,o=n(791);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));var u=function(e){return e};var l="beforeunload",c="popstate";function f(e){e.preventDefault(),e.returnValue=""}function d(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function h(){return Math.random().toString(36).substr(2,8)}function p(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function v(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var m=(0,o.createContext)(null);var y=(0,o.createContext)(null);var g=(0,o.createContext)({outlet:null,matches:[]});function b(e,t){if(!e)throw new Error(t)}function _(e,t,n){void 0===n&&(n="/");var r=I(("string"===typeof t?v(t):t).pathname||"/",n);if(null==r)return null;var i=k(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=S(i[o],r);return a}function k(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||b(!1),a.relativePath=a.relativePath.slice(r.length));var o=O([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&b(!1),k(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:s})})),t}var w=/^:\w+$/,x=function(e){return"*"===e};function C(e,t){var n=e.split("/"),r=n.length;return n.some(x)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!x(e)})).reduce((function(e,t){return e+(w.test(t)?3:""===t?1:10)}),r)}function S(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=E({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var f=s.route;a.push({params:r,pathname:O([i,c.pathname]),pathnameBase:N(O([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=O([i,c.pathnameBase]))}return a}function E(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=i(n,2),a=r[0],o=r[1],s=t.match(a);if(!s)return null;var u=s[0],l=u.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";l=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(Tn){return e}}(c[n]||""),e}),{}),pathname:u,pathnameBase:l,pattern:e}}function T(e,t,n){var r,i="string"===typeof e?v(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?v(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:P(a),hash:R(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function I(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var O=function(e){return e.join("/").replace(/\/\/+/g,"/")},N=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},P=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},R=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function j(e){D()||b(!1);var t=(0,o.useContext)(m),n=t.basename,r=t.navigator,i=F(e),a=i.hash,s=i.pathname,u=i.search,l=s;if("/"!==n){var c=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?v(e).pathname:e.pathname}(e),f=null!=c&&c.endsWith("/");l="/"===s?n+(f?"/":""):O([n,s])}return r.createHref({pathname:l,search:u,hash:a})}function D(){return null!=(0,o.useContext)(y)}function L(){return D()||b(!1),(0,o.useContext)(y).location}function A(){D()||b(!1);var e=(0,o.useContext)(m),t=e.basename,n=e.navigator,r=(0,o.useContext)(g).matches,i=L().pathname,a=JSON.stringify(r.map((function(e){return e.pathnameBase}))),s=(0,o.useRef)(!1);return(0,o.useEffect)((function(){s.current=!0})),(0,o.useCallback)((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var o=T(e,JSON.parse(a),i);"/"!==t&&(o.pathname=O([t,o.pathname])),(r.replace?n.replace:n.push)(o,r.state)}else n.go(e)}),[t,n,a,i])}var M=(0,o.createContext)(null);function F(e){var t=(0,o.useContext)(g).matches,n=L().pathname,r=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,o.useMemo)((function(){return T(e,JSON.parse(r),n)}),[e,r,n])}function U(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,i){return(0,o.createElement)(g.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,i+1))}})}),null)}function z(e){return function(e){var t=(0,o.useContext)(g).outlet;return t?(0,o.createElement)(M.Provider,{value:e},t):t}(e.context)}function q(e){b(!1)}function W(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,i=void 0===r?null:r,s=e.location,u=e.navigationType,l=void 0===u?a.Pop:u,c=e.navigator,f=e.static,d=void 0!==f&&f;D()&&b(!1);var h=N(n),p=(0,o.useMemo)((function(){return{basename:h,navigator:c,static:d}}),[h,c,d]);"string"===typeof s&&(s=v(s));var g=s,_=g.pathname,k=void 0===_?"/":_,w=g.search,x=void 0===w?"":w,C=g.hash,S=void 0===C?"":C,E=g.state,T=void 0===E?null:E,O=g.key,P=void 0===O?"default":O,R=(0,o.useMemo)((function(){var e=I(k,h);return null==e?null:{pathname:e,search:x,hash:S,state:T,key:P}}),[h,k,x,S,T,P]);return null==R?null:(0,o.createElement)(m.Provider,{value:p},(0,o.createElement)(y.Provider,{children:i,value:{location:R,navigationType:l}}))}function B(e){var t=e.children,n=e.location;return function(e,t){D()||b(!1);var n,r=(0,o.useContext)(g).matches,i=r[r.length-1],a=i?i.params:{},s=(i&&i.pathname,i?i.pathnameBase:"/"),u=(i&&i.route,L());if(t){var l,c="string"===typeof t?v(t):t;"/"===s||(null==(l=c.pathname)?void 0:l.startsWith(s))||b(!1),n=c}else n=u;var f=n.pathname||"/",d=_(e,{pathname:"/"===s?f:f.slice(s.length)||"/"});return U(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:O([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:O([s,e.pathnameBase])})})),r)}(H(t),n)}function H(e){var t=[];return o.Children.forEach(e,(function(e){if((0,o.isValidElement)(e))if(e.type!==o.Fragment){e.type!==q&&b(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=H(e.props.children)),t.push(n)}else t.push.apply(t,H(e.props.children))})),t}function V(){return V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}function Y(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var K=["onClick","reloadDocument","replace","state","target","to"];function $(e){var t=e.basename,n=e.children,r=e.window,m=(0,o.useRef)();null==m.current&&(m.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,a=e.hash,o=r.state||{};return[o.idx,u({pathname:t,search:i,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;n.addEventListener(c,(function(){if(o)k.call(o),o=null;else{var e=a.Pop,t=i(),n=t[0],r=t[1];if(k.length){if(null!=n){var s=g-n;s&&(o={action:e,location:r,retry:function(){T(-1*s)}},T(s))}}else E(e)}}));var m=a.Pop,y=i(),g=y[0],b=y[1],_=d(),k=d();function w(e){return"string"===typeof e?e:p(e)}function x(e,t){return void 0===t&&(t=null),u(s({pathname:b.pathname,hash:"",search:""},"string"===typeof e?v(e):e,{state:t,key:h()}))}function C(e,t){return[{usr:e.state,key:e.key,idx:t},w(e)]}function S(e,t,n){return!k.length||(k.call({action:e,location:t,retry:n}),!1)}function E(e){m=e;var t=i();g=t[0],b=t[1],_.call({action:m,location:b})}function T(e){r.go(e)}null==g&&(g=0,r.replaceState(s({},r.state,{idx:g}),""));var I={get action(){return m},get location(){return b},createHref:w,push:function e(t,i){var o=a.Push,s=x(t,i);if(S(o,s,(function(){e(t,i)}))){var u=C(s,g+1),l=u[0],c=u[1];try{r.pushState(l,"",c)}catch(Tn){n.location.assign(c)}E(o)}},replace:function e(t,n){var i=a.Replace,o=x(t,n);if(S(i,o,(function(){e(t,n)}))){var s=C(o,g),u=s[0],l=s[1];r.replaceState(u,"",l),E(i)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return _.push(e)},block:function(e){var t=k.push(e);return 1===k.length&&n.addEventListener(l,f),function(){t(),k.length||n.removeEventListener(l,f)}}};return I}({window:r}));var y=m.current,g=i((0,o.useState)({action:y.action,location:y.location}),2),b=g[0],_=g[1];return(0,o.useLayoutEffect)((function(){return y.listen(_)}),[y]),(0,o.createElement)(W,{basename:t,children:n,location:b.location,navigationType:b.action,navigator:y})}var G=(0,o.forwardRef)((function(e,t){var n=e.onClick,r=e.reloadDocument,i=e.replace,a=void 0!==i&&i,s=e.state,u=e.target,l=e.to,c=Y(e,K),f=j(l),d=function(e,t){var n=void 0===t?{}:t,r=n.target,i=n.replace,a=n.state,s=A(),u=L(),l=F(e);return(0,o.useCallback)((function(t){if(0===t.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!i||p(u)===p(l);s(e,{replace:n,state:a})}}),[u,s,l,i,a,r,e])}(l,{replace:a,state:s,target:u});return(0,o.createElement)("a",V({},c,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||r||d(e)},ref:t,target:u}))}));function Q(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function X(){X=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(E){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=_(o,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=u;var c={};function f(){}function d(){}function h(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(C([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"==J(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=h,s(y,"constructor",h),s(h,"constructor",d),d.displayName=s(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(b.prototype),s(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),s(y,o,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}function Z(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(Tn){return void n(Tn)}s.done?t(u):Promise.resolve(u).then(r,i)}function ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Z(a,r,i,o,s,"next",e)}function s(e){Z(a,r,i,o,s,"throw",e)}o(void 0)}))}}function te(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t,n){return t&&ie(e.prototype,t),n&&ie(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e,t){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},se(e,t)}function ue(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}function le(e){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},le(e)}function ce(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function fe(e,t){if(t&&("object"===J(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return oe(e)}function de(e){var t=ce();return function(){var n,r=le(e);if(t){var i=le(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fe(this,n)}}function he(e,t,n){return he=ce()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&se(i,n.prototype),i},he.apply(null,arguments)}function pe(e){var t="function"===typeof Map?new Map:void 0;return pe=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return he(e,arguments,le(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),se(r,e)},pe(e)}var ve=!1,me=!1,ye="${JSCORE_VERSION}",ge=function(e,t){if(!e)throw be(t)},be=function(e){return new Error("Firebase Database ("+ye+") INTERNAL ASSERT FAILED: "+e)},_e=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,f=(3&a)<<4|s>>4,d=(15&s)<<2|l>>6,h=63&l;u||(h=64,o||(d=64)),r.push(n[c],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_e(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},we=function(e){var t=_e(e);return ke.encodeByteArray(t,!0)},xe=function(e){return we(e).replace(/\./g,"")},Ce=function(e){try{return ke.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Se(e){return Ee(void 0,e)}function Ee(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ee(e[n],t[n]));return e}var Te=function(){function e(){var t=this;re(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ae(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ie(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Oe(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ie())}function Ne(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Pe(){return!0===ve||!0===me}var Re=function(e){ue(n,e);var t=de(n);function n(e,r,i){var a;return re(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(oe(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(oe(a),je.prototype.create),a}return ae(n)}(pe(Error)),je=function(){function e(t,n,r){re(this,e),this.service=t,this.serviceName=n,this.errors=r}return ae(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?De(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Re(n,a,t);return o}}]),e}();function De(e,t){return e.replace(Le,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Le=/\{\$([^}]+)}/g;function Ae(e){return JSON.parse(e)}function Me(e){return JSON.stringify(e)}var Fe=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=Ae(Ce(a[0])||""),n=Ae(Ce(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function Ue(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ze(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function qe(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function We(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Be(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(He(s)&&He(u)){if(!Be(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function He(e){return null!==e&&"object"===typeof e}function Ve(e){for(var t=[],n=function(){var e=i(a[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,a=Object.entries(e);r<a.length;r++)n();return t.length?"&"+t.join("&"):""}function Ye(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=i(e.split("="),2),r=n[0],a=n[1];t[decodeURIComponent(r)]=decodeURIComponent(a)}})),t}function Ke(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var $e=function(){function e(){re(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return ae(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,l=this.chain_[0],c=this.chain_[1],f=this.chain_[2],d=this.chain_[3],h=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=d^c&(f^d),u=1518500249):(s=c^f^d,u=1859775393):p<60?(s=c&f|d&(c|f),u=2400959708):(s=c^f^d,u=3395469782);var v=(l<<5|l>>>27)+s+h+u+n[p]&4294967295;h=d,d=f,f=4294967295&(c<<30|c>>>2),c=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();var Ge=function(){function e(t,n){var r=this;re(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ae(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=te(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Qe),void 0===r.error&&(r.error=Qe),void 0===r.complete&&(r.complete=Qe);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Qe(){}function Je(e,t){return"".concat(e," failed: ").concat(t," argument ")}var Xe=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Ze(e){return e&&e._delegate?e._delegate:e}var et=function(){function e(t,n,r){re(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ae(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),tt="[DEFAULT]",nt=function(){function e(t,n){re(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ae(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Te;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:tt})}catch(l){}var t,n=te(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=i(t.value,2),a=r[0],o=r[1],s=this.normalizeInstanceIdentifier(a);try{var u=this.getOrInitializeService({instanceIdentifier:s});o.resolve(u)}catch(l){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ee(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Q(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Q(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),s=te(this.instancesDeferred.entries());try{for(s.s();!(a=s.n()).done;){var u=i(a.value,2),l=u[0],c=u[1],f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(o)}}catch(d){s.e(d)}finally{s.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=te(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===tt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt;return this.component?this.component.multipleInstances?e:tt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var rt,it,at=function(){function e(t){re(this,e),this.name=t,this.providers=new Map}return ae(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new nt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ot=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(it||(it={}));var st={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},ut=it.INFO,lt=(ne(rt={},it.DEBUG,"log"),ne(rt,it.VERBOSE,"log"),ne(rt,it.INFO,"info"),ne(rt,it.WARN,"warn"),ne(rt,it.ERROR,"error"),rt),ct=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=lt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ft=function(){function e(t){re(this,e),this.name=t,this._logLevel=ut,this._logHandler=ct,this._userLogHandler=null,ot.push(this)}return ae(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in it))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?st[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,it.DEBUG].concat(t)),this._logHandler.apply(this,[this,it.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,it.VERBOSE].concat(t)),this._logHandler.apply(this,[this,it.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,it.INFO].concat(t)),this._logHandler.apply(this,[this,it.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,it.WARN].concat(t)),this._logHandler.apply(this,[this,it.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,it.ERROR].concat(t)),this._logHandler.apply(this,[this,it.ERROR].concat(t))}}]),e}();function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pt,vt;var mt=new WeakMap,yt=new WeakMap,gt=new WeakMap,bt=new WeakMap,_t=new WeakMap;var kt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return yt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||gt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ct(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function wt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(vt||(vt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(St(this),n),Ct(mt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ct(e.apply(St(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[St(this),t].concat(r));return gt.set(a,t.sort?t.sort():[t]),Ct(a)}}function xt(e){return"function"===typeof e?wt(e):(e instanceof IDBTransaction&&function(e){if(!yt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));yt.set(e,t)}}(e),t=e,(pt||(pt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,kt):e);var t}function Ct(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ct(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&mt.set(t,e)})).catch((function(){})),_t.set(t,e),t}(e);if(bt.has(e))return bt.get(e);var t=xt(e);return t!==e&&(bt.set(e,t),_t.set(t,e)),t}var St=function(e){return _t.get(e)};var Et,Tt,It=["get","getKey","getAll","getAllKeys","count"],Ot=["put","add","delete","clear"],Nt=new Map;function Pt(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Nt.get(t))return Nt.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Ot.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||It.includes(n))){var a=function(){var e=ee(X().mark((function e(t){var a,o,s,u,l,c,f=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,l=new Array(u>1?u-1:0),c=1;c<u;c++)l[c-1]=f[c];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Nt.set(t,a),a}}}kt=function(e){return ht(ht({},e),{},{get:function(t,n,r){return Pt(t,n)||e.get(t,n,r)},has:function(t,n){return!!Pt(t,n)||e.has(t,n)}})}(kt);var Rt=function(){function e(t){re(this,e),this.container=t}return ae(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var jt="@firebase/app",Dt="0.7.26",Lt=new ft("@firebase/app"),At="[DEFAULT]",Mt=(ne(Et={},jt,"fire-core"),ne(Et,"@firebase/app-compat","fire-core-compat"),ne(Et,"@firebase/analytics","fire-analytics"),ne(Et,"@firebase/analytics-compat","fire-analytics-compat"),ne(Et,"@firebase/app-check","fire-app-check"),ne(Et,"@firebase/app-check-compat","fire-app-check-compat"),ne(Et,"@firebase/auth","fire-auth"),ne(Et,"@firebase/auth-compat","fire-auth-compat"),ne(Et,"@firebase/database","fire-rtdb"),ne(Et,"@firebase/database-compat","fire-rtdb-compat"),ne(Et,"@firebase/functions","fire-fn"),ne(Et,"@firebase/functions-compat","fire-fn-compat"),ne(Et,"@firebase/installations","fire-iid"),ne(Et,"@firebase/installations-compat","fire-iid-compat"),ne(Et,"@firebase/messaging","fire-fcm"),ne(Et,"@firebase/messaging-compat","fire-fcm-compat"),ne(Et,"@firebase/performance","fire-perf"),ne(Et,"@firebase/performance-compat","fire-perf-compat"),ne(Et,"@firebase/remote-config","fire-rc"),ne(Et,"@firebase/remote-config-compat","fire-rc-compat"),ne(Et,"@firebase/storage","fire-gcs"),ne(Et,"@firebase/storage-compat","fire-gcs-compat"),ne(Et,"@firebase/firestore","fire-fst"),ne(Et,"@firebase/firestore-compat","fire-fst-compat"),ne(Et,"fire-js","fire-js"),ne(Et,"firebase","fire-js-all"),Et),Ft=new Map,Ut=new Map;function zt(e,t){try{e.container.addComponent(t)}catch(n){Lt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function qt(e){var t=e.name;if(Ut.has(t))return Lt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ut.set(t,e);var n,r=te(Ft.values());try{for(r.s();!(n=r.n()).done;){zt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Wt(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Bt=(ne(Tt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ne(Tt,"bad-app-name","Illegal App name: '{$appName}"),ne(Tt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ne(Tt,"app-deleted","Firebase App named '{$appName}' already deleted"),ne(Tt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ne(Tt,"invalid-log-argument","First argument to `onLog` must be null or a function."),ne(Tt,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),ne(Tt,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),ne(Tt,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),ne(Tt,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Tt),Ht=new je("app","Firebase",Bt),Vt=function(){function e(t,n,r){var i=this;re(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new et("app",(function(){return i}),"PUBLIC"))}return ae(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ht.create("app-deleted",{appName:this._name})}}]),e}(),Yt="9.8.3";function Kt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=Ft.get(e);if(!t)throw Ht.create("no-app",{appName:e});return t}function $t(e,t,n){var r,i=null!==(r=Mt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Lt.warn(s.join(" "))}qt(new et("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Gt="firebase-heartbeat-store",Qt=null;function Jt(){return Qt||(Qt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Ct(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Ct(s.result),e.oldVersion,e.newVersion,Ct(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Gt)}}).catch((function(e){throw Ht.create("storage-open",{originalErrorMessage:e.message})}))),Qt}function Xt(e){return Zt.apply(this,arguments)}function Zt(){return Zt=ee(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Jt();case 3:return r=e.sent,e.abrupt("return",r.transaction(Gt).objectStore(Gt).get(nn(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Ht.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Zt.apply(this,arguments)}function en(e,t){return tn.apply(this,arguments)}function tn(){return tn=ee(X().mark((function e(t,n){var r,i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Jt();case 3:return i=e.sent,a=i.transaction(Gt,"readwrite"),o=a.objectStore(Gt),e.next=8,o.put(n,nn(t));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),Ht.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),tn.apply(this,arguments)}function nn(e){return"".concat(e.name,"!").concat(e.options.appId)}var rn=function(){function e(t){var n=this;re(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new un(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ae(e,[{key:"triggerHeartbeat",value:function(){var e=ee(X().mark((function e(){var t,n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=an(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ee(X().mark((function e(){var t,n,r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=an(),n=on(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=xe(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function an(){return(new Date).toISOString().substring(0,10)}function on(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=te(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ln(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ln(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var sn,un=function(){function e(t){re(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ae(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ee(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Tn){t(Tn)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ee(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Xt(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ee(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",en(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ee(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",en(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Q(r.heartbeats),Q(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ln(e){return xe(JSON.stringify({version:2,heartbeats:e})).length}sn="",qt(new et("platform-logger",(function(e){return new Rt(e)}),"PRIVATE")),qt(new et("heartbeat",(function(e){return new rn(e)}),"PRIVATE")),$t(jt,Dt,sn),$t(jt,Dt,"esm2017"),$t("fire-js","");$t("firebase","9.8.3","app");var cn="@firebase/database",fn="0.13.1",dn="";var hn=function(){function e(t){re(this,e),this.domStorage_=t,this.prefix_="firebase:"}return ae(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Me(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Ae(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),pn=function(){function e(){re(this,e),this.cache_={},this.isInMemoryStorage=!0}return ae(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Ue(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),vn=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new hn(t)}}catch(n){}return new pn},mn=vn("localStorage"),yn=vn("sessionStorage"),gn=new ft("@firebase/database"),bn=function(){var e=1;return function(){return e++}}(),_n=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,ge(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new $e;n.update(t);var r=n.digest();return ke.encodeByteArray(r)},kn=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Me(r):r,t+=" "}return t},wn=null,xn=!0,Cn=function(e,t){ge(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(gn.logLevel=it.VERBOSE,wn=gn.log.bind(gn),t&&yn.set("logging_enabled",!0)):"function"===typeof e?wn=e:(wn=null,yn.remove("logging_enabled"))},Sn=function(){if(!0===xn&&(xn=!1,null===wn&&!0===yn.get("logging_enabled")&&Cn(!0)),wn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=kn.apply(null,t);wn(r)}},En=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Sn.apply(void 0,[e].concat(n))}},Tn=function(){var e="FIREBASE INTERNAL ERROR: "+kn.apply(void 0,arguments);gn.error(e)},In=function(){var e="FIREBASE FATAL ERROR: ".concat(kn.apply(void 0,arguments));throw gn.error(e),new Error(e)},On=function(){var e="FIREBASE WARNING: "+kn.apply(void 0,arguments);gn.warn(e)},Nn=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Pn="[MIN_NAME]",Rn="[MAX_NAME]",jn=function(e,t){if(e===t)return 0;if(e===Pn||t===Rn)return-1;if(t===Pn||e===Rn)return 1;var n=Bn(e),r=Bn(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Dn=function(e,t){return e===t?0:e<t?-1:1},Ln=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Me(t))},An=function e(t){if("object"!==typeof t||null===t)return Me(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Me(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},Mn=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Fn(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Un=function(e){ge(!Nn(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),l="";for(a=0;a<64;a+=8){var c=parseInt(u.substr(a,8),2).toString(16);1===c.length&&(c="0"+c),l+=c}return l.toLowerCase()};var zn=new RegExp("^-?(0*)\\d{1,10}$"),qn=-2147483648,Wn=2147483647,Bn=function(e){if(zn.test(e)){var t=Number(e);if(t>=qn&&t<=Wn)return t}return null},Hn=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw On("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Vn=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},Yn=function(){function e(t,n){var r=this;re(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return ae(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){On('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),Kn=function(){function e(t,n,r){var i=this;re(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return ae(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(Sn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',On(e)}}]),e}(),$n=function(){function e(t){re(this,e),this.accessToken=t}return ae(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();$n.OWNER="owner";var Gn="5",Qn=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Jn="websocket",Xn="long_polling",Zn=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];re(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=mn.get("host:"+t)||this._host}return ae(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&mn.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function er(e,t,n){var r;if(ge("string"===typeof t,"typeof type must == string"),ge("object"===typeof n,"typeof params must == object"),t===Jn)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Xn)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return Fn(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var tr=function(){function e(){re(this,e),this.counters_={}}return ae(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Ue(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Se(this.counters_)}}]),e}(),nr={},rr={};function ir(e){var t=e.toString();return nr[t]||(nr[t]=new tr),nr[t]}var ar=function(){function e(t){re(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return ae(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&Hn((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),or="start",sr="close",ur=function(){function e(t,n,r,i,a,o,s){var u=this;re(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=En(t),this.stats_=ir(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),er(n,Xn,e)}}return ae(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ar(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Pe()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new lr((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===or)n.id=a,n.password=o;else{if(i!==sr)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=Gn,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&Qn.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Me(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=we(t),r=Mn(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Pe()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Me(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Pe()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),lr=function(){function e(t,n,r,i){if(re(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Pe())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=bn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){Sn("frame writing exception"),s.stack&&Sn(s.stack),Sn(s)}}}return ae(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Pe()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){Sn("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Sn("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),cr=null;"undefined"!==typeof MozWebSocket?cr=MozWebSocket:"undefined"!==typeof WebSocket&&(cr=WebSocket);var fr=function(){function e(t,n,r,i,a,o,s){re(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=En(this.connId),this.stats_=ir(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return ae(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,mn.set("previous_websocket_failure",!0);try{if(Pe()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/".concat(Gn,"/").concat(dn,"/").concat(process.platform,"/").concat(r),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/tasks-management",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(i.proxy={origin:o})}this.mySock=new cr(this.connURL,[],undefined)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){mn.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Ae(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(ge(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Me(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Mn(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=Gn,!Pe()&&"undefined"!==typeof location&&location.hostname&&Qn.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),er(e,Jn,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==cr&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return mn.isInMemoryStorage||!0===mn.get("previous_websocket_failure")}}]),e}();fr.responsesRequiredToBeHealthy=2,fr.healthyTimeout=3e4;var dr=function(){function e(t){re(this,e),this.initTransports_(t)}return ae(e,[{key:"initTransports_",value:function(t){var n=fr&&fr.isAvailable(),r=n&&!fr.previouslyFailed();if(t.webSocketOnly&&(n||On("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[fr];else{var i,a=this.transports_=[],o=te(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[ur,fr]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();dr.globalTransportInitialized_=!1;var hr=function(){function e(t,n,r,i,a,o,s,u,l,c){re(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=En("c:"+this.id+":"),this.transportManager_=new dr(n),this.log_("Connection created"),this.start_()}return ae(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Vn((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=Ln("t",e),n=Ln("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=Ln("t",e),n=Ln("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=Ln("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Tn("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Tn("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Gn!==n&&On("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Vn((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vn((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(mn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),pr=function(){function e(){re(this,e)}return ae(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),vr=function(){function e(t){re(this,e),this.allowedEvents_=t,this.listeners_={},ge(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return ae(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=Q(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){ge(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),mr=function(e){ue(n,e);var t=de(n);function n(){var e;return re(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Oe()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return ae(n,[{key:"getInitialEvent",value:function(e){return ge("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(vr),yr=function(){function e(t,n){if(re(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return ae(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function gr(){return new yr("")}function br(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function _r(e){return e.pieces_.length-e.pieceNum_}function kr(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new yr(e.pieces_,t)}function wr(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function xr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Cr(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new yr(t,0)}function Sr(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof yr)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new yr(n,0)}function Er(e){return e.pieceNum_>=e.pieces_.length}function Tr(e,t){var n=br(e),r=br(t);if(null===n)return t;if(n===r)return Tr(kr(e),kr(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ir(e,t){for(var n=xr(e,0),r=xr(t,0),i=0;i<n.length&&i<r.length;i++){var a=jn(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function Or(e,t){if(_r(e)!==_r(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Nr(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(_r(e)>_r(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Pr=ae((function e(t,n){re(this,e),this.errorPrefix_=n,this.parts_=xr(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Xe(this.parts_[r]);Rr(this)}));function Rr(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+jr(e))}function jr(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Dr=function(e){ue(n,e);var t=de(n);function n(){var e,r,i;return re(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return ae(n,[{key:"getInitialEvent",value:function(e){return ge("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(vr),Lr=1e3,Ar=function(e){ue(n,e);var t=de(n);function n(e,r,i,a,o,s,u,l){var c;if(re(this,n),(c=t.call(this)).repoInfo_=e,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=a,c.onServerInfoUpdate_=o,c.authTokenProvider_=s,c.appCheckTokenProvider_=u,c.authOverride_=l,c.id=n.nextPersistentConnectionId_++,c.log_=En("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingGets_=[],c.outstandingPutCount_=0,c.outstandingGetCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=Lr,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.appCheckToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.invalidAppCheckTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,l&&!Pe())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Dr.getInstance().on("visible",c.onVisible_,oe(c)),-1===e.host.indexOf("fblocal")&&mr.getInstance().on("online",c.onOnline_,oe(c)),c}return ae(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Me(i)),ge(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){var t=this;this.initConnection_();var n=new Te,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ge(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=Fe(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=Fe(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),ge(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Me(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Tn("Unrecognized action received from server: "+Me(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;ge(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Lr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Lr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Lr),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=ee(X().mark((function e(){var t,r,a,o,s,u,l,c,f,d,h,p,v,m,y=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+n.nextConnectionId_++,s=this.lastSessionId,u=!1,l=null,c=function(){l?l.close():(u=!0,a())},f=function(e){ge(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)},this.realtime_={close:c,sendRequest:f},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);case 19:h=e.sent,p=i(h,2),v=p[0],m=p[1],u?Sn("getToken() completed but was canceled"):(Sn("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,l=new hr(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,a,(function(e){On(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),s)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),u||(this.repoInfo_.nodeAdmin&&On(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){Sn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){Sn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],qe(this.interruptReasons_)&&(this.reconnectDelay_=Lr,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return An(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new yr(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){Sn("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){Sn("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=te(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=te(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Pe()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+dn.replace(/\./g,"-")]=1,Oe()?e["framework.cordova"]=1:Ne()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=mr.getInstance().currentlyOnline();return qe(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Ue(e,"w")){var n=ze(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();On("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(pr);Ar.nextPersistentConnectionId_=0,Ar.nextConnectionId_=0;var Mr,Fr=function(){function e(t,n){re(this,e),this.name=t,this.node=n}return ae(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),Ur=function(){function e(){re(this,e)}return ae(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Fr(Pn,e),r=new Fr(Pn,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Fr.MIN}}]),e}(),zr=function(e){ue(n,e);var t=de(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n,[{key:"compare",value:function(e,t){return jn(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw be("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Fr.MIN}},{key:"maxPost",value:function(){return new Fr(Rn,Mr)}},{key:"makePost",value:function(e,t){return ge("string"===typeof e,"KeyIndex indexValue must always be a string."),new Fr(e,Mr)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Mr},set:function(e){Mr=e}}]),n}(Ur),qr=new zr,Wr=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;re(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return ae(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),Br=function(){function e(t,n,r,i,a){re(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Yr.EMPTY_NODE,this.right=null!=a?a:Yr.EMPTY_NODE}return ae(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return Yr.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Yr.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();Br.RED=!0,Br.BLACK=!1;var Hr,Vr=function(){function e(){re(this,e)}return ae(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Br(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),Yr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;re(this,e),this.comparator_=t,this.root_=n}return ae(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Br.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Br.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Wr(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Wr(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Wr(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Wr(this.root_,null,this.comparator_,!0,e)}}]),e}();function Kr(e,t){return jn(e.name,t.name)}function $r(e,t){return jn(e,t)}Yr.EMPTY_NODE=new Vr;var Gr,Qr,Jr,Xr=function(e){return"number"===typeof e?"number:"+Un(e):"string:"+e},Zr=function(e){if(e.isLeafNode()){var t=e.val();ge("string"===typeof t||"number"===typeof t||"object"===typeof t&&Ue(t,".sv"),"Priority must be a string or number.")}else ge(e===Hr||e.isEmpty(),"priority of unexpected type.");ge(e===Hr||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ei=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;re(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,ge(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Zr(this.priorityNode_)}return ae(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Er(t)?this:".priority"===br(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=br(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(ge(".priority"!==r||1===_r(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(kr(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Xr(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Un(this.value_):this.value_,this.lazyHash_=_n(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(ge(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return ge(i>=0,"Unknown leaf type: "+n),ge(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return Gr},set:function(e){Gr=e}}]),e}();ei.VALUE_TYPE_ORDER=["object","boolean","number","string"];var ti,ni,ri=function(e){ue(n,e);var t=de(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?jn(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Fr.MIN}},{key:"maxPost",value:function(){return new Fr(Rn,new ei("[PRIORITY-POST]",Jr))}},{key:"makePost",value:function(e,t){var n=Qr(e);return new Fr(t,new ei("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(Ur),ii=new ri,ai=Math.log(2),oi=function(){function e(t){re(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/ai,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return ae(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),si=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new Br(o,a.node,Br.BLACK,null,null);var u=parseInt(s/2,10)+r,l=t(r,u),c=t(u+1,i);return a=e[u],o=n?n(a):a,new Br(o,a.node,Br.BLACK,l,c)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var l=i(a+1,s),c=e[a],f=n?n(c):c;u(new Br(f,c.node,r,null,l))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},l=0;l<t.count;++l){var c=t.nextBitIsOne(),f=Math.pow(2,t.count-(l+1));c?s(f,Br.BLACK):(s(f,Br.BLACK),s(f,Br.RED))}return a}(new oi(e.length));return new Yr(r||t,a)},ui={},li=function(){function e(t,n){re(this,e),this.indexes_=t,this.indexSet_=n}return ae(e,[{key:"get",value:function(e){var t=ze(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Yr?t:null}},{key:"hasIndex",value:function(e){return Ue(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){ge(t!==qr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Fr.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?si(i,t.getCompare()):ui;var u=t.toString(),l=Object.assign({},this.indexSet_);l[u]=t;var c=Object.assign({},this.indexes_);return c[u]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(We(this.indexes_,(function(e,i){var a=ze(r.indexSet_,i);if(ge(a,"Missing index implementation for "+i),e===ui){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(Fr.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),si(o,a.getCompare())}return ui}var l=n.get(t.name),c=e;return l&&(c=c.remove(new Fr(t.name,l))),c.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(We(this.indexes_,(function(e){if(e===ui)return e;var r=n.get(t.name);return r?e.remove(new Fr(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return ge(ui&&ii,"ChildrenNode.ts has not been loaded"),ti=ti||new e({".priority":ui},{".priority":ii})}}]),e}(),ci=function(){function e(t,n,r){re(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Zr(this.priorityNode_),this.children_.isEmpty()&&ge(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return ae(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||ni}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?ni:t}},{key:"getChild",value:function(e){var t=br(e);return null===t?this:this.getImmediateChild(t).getChild(kr(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(ge(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Fr(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?ni:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=br(e);if(null===n)return t;ge(".priority"!==br(e)||1===_r(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(kr(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(ii,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Xr(this.getPriority().val())+":"),this.forEachChild(ii,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":_n(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Fr(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Fr(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Fr(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Fr.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Fr.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===fi?-1:0}},{key:"withIndex",value:function(t){if(t===qr||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===qr||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(ii),r=t.getIterator(ii),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===qr?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return ni||(ni=new e(new Yr($r),null,li.Default))}}]),e}();ci.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var fi=new(function(e){ue(n,e);var t=de(n);function n(){return re(this,n),t.call(this,new Yr($r),ci.EMPTY_NODE,li.Default)}return ae(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return ci.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(ci));Object.defineProperties(Fr,{MIN:{value:new Fr(Pn,ci.EMPTY_NODE)},MAX:{value:new Fr(Rn,fi)}}),zr.__EMPTY_NODE=ci.EMPTY_NODE,ei.__childrenNodeConstructor=ci,Hr=fi,function(e){Jr=e}(fi);function di(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return ci.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),ge(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new ei(n,di(t))}if(e instanceof Array){var r=ci.EMPTY_NODE;return Fn(e,(function(t,n){if(Ue(e,t)&&"."!==t.substring(0,1)){var i=di(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(di(t))}var i=[],a=!1,o=e;if(Fn(o,(function(e,t){if("."!==e.substring(0,1)){var n=di(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new Fr(e,n)))}})),0===i.length)return ci.EMPTY_NODE;var s=si(i,Kr,(function(e){return e.name}),$r);if(a){var u=si(i,ii.getCompare());return new ci(s,di(t),new li({".priority":u},{".priority":ii}))}return new ci(s,di(t),li.Default)}!function(e){Qr=e}(di);var hi=function(e){ue(n,e);var t=de(n);function n(e){var r;return re(this,n),(r=t.call(this)).indexPath_=e,ge(!Er(e)&&".priority"!==br(e),"Can't create PathIndex with empty path or .priority key"),r}return ae(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?jn(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=di(e),r=ci.EMPTY_NODE.updateChild(this.indexPath_,n);return new Fr(t,r)}},{key:"maxPost",value:function(){var e=ci.EMPTY_NODE.updateChild(this.indexPath_,fi);return new Fr(Rn,e)}},{key:"toString",value:function(){return xr(this.indexPath_,0).join("/")}}]),n}(Ur),pi=function(e){ue(n,e);var t=de(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?jn(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Fr.MIN}},{key:"maxPost",value:function(){return Fr.MAX}},{key:"makePost",value:function(e,t){var n=di(e);return new Fr(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(Ur),vi=new pi,mi="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){var e=0,t=[]}();function yi(e){return{type:"value",snapshotNode:e}}function gi(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function bi(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function _i(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var ki=function(){function e(t){re(this,e),this.index_=t}return ae(e,[{key:"updateChild",value:function(e,t,n,r,i,a){ge(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(bi(t,o)):ge(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(gi(t,n)):a.trackChildChange(_i(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ii,(function(e,r){t.hasChild(e)||n.trackChildChange(bi(e,r))})),t.isLeafNode()||t.forEachChild(ii,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(_i(t,r,i))}else n.trackChildChange(gi(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?ci.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),wi=function(){function e(t){re(this,e),this.indexedFilter_=new ki(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return ae(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new Fr(t,n))||(n=ci.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=ci.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(ci.EMPTY_NODE);var i=this;return t.forEachChild(ii,(function(e,t){i.matches(new Fr(e,t))||(r=r.updateImmediateChild(e,ci.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),xi=function(){function e(t){re(this,e),this.rangedFilter_=new wi(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return ae(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new Fr(t,n))||(n=ci.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=ci.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=ci.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var s,u,l,c;if(r=(r=t.withIndex(this.index_)).updatePriority(ci.EMPTY_NODE),this.reverse_){c=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();l=function(e,t){return f(t,e)}}else c=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();for(var d=0,h=!1;c.hasNext();){var p=c.getNext();!h&&l(s,p)<=0&&(h=!0),h&&d<this.limit_&&l(p,u)<=0?d++:r=r.updateImmediateChild(p.name,ci.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;ge(s.numChildren()===this.limit_,"");var u=new Fr(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||s.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var h=null==d?1:a(d,u);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(_i(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(bi(t,f));var p=s.updateImmediateChild(t,ci.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(gi(d.name,d.node)),p.updateImmediateChild(d.name,d.node)):p}return n.isEmpty()?e:c&&a(l,u)>=0?(null!=i&&(i.trackChildChange(bi(l.name,l.node)),i.trackChildChange(gi(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,ci.EMPTY_NODE)):e}}]),e}(),Ci=function(){function e(){re(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ii}return ae(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return ge(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return ge(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Pn}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return ge(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return ge(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Rn}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return ge(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===ii}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Si(e){var t,n={};return e.isDefault()||(e.index_===ii?t="$priority":e.index_===vi?t="$value":e.index_===qr?t="$key":(ge(e.index_ instanceof hi,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Me(t),e.startSet_&&(n.startAt=Me(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Me(e.indexStartName_))),e.endSet_&&(n.endAt=Me(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Me(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Ei(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ii&&(t.i=e.index_.toString()),t}var Ti=function(e){ue(n,e);var t=de(n);function n(e,r,i,a){var o;return re(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=En("p:rest:"),o.listens_={},o}return ae(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var l=Si(e._queryParams);this.restRequest_(o+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),ze(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Si(e._queryParams),r=e._path.toString(),i=new Te;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(a){var o=i(a,2),s=o[0],u=o[1];s&&s.accessToken&&(n.auth=s.accessToken),u&&u.token&&(n.ac=u.token);var l=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Ve(n);t.log_("Sending REST request for "+l);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=Ae(c.responseText)}catch(n){On("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&On("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(ge(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(pr),Ii=function(){function e(){re(this,e),this.rootNode_=ci.EMPTY_NODE}return ae(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Oi(){return{value:null,children:new Map}}function Ni(e,t,n){if(Er(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=br(t);e.children.has(r)||e.children.set(r,Oi()),Ni(e.children.get(r),t=kr(t),n)}}function Pi(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Pi(r,new yr(t.toString()+"/"+e),n)}))}var Ri,ji=function(){function e(t){re(this,e),this.collection_=t,this.last_=null}return ae(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Fn(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Di=function(){function e(t,n){re(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new ji(t);var r=1e4+2e4*Math.random();Vn(this.reportStats_.bind(this),Math.floor(r))}return ae(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;Fn(t,(function(t,i){i>0&&Ue(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),Vn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Li(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ri||(Ri={}));var Ai,Mi=function(){function e(t,n,r){re(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Ri.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return ae(e,[{key:"operationForChild",value:function(t){if(Er(this.path)){if(null!=this.affectedTree.value)return ge(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new yr(t));return new e(gr(),n,this.revert)}return ge(br(this.path)===t,"operationForChild called for unrelated child."),new e(kr(this.path),this.affectedTree,this.revert)}}]),e}(),Fi=function(){function e(t,n){re(this,e),this.source=t,this.path=n,this.type=Ri.LISTEN_COMPLETE}return ae(e,[{key:"operationForChild",value:function(t){return Er(this.path)?new e(this.source,gr()):new e(this.source,kr(this.path))}}]),e}(),Ui=function(){function e(t,n,r){re(this,e),this.source=t,this.path=n,this.snap=r,this.type=Ri.OVERWRITE}return ae(e,[{key:"operationForChild",value:function(t){return Er(this.path)?new e(this.source,gr(),this.snap.getImmediateChild(t)):new e(this.source,kr(this.path),this.snap)}}]),e}(),zi=function(){function e(t,n,r){re(this,e),this.source=t,this.path=n,this.children=r,this.type=Ri.MERGE}return ae(e,[{key:"operationForChild",value:function(t){if(Er(this.path)){var n=this.children.subtree(new yr(t));return n.isEmpty()?null:n.value?new Ui(this.source,gr(),n.value):new e(this.source,gr(),n)}return ge(br(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,kr(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),qi=function(){function e(t,n,r){re(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return ae(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Er(e))return this.isFullyInitialized()&&!this.filtered_;var t=br(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),Wi=ae((function e(t){re(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function Bi(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw be("Should only compare child_ events.");var r=new Fr(t.childName,t.snapshotNode),i=new Fr(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Hi(e,t){return{eventCache:e,serverCache:t}}function Vi(e,t,n,r){return Hi(new qi(t,n,r),e.serverCache)}function Yi(e,t,n,r){return Hi(e.eventCache,new qi(t,n,r))}function Ki(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function $i(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Gi=function(){return Ai||(Ai=new Yr(Dn)),Ai},Qi=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gi();re(this,e),this.value=t,this.children=n}return ae(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:gr(),value:this.value};if(Er(e))return null;var n=br(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(kr(e),t);return null!=i?{path:Sr(new yr(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Er(t))return this;var n=br(t),r=this.children.get(n);return null!==r?r.subtree(kr(t)):new e(null)}},{key:"set",value:function(t,n){if(Er(t))return new e(n,this.children);var r=br(t),i=(this.children.get(r)||new e(null)).set(kr(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Er(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=br(t),r=this.children.get(n);if(r){var i,a=r.remove(kr(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Er(e))return this.value;var t=br(e),n=this.children.get(t);return n?n.get(kr(e)):null}},{key:"setTree",value:function(t,n){if(Er(t))return n;var r,i=br(t),a=(this.children.get(i)||new e(null)).setTree(kr(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(gr(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Sr(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,gr(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Er(e))return null;var i=br(e),a=this.children.get(i);return a?a.findOnPath_(kr(e),Sr(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,gr(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Er(t))return this;this.value&&r(n,this.value);var i=br(t),a=this.children.get(i);return a?a.foreachOnPath_(kr(t),Sr(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(gr(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Sr(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return Fn(t,(function(e,t){n=n.set(new yr(e),t)})),n}}]),e}(),Ji=function(){function e(t){re(this,e),this.writeTree_=t}return ae(e,null,[{key:"empty",value:function(){return new e(new Qi(null))}}]),e}();function Xi(e,t,n){if(Er(t))return new Ji(new Qi(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Tr(i,t);return a=a.updateChild(o,n),new Ji(e.writeTree_.set(i,a))}var s=new Qi(n),u=e.writeTree_.setTree(t,s);return new Ji(u)}function Zi(e,t,n){var r=e;return Fn(n,(function(e,n){r=Xi(r,Sr(t,e),n)})),r}function ea(e,t){if(Er(t))return Ji.empty();var n=e.writeTree_.setTree(t,new Qi(null));return new Ji(n)}function ta(e,t){return null!=na(e,t)}function na(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Tr(n.path,t)):null}function ra(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ii,(function(e,n){t.push(new Fr(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Fr(e,n.value))})),t}function ia(e,t){if(Er(t))return e;var n=na(e,t);return new Ji(null!=n?new Qi(n):e.writeTree_.subtree(t))}function aa(e){return e.writeTree_.isEmpty()}function oa(e,t){return sa(gr(),e.writeTree_,t)}function sa(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(ge(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=sa(Sr(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Sr(e,".priority"),r)),n}function ua(e,t){return wa(t,e)}function la(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function ca(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));ge(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&fa(s,r.path)?i=!1:Nr(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=ha(e.allWrites,da,gr()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=ea(e.visibleWrites,r.path):Fn(r.children,(function(t){e.visibleWrites=ea(e.visibleWrites,Sr(r.path,t))}));return!0}return!1}function fa(e,t){if(e.snap)return Nr(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Nr(Sr(e.path,n),t))return!0;return!1}function da(e){return e.visible}function ha(e,t,n){for(var r=Ji.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)Nr(n,o)?r=Xi(r,s=Tr(n,o),a.snap):Nr(o,n)&&(s=Tr(o,n),r=Xi(r,gr(),a.snap.getChild(s)));else{if(!a.children)throw be("WriteRecord should have .snap or .children");if(Nr(n,o))r=Zi(r,s=Tr(n,o),a.children);else if(Nr(o,n))if(Er(s=Tr(o,n)))r=Zi(r,gr(),a.children);else{var u=ze(a.children,br(s));if(u){var l=u.getChild(kr(s));r=Xi(r,gr(),l)}}}}}return r}function pa(e,t,n,r,i){if(r||i){var a=ia(e.visibleWrites,t);if(!i&&aa(a))return n;if(i||null!=n||ta(a,gr())){return oa(ha(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Nr(e.path,t)||Nr(t,e.path))}),t),n||ci.EMPTY_NODE)}return null}var o=na(e.visibleWrites,t);if(null!=o)return o;var s=ia(e.visibleWrites,t);return aa(s)?n:null!=n||ta(s,gr())?oa(s,n||ci.EMPTY_NODE):null}function va(e,t,n,r){return pa(e.writeTree,e.treePath,t,n,r)}function ma(e,t){return function(e,t,n){var r=ci.EMPTY_NODE,i=na(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ii,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=ia(e.visibleWrites,t);return n.forEachChild(ii,(function(e,t){var n=oa(ia(a,new yr(e)),t);r=r.updateImmediateChild(e,n)})),ra(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return ra(ia(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function ya(e,t,n,r){return function(e,t,n,r,i){ge(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Sr(t,n);if(ta(e.visibleWrites,a))return null;var o=ia(e.visibleWrites,a);return aa(o)?i.getChild(n):oa(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function ga(e,t){return function(e,t){return na(e.visibleWrites,t)}(e.writeTree,Sr(e.treePath,t))}function ba(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=ia(e.visibleWrites,t),l=na(u,gr());if(null!=l)s=l;else{if(null==n)return[];s=oa(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],f=o.getCompare(),d=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),h=d.getNext();h&&c.length<i;)0!==f(h,r)&&c.push(h),h=d.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function _a(e,t,n){return function(e,t,n,r){var i=Sr(t,n),a=na(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?oa(ia(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function ka(e,t){return wa(Sr(e.treePath,t),e.writeTree)}function wa(e,t){return{treePath:e,writeTree:t}}var xa=function(){function e(){re(this,e),this.changeMap=new Map}return ae(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;ge("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),ge(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,_i(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,bi(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,gi(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw be("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,_i(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Ca=new(function(){function e(){re(this,e)}return ae(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Sa=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;re(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return ae(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new qi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _a(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:$i(this.viewCache_),i=ba(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Ea(e,t,n,r,i){var a,o,s=new xa;if(n.type===Ri.OVERWRITE){var u=n;u.source.fromUser?a=Oa(e,t,u.path,u.snap,r,i,s):(ge(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!Er(u.path),a=Ia(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===Ri.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var l=Sr(n,r);Na(t,br(l))&&(s=Oa(e,s,l,u,i,a,o))})),r.foreach((function(r,u){var l=Sr(n,r);Na(t,br(l))||(s=Oa(e,s,l,u,i,a,o))})),s}(e,t,l.path,l.children,r,i,s):(ge(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=Ra(e,t,l.path,l.children,r,i,o,s))}else if(n.type===Ri.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=ga(r,n))return t;var s,u=new Sa(r,t,i),l=t.eventCache.getNode();if(Er(n)||".priority"===br(n)){var c;if(t.serverCache.isFullyInitialized())c=va(r,$i(t));else{var f=t.serverCache.getNode();ge(f instanceof ci,"serverChildren would be complete if leaf node"),c=ma(r,f)}s=e.filter.updateFullNode(l,c,a)}else{var d=br(n),h=_a(r,d,t.serverCache);null==h&&t.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),(s=null!=h?e.filter.updateChild(l,d,h,kr(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(l,d,ci.EMPTY_NODE,kr(n),u,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=va(r,$i(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=ga(r,gr()),Vi(t,s,o,e.filter.filtersNodes())}(e,t,c.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=ga(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Er(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Ia(e,t,n,u.getNode().getChild(n),i,a,s,o);if(Er(n)){var l=new Qi(null);return u.getNode().forEachChild(qr,(function(e,t){l=l.set(new yr(e),t)})),Ra(e,t,n,l,i,a,s,o)}return t}var c=new Qi(null);return r.foreach((function(e,t){var r=Sr(n,e);u.isCompleteForPath(r)&&(c=c.set(e,u.getNode().getChild(r)))})),Ra(e,t,n,c,i,a,s,o)}(e,t,c.path,c.affectedTree,r,i,s)}else{if(n.type!==Ri.LISTEN_COMPLETE)throw be("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=Yi(t,a.getNode(),a.isFullyInitialized()||Er(n),a.isFiltered());return Ta(e,o,n,r,Ca,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Ki(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(yi(Ki(t)))}}(t,a,f),{viewCache:a,changes:f}}function Ta(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=ga(r,n))return t;if(Er(n))if(ge(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=$i(t),c=ma(r,l instanceof ci?l:ci.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var f=va(r,$i(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=br(n);if(".priority"===d){ge(1===_r(n),"Can't have a priority with additional path components");var h=u.getNode(),p=ya(r,n,h,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(h,p):u.getNode()}else{var v,m=kr(n);if(u.isCompleteForChild(d)){s=t.serverCache.getNode();var y=ya(r,n,u.getNode(),s);v=null!=y?u.getNode().getImmediateChild(d).updateChild(m,y):u.getNode().getImmediateChild(d)}else v=_a(r,d,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),d,v,m,i,a):u.getNode()}}return Vi(t,o,u.isFullyInitialized()||Er(n),e.filter.filtersNodes())}function Ia(e,t,n,r,i,a,o,s){var u,l=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(Er(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{var d=br(n);if(!l.isCompleteForPath(n)&&_r(n)>1)return t;var h=kr(n),p=l.getNode().getImmediateChild(d).updateChild(h,r);u=".priority"===d?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),d,p,h,Ca,null)}var v=Yi(t,u,l.isFullyInitialized()||Er(n),c.filtersNodes());return Ta(e,v,n,i,new Sa(i,v,a),s)}function Oa(e,t,n,r,i,a,o){var s,u,l=t.eventCache,c=new Sa(i,t,a);if(Er(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=Vi(t,u,!0,e.filter.filtersNodes());else{var f=br(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Vi(t,u,l.isFullyInitialized(),l.isFiltered());else{var d,h=kr(n),p=l.getNode().getImmediateChild(f);if(Er(h))d=r;else{var v=c.getCompleteChild(f);d=null!=v?".priority"===wr(h)&&v.getChild(Cr(h)).isEmpty()?v:v.updateChild(h,r):ci.EMPTY_NODE}if(p.equals(d))s=t;else s=Vi(t,e.filter.updateChild(l.getNode(),f,d,h,c,o),l.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Na(e,t){return e.eventCache.isCompleteForChild(t)}function Pa(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Ra(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,l=t;u=Er(n)?r:new Qi(null).setTree(n,r);var c=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(c.hasChild(n)){var u=Pa(0,t.serverCache.getNode().getImmediateChild(n),r);l=Ia(e,l,new yr(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!u){var f=Pa(0,t.serverCache.getNode().getImmediateChild(n),r);l=Ia(e,l,new yr(n),f,i,a,o,s)}})),l}var ja,Da=function(){function e(t,n){re(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new ki(i.getIndex()),o=(r=i).loadsAllData()?new ki(r.getIndex()):r.hasLimit()?new xi(r):new wi(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,l=a.updateFullNode(ci.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(ci.EMPTY_NODE,u.getNode(),null),f=new qi(l,s.isFullyInitialized(),a.filtersNodes()),d=new qi(c,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=Hi(d,f),this.eventGenerator_=new Wi(this.query_)}return ae(e,[{key:"query",get:function(){return this.query_}}]),e}();function La(e,t){var n=$i(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Er(t)&&!n.getImmediateChild(br(t)).isEmpty())?n.getChild(t):null}function Aa(e){return 0===e.eventRegistrations_.length}function Ma(e,t,n){var r=[];if(n){ge(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Fa(e,t,n,r){t.type===Ri.MERGE&&null!==t.source.queryId&&(ge($i(e.viewCache_),"We should always have a full cache before handling merges"),ge(Ki(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=Ea(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,ge(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),ge(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),ge(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Ua(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Ua(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Bi(e,i,"child_removed",t,r,n),Bi(e,i,"child_added",t,r,n),Bi(e,i,"child_moved",a,r,n),Bi(e,i,"child_changed",t,r,n),Bi(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var za,qa=ae((function e(){re(this,e),this.views=new Map}));function Wa(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return ge(null!=a,"SyncTree gave us an op for an invalid query."),Fa(a,t,n,r)}var o,s=[],u=te(e.views.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s=s.concat(Fa(l,t,n,r))}}catch(c){u.e(c)}finally{u.f()}return s}function Ba(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=va(n,i?r:null),u=!1;s?u=!0:r instanceof ci?(s=ma(n,r),u=!1):(s=ci.EMPTY_NODE,u=!1);var l=Hi(new qi(s,u,!1),new qi(r,i,!1));return new Da(t,l)}return o}function Ha(e,t,n,r,i,a){var o=Ba(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ii,(function(e,t){r.push(gi(e,t))})),n.isFullyInitialized()&&r.push(yi(n.getNode())),Ua(e,r,n.getNode(),t)}(o,n)}function Va(e,t,n,r){var a=t._queryIdentifier,o=[],s=[],u=Qa(e);if("default"===a){var l,c=te(e.views.entries());try{for(c.s();!(l=c.n()).done;){var f=i(l.value,2),d=f[0],h=f[1];s=s.concat(Ma(h,n,r)),Aa(h)&&(e.views.delete(d),h.query._queryParams.loadsAllData()||o.push(h.query))}}catch(v){c.e(v)}finally{c.f()}}else{var p=e.views.get(a);p&&(s=s.concat(Ma(p,n,r)),Aa(p)&&(e.views.delete(a),p.query._queryParams.loadsAllData()||o.push(p.query)))}return u&&!Qa(e)&&o.push(new(ge(ja,"Reference.ts has not been loaded"),ja)(t._repo,t._path)),{removed:o,events:s}}function Ya(e){var t,n=[],r=te(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function Ka(e,t){var n,r=null,i=te(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||La(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function $a(e,t){if(t._queryParams.loadsAllData())return Ja(e);var n=t._queryIdentifier;return e.views.get(n)}function Ga(e,t){return null!=$a(e,t)}function Qa(e){return null!=Ja(e)}function Ja(e){var t,n=te(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var Xa=1,Za=ae((function e(t){re(this,e),this.listenProvider_=t,this.syncPointTree_=new Qi(null),this.pendingWriteTree_={visibleWrites:Ji.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function eo(e,t,n,r,i){return function(e,t,n,r,i){ge(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Xi(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?so(e,new Ui({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function to(e,t,n,r){!function(e,t,n,r){ge(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Zi(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Qi.fromObject(n);return so(e,new zi({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function no(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=la(e.pendingWriteTree_,t),i=ca(e.pendingWriteTree_,t);if(i){var a=new Qi(null);return null!=r.snap?a=a.set(gr(),!0):Fn(r.children,(function(e){a=a.set(new yr(e),!0)})),so(e,new Mi(r.path,a,n))}return[]}function ro(e,t,n){return so(e,new Ui({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function io(e,t,n,r){var i=t._path,a=e.syncPointTree_.get(i),o=[];if(a&&("default"===t._queryIdentifier||Ga(a,t))){var s=Va(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;o=s.events;var l=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),c=e.syncPointTree_.findOnPath(i,(function(e,t){return Qa(t)}));if(l&&!c){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var d=function(e){return e.fold((function(e,t,n){if(t&&Qa(t))return[Ja(t)];var r=[];return t&&(r=Ya(t)),Fn(n,(function(e,t){r=r.concat(t)})),r}))}(f),h=0;h<d.length;++h){var p=d[h],v=p.query,m=co(e,p);e.listenProvider_.startListening(yo(v),fo(e,v),m.hashFn,m.onComplete)}}if(!c&&u.length>0&&!r)if(l){e.listenProvider_.stopListening(yo(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(ho(t));e.listenProvider_.stopListening(yo(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=ho(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,u)}return o}function ao(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Tr(e,r);i=i||Ka(t,n),a=a||Qa(t)}));var o,s=e.syncPointTree_.get(r);(s?(a=a||Qa(s),i=i||Ka(s,gr())):(s=new qa,e.syncPointTree_=e.syncPointTree_.set(r,s)),null!=i)?o=!0:(o=!1,i=ci.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Ka(t,gr());n&&(i=i.updateImmediateChild(e,n))})));var u=Ga(s,t);if(!u&&!t._queryParams.loadsAllData()){var l=ho(t);ge(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var c=Xa++;e.queryToTagMap.set(l,c),e.tagToQueryMap.set(c,l)}var f=Ha(s,t,n,ua(e.pendingWriteTree_,r),i,o);if(!u&&!a){var d=$a(s,t);f=f.concat(function(e,t,n){var r=t._path,i=fo(e,t),a=co(e,n),o=e.listenProvider_.startListening(yo(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)ge(!Qa(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!Er(e)&&t&&Qa(t))return[Ja(t).query];var r=[];return t&&(r=r.concat(Ya(t).map((function(e){return e.query})))),Fn(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<u.length;++l){var c=u[l];e.listenProvider_.stopListening(yo(c),fo(e,c))}return o}(e,t,d))}return f}function oo(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Ka(n,Tr(e,t));if(r)return r}));return pa(r,t,i,n,!0)}function so(e,t){return uo(t,e.syncPointTree_,null,ua(e.pendingWriteTree_,gr()))}function uo(e,t,n,r){if(Er(e.path))return lo(e,t,n,r);var i=t.get(gr());null==n&&null!=i&&(n=Ka(i,gr()));var a=[],o=br(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var l=n?n.getImmediateChild(o):null,c=ka(r,o);a=a.concat(uo(s,u,l,c))}return i&&(a=a.concat(Wa(i,e,r,n))),a}function lo(e,t,n,r){var i=t.get(gr());null==n&&null!=i&&(n=Ka(i,gr()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=ka(r,t),u=e.operationForChild(t);u&&(a=a.concat(lo(u,i,o,s)))})),i&&(a=a.concat(Wa(i,e,r,n))),a}function co(e,t){var n=t.query,r=fo(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||ci.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=po(e,n);if(r){var i=vo(r),a=i.path,o=i.queryId,s=Tr(a,t);return mo(e,a,new Fi(Li(o),s))}return[]}(e,n._path,r):function(e,t){return so(e,new Fi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return io(e,n,null,i)}}}function fo(e,t){var n=ho(t);return e.queryToTagMap.get(n)}function ho(e){return e._path.toString()+"$"+e._queryIdentifier}function po(e,t){return e.tagToQueryMap.get(t)}function vo(e){var t=e.indexOf("$");return ge(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new yr(e.substr(0,t))}}function mo(e,t,n){var r=e.syncPointTree_.get(t);return ge(r,"Missing sync point for query tag that we're tracking"),Wa(r,n,ua(e.pendingWriteTree_,t),null)}function yo(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(ge(za,"Reference.ts has not been loaded"),za)(e._repo,e._path):e}var go=function(){function e(t){re(this,e),this.node_=t}return ae(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),bo=function(){function e(t,n){re(this,e),this.syncTree_=t,this.path_=n}return ae(e,[{key:"getImmediateChild",value:function(t){var n=Sr(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return oo(this.syncTree_,this.path_)}}]),e}(),_o=function(e,t,n){return e&&"object"===typeof e?(ge(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?ko(e[".sv"],t,n):"object"===typeof e[".sv"]?wo(e[".sv"],t):void ge(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},ko=function(e,t,n){if("timestamp"===e)return n.timestamp;ge(!1,"Unexpected server value: "+e)},wo=function(e,t,n){e.hasOwnProperty("increment")||ge(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&ge(!1,"Unexpected increment value: "+r);var i=t.node();if(ge(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},xo=function(e,t,n,r){return So(t,new bo(n,e),r)},Co=function(e,t,n){return So(e,new go(t),n)};function So(e,t,n){var r,i=e.getPriority().val(),a=_o(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=_o(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new ei(s,di(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new ei(a))),u.forEachChild(ii,(function(e,i){var a=So(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var Eo=ae((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};re(this,e),this.name=t,this.parent=n,this.node=r}));function To(e,t){for(var n=t instanceof yr?t:new yr(t),r=e,i=br(n);null!==i;){var a=ze(r.node.children,i)||{children:{},childCount:0};r=new Eo(i,r,a),i=br(n=kr(n))}return r}function Io(e){return e.node.value}function Oo(e,t){e.node.value=t,Do(e)}function No(e){return e.node.childCount>0}function Po(e,t){Fn(e.node.children,(function(n,r){t(new Eo(n,e,r))}))}function Ro(e,t,n,r){n&&!r&&t(e),Po(e,(function(e){Ro(e,t,!0,r)})),n&&r&&t(e)}function jo(e){return new yr(null===e.parent?e.name:jo(e.parent)+"/"+e.name)}function Do(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Io(e)&&!No(e)}(n),i=Ue(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Do(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Do(e))}(e.parent,e.name,e)}var Lo=/[\[\].#$\/\u0000-\u001F\u007F]/,Ao=/[\[\].#$\u0000-\u001F\u007F]/,Mo=10485760,Fo=function(e){return"string"===typeof e&&0!==e.length&&!Lo.test(e)},Uo=function(e){return"string"===typeof e&&0!==e.length&&!Ao.test(e)},zo=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Nn(e)||e&&"object"===typeof e&&Ue(e,".sv")},qo=function(e,t,n,r){r&&void 0===t||Wo(Je(e,"value"),t,n)},Wo=function e(t,n,r){var i=r instanceof yr?new Pr(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+jr(i));if("function"===typeof n)throw new Error(t+"contains a function "+jr(i)+" with contents = "+n.toString());if(Nn(n))throw new Error(t+"contains "+n.toString()+" "+jr(i));if("string"===typeof n&&n.length>Mo/3&&Xe(n)>Mo)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+jr(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(Fn(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Fo(n)))throw new Error(t+" contains an invalid key ("+n+") "+jr(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Xe(t),Rr(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Xe(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+jr(i)+" in addition to actual children.")}},Bo=function(e,t,n,r){if(!r||void 0!==t){var i=Je(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];Fn(t,(function(e,t){var r=new yr(e);if(Wo(i,t,Sr(n,r)),".priority"===wr(r)&&!zo(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=xr(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!Fo(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Ir);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Nr(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},Ho=function(e,t,n,r){if((!r||void 0!==n)&&!Uo(n))throw new Error(Je(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Vo=function(e,t){if(".info"===br(t))throw new Error(e+" failed = Can't modify data under /.info/")},Yo=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Fo(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Uo(e)}(n))throw new Error(Je(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Ko=ae((function e(){re(this,e),this.eventLists_=[],this.recursionDepth_=0}));function $o(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Or(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Go(e,t,n){$o(e,n),Jo(e,(function(e){return Or(e,t)}))}function Qo(e,t,n){$o(e,n),Jo(e,(function(e){return Nr(e,t)||Nr(t,e)}))}function Jo(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Xo(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Xo(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();wn&&Sn("event: "+n.toString()),Hn(r)}}}var Zo="repo_interrupt",es=function(){function e(t,n,r,i){re(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ko,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Oi(),this.transactionQueueTree_=new Eo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return ae(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function ts(e,t,n){if(e.stats_=ir(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Ti(e.repoInfo_,(function(t,n,r,i){is(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return as(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Me(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ar(e.repoInfo_,t,(function(t,n,r,i){is(e,t,n,r,i)}),(function(t){as(e,t)}),(function(t){!function(e,t){Fn(t,(function(t,n){os(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return rr[n]||(rr[n]=t()),rr[n]}(e.repoInfo_,(function(){return new Di(e.stats_,e.server_)})),e.infoData_=new Ii,e.infoSyncTree_=new Za({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=ro(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),os(e,"connected",!1),e.serverSyncTree_=new Za({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);Qo(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function ns(e){var t=e.infoData_.getNode(new yr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function rs(e){return(t=(t={timestamp:ns(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function is(e,t,n,r,i){e.dataUpdateCount++;var a=new yr(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=We(n,(function(e){return di(e)}));o=function(e,t,n,r){var i=po(e,r);if(i){var a=vo(i),o=a.path,s=a.queryId,u=Tr(o,t),l=Qi.fromObject(n);return mo(e,o,new zi(Li(s),u,l))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=di(n);o=function(e,t,n,r){var i=po(e,r);if(null!=i){var a=vo(i),o=a.path,s=a.queryId,u=Tr(o,t);return mo(e,o,new Ui(Li(s),u,n))}return[]}(e.serverSyncTree_,a,u,i)}else if(r){var l=We(n,(function(e){return di(e)}));o=function(e,t,n){var r=Qi.fromObject(n);return so(e,new zi({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var c=di(n);o=ro(e.serverSyncTree_,a,c)}var f=a;o.length>0&&(f=ms(e,a)),Qo(e.eventQueue_,f,o)}function as(e,t){os(e,"connected",t),!1===t&&function(e){fs(e,"onDisconnectEvents");var t=rs(e),n=Oi();Pi(e.onDisconnect_,gr(),(function(r,i){var a=xo(r,i,e.serverSyncTree_,t);Ni(n,r,a)}));var r=[];Pi(n,gr(),(function(t,n){r=r.concat(ro(e.serverSyncTree_,t,n));var i=ks(e,t);ms(e,i)})),e.onDisconnect_=Oi(),Qo(e.eventQueue_,gr(),r)}(e)}function os(e,t,n){var r=new yr("/.info/"+t),i=di(n);e.infoData_.updateSnapshot(r,i);var a=ro(e.infoSyncTree_,r,i);Qo(e.eventQueue_,r,a)}function ss(e){return e.nextWriteId_++}function us(e,t,n,r,i){fs(e,"set",{path:t.toString(),value:n,priority:r});var a=rs(e),o=di(n,r),s=oo(e.serverSyncTree_,t),u=Co(o,s,a),l=ss(e),c=eo(e.serverSyncTree_,t,u,l,!0);$o(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||On("set at "+t+" failed: "+n);var o=no(e.serverSyncTree_,l,!a);Qo(e.eventQueue_,t,o),ds(e,i,n,r)}));var f=ks(e,t);ms(e,f),Qo(e.eventQueue_,f,[])}function ls(e,t,n){var r;r=".info"===br(t._path)?io(e.infoSyncTree_,t,n):io(e.serverSyncTree_,t,n),Go(e.eventQueue_,t._path,r)}function cs(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Zo)}function fs(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Sn.apply(void 0,[t].concat(r))}function ds(e,t,n,r){t&&Hn((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function hs(e,t,n){return oo(e.serverSyncTree_,t,n)||ci.EMPTY_NODE}function ps(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||_s(e,t),Io(t)){var n=gs(e,t);ge(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&vs(e,jo(t),n)}else No(t)&&Po(t,(function(t){ps(e,t)}))}function vs(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=hs(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];ge(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=Tr(t,u.path);a=a.updateChild(l,u.currentOutputSnapshotRaw)}var c=a.val(!0),f=t;e.server_.put(f.toString(),c,(function(r){fs(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(no(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);_s(e,To(e.transactionQueueTree_,t)),ps(e,e.transactionQueueTree_),Qo(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)Hn(a[u])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{On("transaction at "+f.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}ms(e,t)}}),o)}function ms(e,t){var n=ys(e,t),r=jo(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],l=Tr(n,u.path),c=!1,f=void 0;if(ge(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)c=!0,f=u.abortReason,i=i.concat(no(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)c=!0,f="maxretry",i=i.concat(no(e.serverSyncTree_,u.currentWriteId,!0));else{var d=hs(e,u.path,o);u.currentInputSnapshot=d;var h=t[a].update(d.val());if(void 0!==h){Wo("transaction failed: Data returned ",h,u.path);var p=di(h);"object"===typeof h&&null!=h&&Ue(h,".priority")||(p=p.updatePriority(d.getPriority()));var v=u.currentWriteId,m=rs(e),y=Co(p,d,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=ss(e),o.splice(o.indexOf(v),1),i=(i=i.concat(eo(e.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally))).concat(no(e.serverSyncTree_,v,!0))}else c=!0,f="nodata",i=i.concat(no(e.serverSyncTree_,u.currentWriteId,!0))}Qo(e.eventQueue_,n,i),i=[],c&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===f?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(f),!1,null)}))))},u=0;u<t.length;u++)s(u);_s(e,e.transactionQueueTree_);for(var l=0;l<r.length;l++)Hn(r[l]);ps(e,e.transactionQueueTree_)}(e,gs(e,n),r),r}function ys(e,t){var n,r=e.transactionQueueTree_;for(n=br(t);null!==n&&void 0===Io(r);)r=To(r,n),n=br(t=kr(t));return r}function gs(e,t){var n=[];return bs(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function bs(e,t,n){var r=Io(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Po(t,(function(t){bs(e,t,n)}))}function _s(e,t){var n=Io(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Oo(t,n.length>0?n:void 0)}Po(t,(function(t){_s(e,t)}))}function ks(e,t){var n=jo(ys(e,t)),r=To(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){ws(e,t)})),ws(e,r),Ro(r,(function(t){ws(e,t)})),n}function ws(e,t){var n=Io(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(ge(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(ge(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(no(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Oo(t,void 0):n.length=a+1,Qo(e.eventQueue_,jo(t),i);for(var s=0;s<r.length;s++)Hn(r[s])}}var xs=function(e,t){var n=Cs(e),r=n.namespace;"firebase.com"===n.domain&&In(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||In("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&On("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Zn(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new yr(n.pathString)}},Cs=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(s=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(c,f)),c<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(c,f)));var d=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=te(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):On("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(l+1),10)):l=t.length;var h=t.slice(0,l);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in d&&(a=d.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},Ss=function(){function e(t,n,r,i){re(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return ae(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+Me(this.snapshot.exportVal())}}]),e}(),Es=function(){function e(t,n,r){re(this,e),this.eventRegistration=t,this.error=n,this.path=r}return ae(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),Ts=function(){function e(t,n){re(this,e),this.snapshotCallback=t,this.cancelCallback=n}return ae(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return ge(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),Is=function(){function e(t,n,r,i){re(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return ae(e,[{key:"key",get:function(){return Er(this._path)?null:wr(this._path)}},{key:"ref",get:function(){return new Os(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Ei(this._queryParams),t=An(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Ei(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Ze(t))instanceof e))return!1;var n=this._repo===t._repo,r=Or(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var Os=function(e){ue(n,e);var t=de(n);function n(e,r){return re(this,n),t.call(this,e,r,new Ci,!1)}return ae(n,[{key:"parent",get:function(){var e=Cr(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(Is),Ns=function(){function e(t,n,r){re(this,e),this._node=t,this.ref=n,this._index=r}return ae(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new yr(t),r=Rs(this.ref,t);return new e(this._node.getChild(n),r,ii)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Rs(n.ref,r),ii))}))}},{key:"hasChild",value:function(e){var t=new yr(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function Ps(e,t){return(e=Ze(e))._checkNotDeleted("ref"),void 0!==t?Rs(e._root,t):e._root}function Rs(e,t){var n,r,i,a;return null===br((e=Ze(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Ho(n,r,i,a)):Ho("child","path",t,!1),new Os(e._repo,Sr(e._path,t))}function js(e,t){e=Ze(e),Vo("set",e._path),qo("set",t,e._path,!1);var n=new Te;return us(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Ds(e,t){Bo("update",t,e._path,!1);var n=new Te;return function(e,t,n,r){fs(e,"update",{path:t.toString(),value:n});var i=!0,a=rs(e),o={};if(Fn(n,(function(n,r){i=!1,o[n]=xo(Sr(t,n),di(r),e.serverSyncTree_,a)})),i)Sn("update() called with empty data.  Don't do anything."),ds(0,r,"ok",void 0);else{var s=ss(e),u=to(e.serverSyncTree_,t,o,s);$o(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||On("update at "+t+" failed: "+n);var o=no(e.serverSyncTree_,s,!a),u=o.length>0?ms(e,t):t;Qo(e.eventQueue_,u,o),ds(0,r,n,i)})),Fn(n,(function(n){var r=ks(e,Sr(t,n));ms(e,r)})),Qo(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}var Ls=function(){function e(t){re(this,e),this.callbackContext=t}return ae(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new Ss("value",this,new Ns(e.snapshotNode,new Os(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Es(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),As=function(){function e(t,n){re(this,e),this.eventType=t,this.callbackContext=n}return ae(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new Es(this,e,t):null}},{key:"createEvent",value:function(e,t){ge(null!=e.childName,"Child events should have a childName.");var n=Rs(new Os(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ss(e.type,this,new Ns(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function Ms(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){ls(e._repo,e,l),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Ts(n,a||void 0),l="value"===t?new Ls(u):new As(t,u);return function(e,t,n){var r;r=".info"===br(t._path)?ao(e.infoSyncTree_,t,n):ao(e.serverSyncTree_,t,n),Go(e.eventQueue_,t._path,r)}(e._repo,e,l),function(){return ls(e._repo,e,l)}}function Fs(e,t,n,r){return Ms(e,"value",t,n,r)}!function(e){ge(!ja,"__referenceConstructor has already been defined"),ja=e}(Os),function(e){ge(!za,"__referenceConstructor has already been defined"),za=e}(Os);var Us={},zs=!1;function qs(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||In("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Sn("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=xs(a,i),u=s.repoInfo,l=void 0;"undefined"!==typeof process&&(l={NODE_ENV:"production",PUBLIC_URL:"/tasks-management",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),l?(o=!0,a="http://".concat(l,"?ns=").concat(u.namespace),u=(s=xs(a,i)).repoInfo):o=!s.repoInfo.secure;var c=i&&o?new $n($n.OWNER):new Kn(e.name,e.options,t);Yo("Invalid Firebase Database URL",s),Er(s.path)||In("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=Us[t.name];i||(i={},Us[t.name]=i);var a=i[e.toURLString()];a&&In("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new es(e,zs,n,r),i[e.toURLString()]=a,a}(u,e,c,new Yn(e.name,n));return new Ws(f,e)}var Ws=function(){function e(t,n){re(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return ae(e,[{key:"_repo",get:function(){return this._instanceStarted||(ts(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Os(this._repo,gr())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=Us[t];n&&n[e.key]===e||In("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),cs(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&In("Cannot call "+e+" on a deleted database.")}}]),e}();Ar.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ar.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){dn=e}(Yt),qt(new et("database",(function(e,t){var n=t.instanceIdentifier;return qs(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),$t(cn,fn,e),$t(cn,fn,"esm2017")}();var Bs="firebasestorage.googleapis.com",Hs=function(e){ue(n,e);var t=de(n);function n(e,r){var i;return re(this,n),(i=t.call(this,Vs(e),"Firebase Storage: ".concat(r," (").concat(Vs(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(oe(i),n.prototype),i}return ae(n,[{key:"_codeEquals",value:function(e){return Vs(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Re);function Vs(e){return"storage/"+e}function Ys(){return new Hs("unknown","An unknown error occurred, please check the error payload for server response.")}function Ks(){return new Hs("canceled","User canceled the upload/download.")}function $s(){return new Hs("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Gs(e){return new Hs("invalid-argument",e)}function Qs(){return new Hs("app-deleted","The Firebase app was deleted.")}function Js(e,t){return new Hs("invalid-format","String does not match format '"+e+"': "+t)}function Xs(e){throw new Hs("internal-error","Internal error: "+e)}var Zs,eu=function(){function e(t,n){re(this,e),this.bucket=t,this.path_=n}return ae(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new Hs("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===Bs?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],l=0;l<u.length;l++){var c=u[l],f=c.regex.exec(t);if(f){var d=f[c.indices.bucket],h=f[c.indices.path];h||(h=""),r=new e(d,h),c.postModify(r);break}}if(null==r)throw function(e){return new Hs("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),tu=function(){function e(t){re(this,e),this.promise_=Promise.reject(t)}return ae(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function nu(e){return"string"===typeof e||e instanceof String}function ru(e){return iu()&&e instanceof Blob}function iu(){return"undefined"!==typeof Blob}function au(e,t,n,r){if(r<t)throw Gs("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Gs("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function ou(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function su(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Zs||(Zs={}));var uu=function(){function e(t,n,r,i,a,o,s,u,l,c,f){var d=this;re(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return ae(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=Ys();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?Qs():Ks());else i(new Hs("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new lu(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var l=!1;function c(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(h,u())}),t)}function d(){a&&clearTimeout(a)}function h(e){if(l)d();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void c.call.apply(c,[null,e].concat(n));var a;if(u()||o)return d(),void c.call.apply(c,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,d(),l||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new lu(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Zs.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new lu(o,r))}else{var s=r.getErrorCode()===Zs.ABORT;t(!1,new lu(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),lu=ae((function e(t,n,r){re(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function cu(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function fu(){for(var e=cu(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(iu())return new Blob(n);throw new Hs("unsupported-environment","This browser doesn't seem to support creating Blobs")}var du="raw",hu="base64",pu="base64url",vu="data_url",mu=ae((function e(t,n){re(this,e),this.data=t,this.contentType=n||null}));function yu(e,t){switch(e){case du:return new mu(gu(t));case hu:case pu:return new mu(bu(e,t));case vu:return new mu(function(e){var t=new _u(e);return t.base64?bu(hu,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw Js(vu,"Malformed data URL.")}return gu(t)}(t.rest)}(t),new _u(t).contentType)}throw Ys()}function gu(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function bu(e,t){switch(e){case hu:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Js(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case pu:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw Js(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(l){throw Js(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var _u=ae((function e(t){re(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw Js(vu,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var ku=function(){function e(t,n){re(this,e);var r=0,i="";ru(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return ae(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(ru(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(iu()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(fu.apply(null,i))}var a=n.map((function(e){return nu(e)?yu(du,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function wu(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function xu(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Cu(e,t){return t}var Su=ae((function e(t,n,r,i){re(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||Cu})),Eu=null;function Tu(){if(Eu)return Eu;var e=[];e.push(new Su("bucket")),e.push(new Su("generation")),e.push(new Su("metageneration")),e.push(new Su("name","fullPath",!0));var t=new Su("name");t.xform=function(e,t){return function(e){return!nu(e)||e.length<2?e:xu(e)}(t)},e.push(t);var n=new Su("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Su("timeCreated")),e.push(new Su("updated")),e.push(new Su("md5Hash",null,!0)),e.push(new Su("cacheControl",null,!0)),e.push(new Su("contentDisposition",null,!0)),e.push(new Su("contentEncoding",null,!0)),e.push(new Su("contentLanguage",null,!0)),e.push(new Su("contentType",null,!0)),e.push(new Su("metadata","customMetadata",!0)),Eu=e}function Iu(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new eu(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Ou(e,t,n){var r=wu(t);return null===r?null:Iu(e,r,n)}function Nu(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var Pu=ae((function e(t,n,r,i){re(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function Ru(e){if(!e)throw Ys()}function ju(e,t){return function(n,r){var i=Ou(e,r,t);return Ru(null!==i),i}}function Du(e,t){return function(n,r){var i=Ou(e,r,t);return Ru(null!==i),function(e,t,n,r){var i=wu(t);if(null===i)return null;if(!nu(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return ou("/b/"+o(i)+"/o/"+o(a),n,r)+su({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Lu(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Hs("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Hs("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new Hs("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Hs("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Au(e){var t=Lu(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new Hs("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function Mu(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Fu(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=Mu(t,r,i),l="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Nu(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",c="\r\n--"+s+"--",f=ku.getBlob(l,r,c);if(null===f)throw $s();var d={name:u.fullPath},h=ou(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new Pu(h,"POST",ju(e,n),p);return v.urlParams=d,v.headers=o,v.body=f.uploadData(),v.errorHandler=Lu(t),v}var Uu=function(){function e(){var t=this;re(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zs.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=Zs.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=Zs.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return ae(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw Xs("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw Xs("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw Xs("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw Xs("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw Xs("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),zu=function(e){ue(n,e);var t=de(n);function n(){return re(this,n),t.apply(this,arguments)}return ae(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(Uu);function qu(){return new zu}var Wu=function(){function e(t,n){re(this,e),this._service=t,this._location=n instanceof eu?n:eu.makeFromUrl(n,t.host)}return ae(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new eu(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return xu(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new eu(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new Hs("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function Bu(e,t,n){e._throwIfRoot("uploadBytes");var r=Fu(e.storage,e._location,Tu(),new ku(t,!0),n);return e.storage.makeRequestWithTokens(r,qu).then((function(t){return{metadata:t,ref:e}}))}function Hu(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=ou(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new Pu(r,"GET",Du(e,n),i);return a.errorHandler=Au(t),a}(e.storage,e._location,Tu());return e.storage.makeRequestWithTokens(t,qu).then((function(e){if(null===e)throw new Hs("no-download-url","The given file does not have any download URLs.");return e}))}function Vu(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new eu(e._location.bucket,n);return new Wu(e.storage,r)}function Yu(e,t){if(e instanceof Gu){var n=e;if(null==n._bucket)throw new Hs("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Wu(n,n._bucket);return null!=t?Yu(r,t):r}return void 0!==t?Vu(e,t):e}function Ku(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof Gu)return new Wu(e,t);throw Gs("To use ref(service, url), the first argument must be a Storage instance.")}return Yu(e,t)}function $u(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:eu.makeFromBucketSpec(n,e)}var Gu=function(){function e(t,n,r,i,a){re(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Bs,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?eu.makeFromBucketSpec(i,this._host):$u(this._host,this.app.options)}return ae(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=eu.makeFromBucketSpec(this._url,e):this._bucket=$u(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){au("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){au("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=ee(X().mark((function e(){var t,n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ee(X().mark((function e(){var t,n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new Wu(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new tu(Qs());var a=function(e,t,n,r,i,a){var o=su(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new uu(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=ee(X().mark((function e(t,n){var r,a,o,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,a=i(r,2),o=a[0],s=a[1],e.abrupt("return",this._makeRequest(t,n,o,s).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Qu="@firebase/storage",Ju="0.9.7",Xu="storage";function Zu(e,t){return Ku(e=Ze(e),t)}function el(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Gu(r,i,a,n,Yt)}function tl(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=le(e)););return e}function nl(){return nl="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=tl(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},nl.apply(this,arguments)}qt(new et(Xu,el,"PUBLIC").setMultipleInstances(!0)),$t(Qu,Ju,""),$t(Qu,Ju,"esm2017");function rl(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var il;Object.create;function al(){return ne({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ol=al,sl=new je("auth","Firebase",al()),ul=new ft("@firebase/auth");function ll(e){if(ul.logLevel<=it.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ul.error.apply(ul,["Auth (".concat(Yt,"): ").concat(e)].concat(n))}}function cl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw hl.apply(void 0,[e].concat(n))}function fl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return hl.apply(void 0,[e].concat(n))}function dl(e,t,n){var r=Object.assign(Object.assign({},ol()),ne({},t,n));return new je("auth","Firebase",r).create(t,{appName:e.name})}function hl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Q(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Q(o)))}return sl.create.apply(sl,[e].concat(n))}function pl(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw hl.apply(void 0,[t].concat(r))}}function vl(e){var t="INTERNAL ASSERTION FAILED: "+e;throw ll(t),new Error(t)}function ml(e,t){e||vl(t)}var yl=new Map;function gl(e){ml(e instanceof Function,"Expected a class definition");var t=yl.get(e);return t?(ml(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,yl.set(e,t),t)}function bl(e,t){var n=Wt(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Be(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;cl(r,"already-initialized")}return n.initialize({options:t})}function _l(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function kl(){return"http:"===wl()||"https:"===wl()}function wl(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function xl(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(kl()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var Cl=function(){function e(t,n){re(this,e),this.shortDelay=t,this.longDelay=n,ml(n>t,"Short delay should be less than long delay!"),this.isMobile=Oe()||Ne()}return ae(e,[{key:"get",value:function(){return xl()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function Sl(e,t){ml(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var El=function(){function e(){re(this,e)}return ae(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void vl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void vl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void vl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Tl=(ne(il={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ne(il,"MISSING_CUSTOM_TOKEN","internal-error"),ne(il,"INVALID_IDENTIFIER","invalid-email"),ne(il,"MISSING_CONTINUE_URI","internal-error"),ne(il,"INVALID_PASSWORD","wrong-password"),ne(il,"MISSING_PASSWORD","internal-error"),ne(il,"EMAIL_EXISTS","email-already-in-use"),ne(il,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ne(il,"INVALID_IDP_RESPONSE","invalid-credential"),ne(il,"INVALID_PENDING_TOKEN","invalid-credential"),ne(il,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ne(il,"MISSING_REQ_TYPE","internal-error"),ne(il,"EMAIL_NOT_FOUND","user-not-found"),ne(il,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ne(il,"EXPIRED_OOB_CODE","expired-action-code"),ne(il,"INVALID_OOB_CODE","invalid-action-code"),ne(il,"MISSING_OOB_CODE","internal-error"),ne(il,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ne(il,"INVALID_ID_TOKEN","invalid-user-token"),ne(il,"TOKEN_EXPIRED","user-token-expired"),ne(il,"USER_NOT_FOUND","user-token-expired"),ne(il,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ne(il,"INVALID_CODE","invalid-verification-code"),ne(il,"INVALID_SESSION_INFO","invalid-verification-id"),ne(il,"INVALID_TEMPORARY_PROOF","invalid-credential"),ne(il,"MISSING_SESSION_INFO","missing-verification-id"),ne(il,"SESSION_EXPIRED","code-expired"),ne(il,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ne(il,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ne(il,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ne(il,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ne(il,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ne(il,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ne(il,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ne(il,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ne(il,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ne(il,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ne(il,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),il),Il=new Cl(3e4,6e4);function Ol(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Nl(e,t,n,r){return Pl.apply(this,arguments)}function Pl(){return Pl=ee(X().mark((function e(t,n,r,i){var a,o=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Rl(t,a,ee(X().mark((function e(){var a,o,s,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Ve(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",El.fetch()(Al(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Pl.apply(this,arguments)}function Rl(e,t,n){return jl.apply(this,arguments)}function jl(){return jl=ee(X().mark((function e(t,n,r){var a,o,s,u,l,c,f,d,h,p;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,a=Object.assign(Object.assign({},Tl),n),e.prev=2,o=new Ml(t),e.next=6,Promise.race([r(),o.promise]);case 6:return s=e.sent,o.clearNetworkTimeout(),e.next=10,s.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Fl(t,"account-exists-with-different-credential",u);case 13:if(!s.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(l=s.ok?u.errorMessage:u.error.message,c=l.split(" : "),f=i(c,2),d=f[0],h=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw Fl(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw Fl(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw Fl(t,"user-disabled",u);case 29:if(p=a[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw dl(t,p,h);case 34:cl(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Re)){e.next=41;break}throw e.t0;case 41:cl(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),jl.apply(this,arguments)}function Dl(e,t,n,r){return Ll.apply(this,arguments)}function Ll(){return Ll=ee(X().mark((function e(t,n,r,i){var a,o,s=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Nl(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&cl(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Ll.apply(this,arguments)}function Al(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Sl(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ml=function(){function e(t){var n=this;re(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(fl(n.auth,"network-request-failed"))}),Il.get())}))}return ae(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Fl(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=fl(e,t,r);return i.customData._tokenResponse=n,i}function Ul(e,t){return zl.apply(this,arguments)}function zl(){return zl=ee(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nl(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),zl.apply(this,arguments)}function ql(e,t){return Wl.apply(this,arguments)}function Wl(){return Wl=ee(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nl(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Wl.apply(this,arguments)}function Bl(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Hl(){return Hl=ee(X().mark((function e(t){var n,r,i,a,o,s,u=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Ze(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,pl((a=Yl(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Bl(Vl(a.auth_time)),issuedAtTime:Bl(Vl(a.iat)),expirationTime:Bl(Vl(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Hl.apply(this,arguments)}function Vl(e){return 1e3*Number(e)}function Yl(e){var t=i(e.split("."),3),n=t[0],r=t[1],a=t[2];if(void 0===n||void 0===r||void 0===a)return ll("JWT malformed, contained fewer than 3 sections"),null;try{var o=Ce(r);return o?JSON.parse(o):(ll("Failed to decode base64 JWT payload"),null)}catch(s){return ll("Caught error parsing JWT payload as JSON",s),null}}function Kl(e,t){return $l.apply(this,arguments)}function $l(){return $l=ee(X().mark((function e(t,n){var r=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Re&&Gl(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),$l.apply(this,arguments)}function Gl(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ql=function(){function e(t){re(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ae(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ee(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ee(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Jl=function(){function e(t,n){re(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ae(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Xl(e){return Zl.apply(this,arguments)}function Zl(){return Zl=ee(X().mark((function e(t){var n,r,i,a,o,s,u,l,c,f,d;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Kl(t,ql(r,{idToken:i}));case 6:pl(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?nc(o.providerUserInfo):[],u=tc(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!l&&c,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Jl(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),Zl.apply(this,arguments)}function ec(){return(ec=ee(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ze(t),e.next=3,Xl(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tc(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Q(n),Q(t))}function nc(e){return e.map((function(e){var t=e.providerId,n=rl(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function rc(e,t){return ic.apply(this,arguments)}function ic(){return ic=ee(X().mark((function e(t,n){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rl(t,{},ee(X().mark((function e(){var r,i,a,o,s,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ve({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Al(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",El.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ic.apply(this,arguments)}var ac=function(){function e(){re(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ae(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){pl(e.idToken,"internal-error"),pl("undefined"!==typeof e.idToken,"internal-error"),pl("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Yl(e);return pl(t,"internal-error"),pl("undefined"!==typeof t.exp,"internal-error"),pl("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ee(X().mark((function e(t){var n,r=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],pl(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ee(X().mark((function e(t,n){var r,i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rc(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return vl("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(pl("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(pl("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(pl("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function oc(e,t){pl("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var sc=function(){function e(t){re(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=rl(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ql(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Q(a.providerData):[],this.metadata=new Jl(a.createdAt||void 0,a.lastLoginAt||void 0)}return ae(e,[{key:"getIdToken",value:function(){var e=ee(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kl(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(pl(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Hl.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ec.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(pl(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){pl(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ee(X().mark((function e(t){var n,r,i=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Xl(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ee(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Kl(this,Ul(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,l,c,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(l=n.createdAt)&&void 0!==l?l:void 0,g=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,b=n.uid,_=n.emailVerified,k=n.isAnonymous,w=n.providerData,x=n.stsTokenManager;pl(b&&x,t,"internal-error");var C=ac.fromJSON(this.name,x);pl("string"===typeof b,t,"internal-error"),oc(f,t.name),oc(d,t.name),pl("boolean"===typeof _,t,"internal-error"),pl("boolean"===typeof k,t,"internal-error"),oc(h,t.name),oc(p,t.name),oc(v,t.name),oc(m,t.name),oc(y,t.name),oc(g,t.name);var S=new e({uid:b,auth:t,email:d,emailVerified:_,displayName:f,isAnonymous:k,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:C,createdAt:y,lastLoginAt:g});return w&&Array.isArray(w)&&(S.providerData=w.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=ee(X().mark((function t(n,r){var i,a,o,s=arguments;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new ac).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Xl(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),uc=function(){function e(){re(this,e),this.type="NONE",this.storage={}}return ae(e,[{key:"_isAvailable",value:function(){var e=ee(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ee(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ee(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ee(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();uc.type="NONE";var lc=uc;function cc(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var fc=function(){function e(t,n,r){re(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=cc(this.userKey,a.apiKey,o),this.fullPersistenceKey=cc("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ae(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ee(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?sc._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ee(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ee(X().mark((function t(n,r){var i,a,o,s,u,l,c,f,d,h,p,v=arguments;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(gl(lc),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ee(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||gl(lc),s=cc(i,n.config.apiKey,n.name),u=null,l=te(r),t.prev=10,l.s();case 12:if((c=l.n()).done){t.next=29;break}return f=c.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(d=t.sent)){t.next=23;break}return h=sc._fromJSON(n,d),f!==o&&(u=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ee(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function dc(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mc(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(hc(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gc(t))return"Blackberry";if(bc(t))return"Webos";if(pc(t))return"Safari";if((t.includes("chrome/")||vc(t))&&!t.includes("edge/"))return"Chrome";if(yc(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function hc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/firefox\//i.test(e)}function pc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/crios\//i.test(e)}function mc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/iemobile/i.test(e)}function yc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/android/i.test(e)}function gc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/blackberry/i.test(e)}function bc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/webos/i.test(e)}function _c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return/iphone|ipad|ipod/i.test(e)}function kc(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return _c(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function wc(){return function(){var e=Ie();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function xc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie();return _c(e)||yc(e)||bc(e)||gc(e)||/windows phone/i.test(e)||mc(e)}function Cc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=dc(Ie());break;case"Worker":t="".concat(dc(Ie()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Yt,"/").concat(r)}var Sc=function(){function e(t){re(this,e),this.auth=t,this.queue=[]}return ae(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=ee(X().mark((function e(t){var n,r,i,a,o,s,u,l;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=te(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=te(r);try{for(s.s();!(u=s.n()).done;){l=u.value;try{l()}catch(c){}}}catch(f){s.e(f)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ec=function(){function e(t,n,r){re(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ic(this),this.idTokenSubscription=new Ic(this),this.beforeStateQueue=new Sc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sl,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return ae(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=gl(t)),this._initializationPromise=this.queue(ee(X().mark((function r(){var i,a;return X().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,fc.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ee(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ee(X().mark((function e(t){var n,r,i,a,o,s,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return pl(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ee(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ee(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xl(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ee(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ee(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ze(t):null)&&pl(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ee(X().mark((function e(t){var n,r=this,i=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&pl(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(ee(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ee(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ee(X().mark((function n(){return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(gl(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new je("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ee(X().mark((function e(t,n){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ee(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return pl(n=t&&gl(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,fc.create(this,[gl(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ee(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ee(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ee(X().mark((function e(t){var n=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ee(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return pl(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ee(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return pl(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cc(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ee(X().mark((function e(){var t,n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ne({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Tc(e){return Ze(e)}var Ic=function(){function e(t){var n=this;re(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Ge(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return ae(e,[{key:"next",get:function(){return pl(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var Oc=function(){function e(t,n){re(this,e),this.providerId=t,this.signInMethod=n}return ae(e,[{key:"toJSON",value:function(){return vl("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return vl("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return vl("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return vl("not implemented")}}]),e}();function Nc(e,t){return Pc.apply(this,arguments)}function Pc(){return Pc=ee(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nl(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}function Rc(e,t){return jc.apply(this,arguments)}function jc(){return jc=ee(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dl(t,"POST","/v1/accounts:signInWithPassword",Ol(t,n)));case 1:case"end":return e.stop()}}),e)}))),jc.apply(this,arguments)}function Dc(e,t){return Lc.apply(this,arguments)}function Lc(){return Lc=ee(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dl(t,"POST","/v1/accounts:signInWithEmailLink",Ol(t,n)));case 1:case"end":return e.stop()}}),e)}))),Lc.apply(this,arguments)}function Ac(e,t){return Mc.apply(this,arguments)}function Mc(){return Mc=ee(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dl(t,"POST","/v1/accounts:signInWithEmailLink",Ol(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mc.apply(this,arguments)}var Fc=function(e){ue(n,e);var t=de(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return re(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return ae(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ee(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Rc(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Dc(t,{email:this._email,oobCode:this._password}));case 5:cl(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ee(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Nc(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ac(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:cl(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Oc);function Uc(e,t){return zc.apply(this,arguments)}function zc(){return zc=ee(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dl(t,"POST","/v1/accounts:signInWithIdp",Ol(t,n)));case 1:case"end":return e.stop()}}),e)}))),zc.apply(this,arguments)}var qc=function(e){ue(n,e);var t=de(n);function n(){var e;return re(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ae(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Uc(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Uc(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Uc(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ve(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):cl("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=rl(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Oc);function Wc(e,t){return Bc.apply(this,arguments)}function Bc(){return Bc=ee(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nl(t,"POST","/v1/accounts:sendVerificationCode",Ol(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bc.apply(this,arguments)}function Hc(){return Hc=ee(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dl(t,"POST","/v1/accounts:signInWithPhoneNumber",Ol(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hc.apply(this,arguments)}function Vc(){return Vc=ee(X().mark((function e(t,n){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dl(t,"POST","/v1/accounts:signInWithPhoneNumber",Ol(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Fl(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Vc.apply(this,arguments)}var Yc=ne({},"USER_NOT_FOUND","user-not-found");function Kc(){return Kc=ee(X().mark((function e(t,n){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Dl(t,"POST","/v1/accounts:signInWithPhoneNumber",Ol(t,r),Yc));case 2:case"end":return e.stop()}}),e)}))),Kc.apply(this,arguments)}var $c=function(e){ue(n,e);var t=de(n);function n(e){var r;return re(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ae(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Hc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Vc.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Kc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Oc);var Gc=function(){function e(t){var n,r,i,a,o,s;re(this,e);var u=Ye(Ke(t)),l=null!==(n=u.apiKey)&&void 0!==n?n:null,c=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);pl(l&&c&&f,"argument-error"),this.apiKey=l,this.operation=f,this.code=c,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return ae(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ye(Ke(e)).link,n=t?Ye(Ke(t)).deep_link_id:null,r=Ye(Ke(e)).deep_link_id;return(r?Ye(Ke(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Qc=function(){function e(){re(this,e),this.providerId=e.PROVIDER_ID}return ae(e,null,[{key:"credential",value:function(e,t){return Fc._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Gc.parseLink(t);return pl(n,"argument-error"),Fc._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Qc.PROVIDER_ID="password",Qc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Qc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Jc=function(){function e(t){re(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ae(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Xc=function(e){ue(n,e);var t=de(n);function n(){var e;return re(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ae(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Q(this.scopes)}}]),n}(Jc),Zc=function(e){ue(n,e);var t=de(n);function n(){return re(this,n),t.call(this,"facebook.com")}return ae(n,null,[{key:"credential",value:function(e){return qc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Xc);Zc.FACEBOOK_SIGN_IN_METHOD="facebook.com",Zc.PROVIDER_ID="facebook.com";var ef=function(e){ue(n,e);var t=de(n);function n(){var e;return re(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ae(n,null,[{key:"credential",value:function(e,t){return qc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Xc);ef.GOOGLE_SIGN_IN_METHOD="google.com",ef.PROVIDER_ID="google.com";var tf=function(e){ue(n,e);var t=de(n);function n(){return re(this,n),t.call(this,"github.com")}return ae(n,null,[{key:"credential",value:function(e){return qc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Xc);tf.GITHUB_SIGN_IN_METHOD="github.com",tf.PROVIDER_ID="github.com";var nf=function(e){ue(n,e);var t=de(n);function n(){return re(this,n),t.call(this,"twitter.com")}return ae(n,null,[{key:"credential",value:function(e,t){return qc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(Xc);function rf(e,t){return af.apply(this,arguments)}function af(){return af=ee(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dl(t,"POST","/v1/accounts:signUp",Ol(t,n)));case 1:case"end":return e.stop()}}),e)}))),af.apply(this,arguments)}nf.TWITTER_SIGN_IN_METHOD="twitter.com",nf.PROVIDER_ID="twitter.com";var of=function(){function e(t){re(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ae(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ee(X().mark((function t(n,r,i){var a,o,s,u,l=arguments;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,sc._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=sf(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ee(X().mark((function t(n,r,i){var a;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=sf(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function sf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var uf=function(e){ue(n,e);var t=de(n);function n(e,r,i,a){var o,s;return re(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(oe(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return ae(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Re);function lf(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw uf._fromErrorAndOperation(e,n,t,r);throw n}))}function cf(e,t){return ff.apply(this,arguments)}function ff(){return ff=ee(X().mark((function e(t,n){var r,i,a=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Kl,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",of._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),ff.apply(this,arguments)}function df(e,t){return hf.apply(this,arguments)}function hf(){return hf=ee(X().mark((function e(t,n){var r,i,a,o,s,u,l=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Kl(t,lf(i,a,n,t),r);case 6:return pl((o=e.sent).idToken,i,"internal-error"),pl(s=Yl(o.idToken),i,"internal-error"),u=s.sub,pl(t.uid===u,i,"user-mismatch"),e.abrupt("return",of._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&cl(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),hf.apply(this,arguments)}function pf(e,t){return vf.apply(this,arguments)}function vf(){return vf=ee(X().mark((function e(t,n){var r,i,a,o,s=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,lf(t,i,n);case 4:return a=e.sent,e.next=7,of._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),vf.apply(this,arguments)}function mf(e,t){return yf.apply(this,arguments)}function yf(){return yf=ee(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pf(Tc(t),n));case 1:case"end":return e.stop()}}),e)}))),yf.apply(this,arguments)}function gf(){return gf=ee(X().mark((function e(t,n,r){var i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Tc(t),e.next=3,rf(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,of._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),gf.apply(this,arguments)}function bf(e,t){return _f.apply(this,arguments)}function _f(){return _f=ee(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nl(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),_f.apply(this,arguments)}function kf(){return(kf=ee(X().mark((function e(t,n){var r,i,a,o,s,u,l;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Ze(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Kl(a,bf(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(l=a.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=a.displayName,l.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wf(e,t,n){return xf.apply(this,arguments)}function xf(){return xf=ee(X().mark((function e(t,n,r){var i,a,o,s;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Kl(t,Nc(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),xf.apply(this,arguments)}function Cf(e,t){return Nl(e,"POST","/v2/accounts/mfaEnrollment:start",Ol(e,t))}new WeakMap;var Sf="__sak",Ef=function(){function e(t,n){re(this,e),this.storageRetriever=t,this.type=n}return ae(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Sf,"1"),this.storage.removeItem(Sf),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Tf=function(e){ue(n,e);var t=de(n);function n(){var e;return re(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ie();return pc(e)||_c(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=xc(),e._shouldAllowMigration=!0,e}return ae(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);wc()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ee(X().mark((function e(t,r){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nl(le(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ee(X().mark((function e(t){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nl(le(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ee(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nl(le(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ef);Tf.type="LOCAL";var If=Tf,Of=function(e){ue(n,e);var t=de(n);function n(){return re(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ae(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ef);Of.type="SESSION";var Nf=Of;function Pf(e){return Promise.all(e.map(function(){var e=ee(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Rf=function(){function e(t){re(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ae(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ee(X().mark((function e(t){var n,r,i,a,o,s,u,l;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=ee(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Pf(u);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function jf(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Rf.receivers=[];var Df=function(){function e(t){re(this,e),this.target=t,this.handlers=new Set}return ae(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ee(X().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var l=jf("",20);i.port1.start();var c=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(c),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Lf(){return window}function Af(){return"undefined"!==typeof Lf().WorkerGlobalScope&&"function"===typeof Lf().importScripts}function Mf(){return Ff.apply(this,arguments)}function Ff(){return(Ff=ee(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Uf(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var zf="firebaseLocalStorageDb",qf="firebaseLocalStorage",Wf="fbase_key",Bf=function(){function e(t){re(this,e),this.request=t}return ae(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Hf(e,t){return e.transaction([qf],t?"readwrite":"readonly").objectStore(qf)}function Vf(){var e=indexedDB.deleteDatabase(zf);return new Bf(e).toPromise()}function Yf(){var e=indexedDB.open(zf,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(qf,{keyPath:Wf})}catch(r){n(r)}})),e.addEventListener("success",ee(X().mark((function n(){var r;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(qf)){n.next=12;break}return r.close(),n.next=5,Vf();case 5:return n.t0=t,n.next=8,Yf();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Kf(e,t,n){return $f.apply(this,arguments)}function $f(){return $f=ee(X().mark((function e(t,n,r){var i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Hf(t,!0).put((ne(i={},Wf,n),ne(i,"value",r),i)),e.abrupt("return",new Bf(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),$f.apply(this,arguments)}function Gf(e,t){return Qf.apply(this,arguments)}function Qf(){return Qf=ee(X().mark((function e(t,n){var r,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hf(t,!1).get(n),e.next=3,new Bf(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Qf.apply(this,arguments)}function Jf(e,t){var n=Hf(e,!0).delete(t);return new Bf(n).toPromise()}var Xf=function(){function e(){re(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ae(e,[{key:"_openDb",value:function(){var e=ee(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Yf();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ee(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ee(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Af()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ee(X().mark((function e(){var t=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Rf._getInstance(Af()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ee(X().mark((function e(n,r){var i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ee(X().mark((function e(t,n){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ee(X().mark((function e(){var t,n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mf();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Df(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ee(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Uf()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ee(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Yf();case 5:return t=e.sent,e.next=8,Kf(t,Sf,"1");case 8:return e.next=10,Jf(t,Sf);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ee(X().mark((function e(t){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ee(X().mark((function e(t,n){var r=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ee(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Kf(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ee(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Gf(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ee(X().mark((function e(t){var n=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ee(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Jf(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ee(X().mark((function e(){var t,n,r,i,a,o,s,u,l,c,f;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Hf(e,!1).getAll();return new Bf(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=te(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(d){i.e(d)}finally{i.f()}for(l=0,c=Object.keys(this.localCache);l<c.length;l++)f=c[l],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ee(X().mark((function t(){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Xf.type="LOCAL";var Zf=Xf;function ed(e,t){return Nl(e,"POST","/v2/accounts/mfaSignIn:start",Ol(e,t))}function td(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=fl("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function nd(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}nd("rcb"),new Cl(3e4,6e4);var rd="recaptcha";function id(e,t,n){return ad.apply(this,arguments)}function ad(){return ad=ee(X().mark((function e(t,n,r){var i,a,o,s,u,l,c,f,d;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,pl("string"===typeof a,t,"argument-error"),pl(r.type===rd,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return pl("enroll"===s.type,t,"internal-error"),e.next=13,Cf(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return pl("signin"===s.type,t,"internal-error"),pl(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ed(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return c=e.sent,e.abrupt("return",c.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Wc(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),ad.apply(this,arguments)}var od=function(){function e(t){re(this,e),this.providerId=e.PROVIDER_ID,this.auth=Tc(t)}return ae(e,[{key:"verifyPhoneNumber",value:function(e,t){return id(this.auth,e,Ze(t))}}],[{key:"credential",value:function(e,t){return $c._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?$c._fromTokenResponse(n,r):null}}]),e}();function sd(e,t){return t?gl(t):(pl(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}od.PROVIDER_ID="phone",od.PHONE_SIGN_IN_METHOD="phone";var ud=function(e){ue(n,e);var t=de(n);function n(e){var r;return re(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ae(n,[{key:"_getIdTokenResponse",value:function(e){return Uc(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Uc(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Uc(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Oc);function ld(e){return pf(e.auth,new ud(e),e.bypassAuthState)}function cd(e){var t=e.auth,n=e.user;return pl(n,t,"internal-error"),df(n,new ud(e),e.bypassAuthState)}function fd(e){return dd.apply(this,arguments)}function dd(){return dd=ee(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,pl(r=t.user,n,"internal-error"),e.abrupt("return",cf(r,new ud(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),dd.apply(this,arguments)}var hd=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];re(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ae(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ee(X().mark((function t(n,r){return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ee(X().mark((function e(t){var n,r,i,a,o,s,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ld;case"linkViaPopup":case"linkViaRedirect":return fd;case"reauthViaPopup":case"reauthViaRedirect":return cd;default:cl(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ml(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ml(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),pd=new Cl(2e3,1e4);var vd=function(e){ue(n,e);var t=de(n);function n(e,r,i,a,o){var s;return re(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=oe(s),s}return ae(n,[{key:"executeNotNull",value:function(){var e=ee(X().mark((function e(){var t;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return pl(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ee(X().mark((function e(){var t,n=this;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ml(1===this.filter.length,"Popup operations only handle one event"),t=jf(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(fl(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(fl(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(fl(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,pd.get())}()}}]),n}(hd);vd.currentPopupAction=null;var md=new Map,yd=function(e){ue(n,e);var t=de(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return re(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return ae(n,[{key:"execute",value:function(){var e=ee(X().mark((function e(){var t,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=md.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,gd(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,nl(le(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:md.set(this.auth._key(),t);case 21:return this.bypassAuthState||md.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ee(X().mark((function e(t){var r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",nl(le(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",nl(le(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ee(X().mark((function e(){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(hd);function gd(e,t){return bd.apply(this,arguments)}function bd(){return bd=ee(X().mark((function e(t,n){var r,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wd(n),i=kd(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),bd.apply(this,arguments)}function _d(e,t){md.set(e._key(),t)}function kd(e){return gl(e._redirectPersistence)}function wd(e){return cc("pendingRedirect",e.config.apiKey,e.name)}function xd(e,t){return Cd.apply(this,arguments)}function Cd(){return Cd=ee(X().mark((function e(t,n){var r,i,a,o,s,u=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Tc(t),a=sd(i,n),o=new yd(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Cd.apply(this,arguments)}var Sd=function(){function e(t){re(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ae(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Td(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Td(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(fl(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ed(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ed(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ed(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Td(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Id(e){return Od.apply(this,arguments)}function Od(){return Od=ee(X().mark((function e(t){var n,r=arguments;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Nl(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Od.apply(this,arguments)}var Nd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pd=/^https?/;function Rd(){return Rd=ee(X().mark((function e(t){var n,r,i,a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Id(t);case 4:n=e.sent,r=n.authorizedDomains,i=te(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!jd(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:cl(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Rd.apply(this,arguments)}function jd(e){var t=_l(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Pd.test(r))return!1;if(Nd.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Dd=new Cl(3e4,6e4);function Ld(){var e=Lf().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Q(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Ad=null;function Md(e){return Ad=Ad||function(e){return new Promise((function(t,n){var r,i,a;function o(){Ld(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ld(),n(fl(e,"network-request-failed"))},timeout:Dd.get()})}if(null===(i=null===(r=Lf().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Lf().gapi)||void 0===a?void 0:a.load)){var s=nd("iframefcb");return Lf()[s]=function(){gapi.load?o():n(fl(e,"network-request-failed"))},td("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Ad=null,e}))}(e),Ad}var Fd=new Cl(5e3,15e3),Ud={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qd(e){var t=e.config;pl(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Sl(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Yt},i=zd.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ve(r).slice(1))}function Wd(e){return Bd.apply(this,arguments)}function Bd(){return Bd=ee(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Md(t);case 2:return n=e.sent,pl(r=Lf().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:qd(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ud,dontclear:!0},(function(e){return new Promise(function(){var n=ee(X().mark((function n(r,i){var a,o,s;return X().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Lf().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=fl(t,"network-request-failed"),o=Lf().setTimeout((function(){i(a)}),Fd.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Bd.apply(this,arguments)}var Hd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vd="_blank",Yd="http://localhost",Kd=function(){function e(t){re(this,e),this.window=t,this.associatedEvent=null}return ae(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function $d(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",l=Object.assign(Object.assign({},Hd),{width:r.toString(),height:a.toString(),top:o,left:s}),c=Ie().toLowerCase();n&&(u=vc(c)?Vd:n),hc(c)&&(t=t||Yd,l.scrollbars="yes");var f=Object.entries(l).reduce((function(e,t){var n=i(t,2),r=n[0],a=n[1];return"".concat(e).concat(r,"=").concat(a,",")}),"");if(kc(c)&&"_self"!==u)return Gd(t||"",u),new Kd(null);var d=window.open(t||"",u,f);pl(d,e,"popup-blocked");try{d.focus()}catch(h){}return new Kd(d)}function Gd(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Qd="__/auth/handler",Jd="emulator/auth/handler";function Xd(e,t,n,r,a,o){pl(e.config.authDomain,e,"auth-domain-config-required"),pl(e.config.apiKey,e,"invalid-api-key");var s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Yt,eventId:a};if(t instanceof Jc){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",qe(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,l=Object.entries(o||{});u<l.length;u++){var c=i(l[u],2),f=c[0],d=c[1];s[f]=d}}if(t instanceof Xc){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(s.scopes=h.join(","))}e.tenantId&&(s.tid=e.tenantId);for(var p=s,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Qd);return Sl(t,Jd)}(e),"?").concat(Ve(p).slice(1))}var Zd="webStorageSupport",eh=function(){function e(){re(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nf,this._completeRedirectFn=xd,this._overrideRedirectResult=_d}return ae(e,[{key:"_openPopup",value:function(){var e=ee(X().mark((function e(t,n,r,i){var a,o;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ml(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Xd(t,n,r,_l(),i),e.abrupt("return",$d(t,o,jf()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ee(X().mark((function e(t,n,r,i){return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Xd(t,n,r,_l(),i),Lf().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(ml(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ee(X().mark((function e(t){var n,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wd(t);case 2:return n=e.sent,r=new Sd(t),n.register("authEvent",(function(e){return pl(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Zd,{type:Zd},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),cl(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Rd.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return xc()||pc()||_c()}}]),e}(),th=eh,nh=function(){function e(t){re(this,e),this.factorId=t}return ae(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return vl("unexpected MultiFactorSessionType")}}}]),e}(),rh=function(e){ue(n,e);var t=de(n);function n(e){var r;return re(this,n),(r=t.call(this,"phone")).credential=e,r}return ae(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Nl(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ol(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Nl(e,"POST","/v2/accounts/mfaSignIn:finalize",Ol(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(nh);(function(){function e(){re(this,e)}return ae(e,null,[{key:"assertion",value:function(e){return rh._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var ih,ah="@firebase/auth",oh="0.20.3",sh=function(){function e(t){re(this,e),this.auth=t,this.internalListeners=new Map}return ae(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ee(X().mark((function e(t){var n;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){pl(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();ih="Browser",qt(new et("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){pl(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),pl(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:ih,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cc(ih)},i=new Ec(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gl);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),qt(new et("auth-internal",(function(e){return function(e){return new sh(e)}(Tc(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),$t(ah,oh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ih)),$t(ah,oh,"esm2017");var uh=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:At,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ht.create("bad-app-name",{appName:String(i)});var a=Ft.get(i);if(a){if(Be(e,a.options)&&Be(r,a.config))return a;throw Ht.create("duplicate-app",{appName:i})}var o,s=new at(i),u=te(Ut.values());try{for(u.s();!(o=u.n()).done;){var l=o.value;s.addComponent(l)}}catch(f){u.e(f)}finally{u.f()}var c=new Vt(e,r,s);return Ft.set(i,c),c}({apiKey:"AIzaSyBaFo_TnxY3lzxv29PVEdIldTxFwkXe19g",authDomain:"design-team-6d633.firebaseapp.com",databaseURL:"https://design-team-6d633-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"design-team-6d633",storageBucket:"design-team-6d633.appspot.com",messagingSenderId:"305338666112",appId:"1:305338666112:web:92257b59290a534250ea65"}),lh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt(),t=arguments.length>1?arguments[1]:void 0,n=Wt(e=Ze(e),Xu),r=n.getImmediate({identifier:t});return r}(),ch=(Zu(lh),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt(),t=arguments.length>1?arguments[1]:void 0;return Wt(e,"database").getImmediate({identifier:t})}(uh)),fh=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt(),t=Wt(e,"auth");return t.isInitialized()?t.getImmediate():bl(e,{popupRedirectResolver:th,persistence:[Zf,If,Nf]})}();function dh(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var hh=n(184),ph=["value","type","icon"];function vh(e){var t=e.value,n=e.type,r=e.icon,i=dh(e,ph);return(0,hh.jsxs)("button",ht(ht({className:"button ".concat(n)},i),{},{children:[(0,hh.jsx)("span",{className:"icon is-small",children:(0,hh.jsx)("span",{className:"material-symbols-outlined",children:r})}),(0,hh.jsx)("span",{children:t})]}))}function mh(){return(mh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function yh(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}function gh(e){var t=(0,o.useRef)(e),n=(0,o.useRef)((function(e){t.current&&t.current(e)}));return t.current=e,n.current}var bh=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e<t?t:e},_h=function(e){return"touches"in e},kh=function(e){return e&&e.ownerDocument.defaultView||self},wh=function(e,t,n){var r=e.getBoundingClientRect(),i=_h(t)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]}(t.touches,n):t;return{left:bh((i.pageX-(r.left+kh(e).pageXOffset))/r.width),top:bh((i.pageY-(r.top+kh(e).pageYOffset))/r.height)}},xh=function(e){!_h(e)&&e.preventDefault()},Ch=o.memo((function(e){var t=e.onMove,n=e.onKey,r=yh(e,["onMove","onKey"]),i=(0,o.useRef)(null),a=gh(t),s=gh(n),u=(0,o.useRef)(null),l=(0,o.useRef)(!1),c=(0,o.useMemo)((function(){var e=function(e){xh(e),(_h(e)?e.touches.length>0:e.buttons>0)&&i.current?a(wh(i.current,e,u.current)):n(!1)},t=function(){return n(!1)};function n(n){var r=l.current,a=kh(i.current),o=n?a.addEventListener:a.removeEventListener;o(r?"touchmove":"mousemove",e),o(r?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,r=i.current;if(r&&(xh(t),!function(e,t){return t&&!_h(e)}(t,l.current)&&r)){if(_h(t)){l.current=!0;var o=t.changedTouches||[];o.length&&(u.current=o[0].identifier)}r.focus(),a(wh(r,t,u.current)),n(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),s({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},n]}),[s,a]),f=c[0],d=c[1],h=c[2];return(0,o.useEffect)((function(){return h}),[h]),o.createElement("div",mh({},r,{onTouchStart:f,onMouseDown:f,className:"react-colorful__interactive",ref:i,onKeyDown:d,tabIndex:0,role:"slider"}))})),Sh=function(e){return e.filter(Boolean).join(" ")},Eh=function(e){var t=e.color,n=e.left,r=e.top,i=void 0===r?.5:r,a=Sh(["react-colorful__pointer",e.className]);return o.createElement("div",{className:a,style:{top:100*i+"%",left:100*n+"%"}},o.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Th=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n},Ih=(Math.PI,function(e){return"#"===e[0]&&(e=e.substr(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:1}:{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:1}}),Oh=function(e){var t=e.s,n=e.v,r=e.a,i=(200-t)*n/100;return{h:Th(e.h),s:Th(i>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0),l:Th(i/2),a:Th(r,2)}},Nh=function(e){var t=Oh(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},Ph=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var a=Math.floor(t),o=r*(1-n),s=r*(1-(t-a)*n),u=r*(1-(1-t+a)*n),l=a%6;return{r:Th(255*[r,s,o,o,u,r][l]),g:Th(255*[u,r,r,s,o,o][l]),b:Th(255*[o,o,u,r,r,s][l]),a:Th(i,2)}},Rh=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},jh=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=Math.max(t,n,r),o=a-Math.min(t,n,r),s=o?a===t?(n-r)/o:a===n?2+(r-t)/o:4+(t-n)/o:0;return{h:Th(60*(s<0?s+6:s)),s:Th(a?o/a*100:0),v:Th(a/255*100),a:i}},Dh=o.memo((function(e){var t=e.hue,n=e.onChange,r=Sh(["react-colorful__hue",e.className]);return o.createElement("div",{className:r},o.createElement(Ch,{onMove:function(e){n({h:360*e.left})},onKey:function(e){n({h:bh(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuetext":Th(t)},o.createElement(Eh,{className:"react-colorful__hue-pointer",left:t/360,color:Nh({h:t,s:100,v:100,a:1})})))})),Lh=o.memo((function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:Nh({h:t.h,s:100,v:100,a:1})};return o.createElement("div",{className:"react-colorful__saturation",style:r},o.createElement(Ch,{onMove:function(e){n({s:100*e.left,v:100-100*e.top})},onKey:function(e){n({s:bh(t.s+100*e.left,0,100),v:bh(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Th(t.s)+"%, Brightness "+Th(t.v)+"%"},o.createElement(Eh,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Nh(t)})))})),Ah=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0};function Mh(e,t,n){var r=gh(n),i=(0,o.useState)((function(){return e.toHsva(t)})),a=i[0],s=i[1],u=(0,o.useRef)({color:t,hsva:a});(0,o.useEffect)((function(){if(!e.equal(t,u.current.color)){var n=e.toHsva(t);u.current={hsva:n,color:t},s(n)}}),[t,e]),(0,o.useEffect)((function(){var t;Ah(a,u.current.hsva)||e.equal(t=e.fromHsva(a),u.current.color)||(u.current={hsva:a,color:t},r(t))}),[a,e,r]);var l=(0,o.useCallback)((function(e){s((function(t){return Object.assign({},t,e)}))}),[]);return[a,l]}var Fh,Uh="undefined"!=typeof window?o.useLayoutEffect:o.useEffect,zh=new Map,qh=function(e){Uh((function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!zh.has(t)){var r=t.createElement("style");r.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',zh.set(t,r);var i=Fh||n.nc;i&&r.setAttribute("nonce",i),t.head.appendChild(r)}}),[])},Wh=function(e){var t=e.className,n=e.colorModel,r=e.color,i=void 0===r?n.defaultColor:r,a=e.onChange,s=yh(e,["className","colorModel","color","onChange"]),u=(0,o.useRef)(null);qh(u);var l=Mh(n,i,a),c=l[0],f=l[1],d=Sh(["react-colorful",t]);return o.createElement("div",mh({},s,{ref:u,className:d}),o.createElement(Lh,{hsva:c,onChange:f}),o.createElement(Dh,{hue:c.h,onChange:f,className:"react-colorful__last-control"}))},Bh={defaultColor:"000",toHsva:function(e){return jh(Ih(e))},fromHsva:function(e){return n=(t=Ph(e)).g,r=t.b,"#"+Rh(t.r)+Rh(n)+Rh(r);var t,n,r},equal:function(e,t){return e.toLowerCase()===t.toLowerCase()||Ah(Ih(e),Ih(t))}},Hh=function(e){return o.createElement(Wh,mh({},e,{colorModel:Bh}))},Vh=["currentColor","onChangeColor"];function Yh(e){var t=e.currentColor,n=e.onChangeColor,r=dh(e,Vh),a=i((0,o.useState)(),2),s=a[0],u=a[1];(0,o.useEffect)((function(){u(t)}),[t]);return(0,hh.jsx)(Hh,ht({color:s,onChange:function(e){return function(e){n(e),u(e)}(e)}},r))}function Kh(e){var t=e.object,n=e.currentTheme,r=void 0===n?"dark":n,a=e.colorInverted,s=i((0,o.useState)(""),2),u=s[0],l=s[1],c=i((0,o.useState)(""),2),f=c[0],d=c[1],h=function(e){return e=~(e=parseInt(Number(e.replace("#","0x")),10)),e>>>=0,e="#"+(e&=16777215).toString(16).padStart(6,"0")},p={},v="";if((0,o.useEffect)((function(){d(r),l((function(){var e="";for(var n in t)e+=n+" : "+t[n]+";";return"{ ".concat(e," }")}))})),""!=u)for(var m in t)"--color-bg"===m||"--color-text"===m||"--color-0"===m||"--color-20"===m||"--color-40"===m?(v+=m+" : "+h(t[m])+";",p[m]=h(t[m])):p[m]=t[m];return a("dark"===f?p:t),(0,hh.jsxs)("style",{children:[":root ",u,':root[data-theme="light"] ',"{ ".concat(v," }")]})}var $h={};function Gh(){(0,o.useEffect)((function(){fh.onAuthStateChanged((function(t){t&&n?(localStorage.setItem("currentUser",t.uid),Fs(Ps(ch,"/users/"),(function(e){localStorage.setItem("allUsers",JSON.stringify(Object.assign({},e.val())))})),Fs(Ps(ch,"/tasks/"),(function(e){localStorage.setItem("taskList",JSON.stringify(Object.values(e.val()).slice()))})),Fs(Ps(ch,"/companys/"),(function(e){localStorage.setItem("allCompany",JSON.stringify(e.val()))}))):e("/login")}))}),[]);var e=A(),t=L(),n=parseInt(localStorage.getItem("loginState")),r=i((0,o.useState)((function(){if(localStorage.getItem("colorScheme"))return Object.assign(JSON.parse(localStorage.getItem("colorScheme")));var e={"--color-bg":"#2F2F2F","--color-0":"#000000","--color-20":"#34302A","--color-40":"#635D57","--color-text":"#ffffff","--color-main":"#e35f95"};return localStorage.setItem("colorScheme",JSON.stringify(e)),e})),2),a=r[0],s=r[1],u=i((0,o.useState)((function(){return localStorage.getItem("fontsize")?localStorage.getItem("fontsize"):(localStorage.setItem("fontsize","16px"),"16px")})),2),l=u[0],c=u[1],f=i((0,o.useState)((function(){return localStorage.getItem("theme")?localStorage.getItem("theme"):(localStorage.setItem("theme","dark"),"dark")})),2),d=f[0],h=f[1];(0,o.useEffect)((function(){document.documentElement.setAttribute("data-theme",d),fh.onAuthStateChanged((function(r){r&&n?"/tasks-management"!==t.pathname&&"/"!==t.pathname||(e("/dashboard"),t.pathname="/dashboard"):e("/login")}))})),(0,o.useEffect)((function(){"dark"===d?(document.querySelector(".toggle-mode").classList.remove("dark"),document.querySelector(".mode").classList.add("off")):(document.querySelector(".toggle-mode").classList.add("dark"),document.querySelector(".mode").classList.remove("off")),document.documentElement.style.fontSize=l,localStorage.setItem("fontsize",l)}));var p=function(){(function(e){return Ze(e).signOut()})(fh).then((function(){e("/login")}))},v=function(e,t){var n={};for(var r in a)n[r]=r===t?e:a[r];console.log(n),"--color-bg"===t?fetch("https://www.thecolorapi.com/scheme?hex=".concat(n["--color-bg"].replace("#",""))).then((function(e){return e.json()})).then((function(e){n["--color-0"]=e.colors[0].hex.value,n["--color-bg"]=e.colors[1].hex.value,n["--color-20"]=e.colors[2].hex.value,n["--color-40"]=e.colors[3].hex.value})).then((function(){localStorage.setItem("colorScheme",JSON.stringify(n)),s(n)})):(localStorage.setItem("colorScheme",JSON.stringify(n)),s(n))},m=function(e){e.currentTarget.nextSibling.classList.contains("is-active")?e.currentTarget.nextSibling.classList.remove("is-active"):([].forEach.call(document.querySelectorAll(".react-colorful"),(function(e){e.classList.remove("is-active")})),e.currentTarget.nextSibling.classList.add("is-active"))};return(0,hh.jsxs)("div",{className:"app",children:[(0,hh.jsxs)("nav",{className:"nav",children:[(0,hh.jsxs)(G,{className:t.pathname.includes("dashboard")||t.pathname.includes("tasks-management")?"nav-item is-active":"nav-item",to:"/dashboard",children:[(0,hh.jsx)("span",{children:"Home"}),(0,hh.jsx)("span",{className:"material-symbols-outlined",children:"home"})]}),(0,hh.jsxs)(G,{className:t.pathname.includes("tasks")&&!t.pathname.includes("tasks-")?"nav-item is-active":"nav-item",to:"/tasks",children:[(0,hh.jsx)("span",{children:"Tasks"}),(0,hh.jsx)("span",{className:"material-symbols-outlined",children:"task"})]}),(0,hh.jsxs)(G,{className:t.pathname.includes("profile")?"nav-item is-active":"nav-item",to:"/profile",children:[(0,hh.jsx)("span",{children:"Profile"}),(0,hh.jsx)("span",{className:"material-symbols-outlined",children:"settings"})]}),(0,hh.jsx)("span",{className:"indicator"})]}),(0,hh.jsxs)("div",{className:"color-picker",onClick:function(e){e.currentTarget===e.target&&(e.currentTarget.classList.toggle("is-active"),[].forEach.call(document.querySelectorAll(".react-colorful"),(function(e){e.classList.remove("is-active")})))},children:[(0,hh.jsxs)("div",{className:"color-picker-section",children:[(0,hh.jsx)(vh,{value:"",icon:"format_color_fill",className:"button is-primary",onClick:function(e){return m(e)}}),(0,hh.jsx)(Yh,{currentColor:"dark"===d?a["--color-bg"]:$h["--color-bg"],onChangeColor:function(e){return v(e,"--color-bg")}},"bg"),(0,hh.jsx)("span",{className:"tag is-info is-small",children:"Background Color"})]}),(0,hh.jsxs)("div",{className:"color-picker-section",children:[(0,hh.jsx)(vh,{value:"",icon:"format_shapes",className:"button is-primary",onClick:function(e){return m(e)}}),(0,hh.jsx)(Yh,{currentColor:"dark"===d?a["--color-main"]:$h["--color-main"],onChangeColor:function(e){return v(e,"--color-main")}},"main"),(0,hh.jsx)("span",{className:"tag is-info is-small",children:"Main Color"})]}),(0,hh.jsxs)("div",{className:"color-picker-section",children:[(0,hh.jsx)(vh,{value:"",icon:"format_color_text",className:"button is-primary",onClick:function(e){return m(e)}}),(0,hh.jsx)(Yh,{currentColor:"dark"===d?a["--color-text"]:$h["--color-text"],onChangeColor:function(e){return v(e,"--color-text")}},"text"),(0,hh.jsx)("span",{className:"tag is-info is-small",children:"Text Color"})]}),(0,hh.jsx)("span",{className:"material-symbols-outlined color-picker-icon",children:"palette"}),(0,hh.jsx)(vh,{value:"",icon:"restart_alt",className:"button is-danger reset-color",onClick:function(){!function(){var e={"--color-bg":"#2F2F2F","--color-0":"#000000","--color-20":"#34302A","--color-40":"#635D57","--color-text":"#ffffff","--color-main":"#e35f95"};[].forEach.call(document.querySelectorAll(".react-colorful"),(function(e){e.classList.remove("is-active")})),localStorage.setItem("colorScheme",JSON.stringify(e)),s(e)}()}})]}),(0,hh.jsxs)("div",{className:"font-size",children:[(0,hh.jsx)(vh,{value:"",icon:"format_size",className:"button is-primary",onClick:function(e){return e.currentTarget.parentElement.classList.toggle("is-active")}}),(0,hh.jsx)(vh,{value:"Small",icon:"format_size",className:"font-size-select button is-primary",onClick:function(){c("12px")}}),(0,hh.jsx)(vh,{value:"Regular",icon:"format_size",className:"font-size-select button is-primary",onClick:function(){c("16px")}}),(0,hh.jsx)(vh,{value:"Large",icon:"format_size",className:"font-size-select button is-primary",onClick:function(){c("20px")}})]}),(0,hh.jsx)(vh,{value:"",icon:"logout",className:"button is-primary logout",onClick:function(){p()}}),(0,hh.jsx)(z,{}),(0,hh.jsx)(Kh,{object:a,currentTheme:d,colorInverted:function(e){return function(e){$h=Object.assign(e)}(e)}}),(0,hh.jsx)("div",{className:"toggle-mode dark",children:(0,hh.jsx)("div",{className:"mode",onClick:function(e){return function(e){var t=e.currentTarget;e.currentTarget.parentElement.classList.toggle("dark"),e.currentTarget.classList.toggle("off"),t.classList.add("scaling"),setTimeout((function(){t.classList.remove("scaling")}),520),"light"===d?(localStorage.setItem("theme","dark"),h("dark")):(localStorage.setItem("theme","light"),h("light"))}(e)}})})]})}for(var Qh,Jh=256,Xh=[];Jh--;)Xh[Jh]=(Jh+256).toString(16).substring(1);function Zh(e){var t=0,n=e||11;if(!Qh||Jh+n>512)for(Qh="",Jh=0;t<256;t++)Qh+=Xh[256*Math.random()|0];return Qh.substring(Jh,Jh+++n)}function ep(e){var t=e.defaultValue,n=e.valueList,r=e.type,a=void 0===r?"":r,s=e.onChange,u=e.disable,l=void 0!==u&&u,c=i((0,o.useState)(t),2),f=c[0],d=c[1];return(0,hh.jsxs)("div",{className:"dropdown "+a,onClick:function(e){return function(e){var t=document.querySelectorAll(".dropdown");if(l)return!1;e.currentTarget.classList.contains("is-active")?[].forEach.call(t,(function(e){e.classList.remove("is-active")})):([].forEach.call(t,(function(e){e.classList.remove("is-active")})),e.currentTarget.classList.add("is-active"))}(e)},children:[(0,hh.jsx)("div",{className:"dropdown-trigger",children:(0,hh.jsxs)("button",{className:"button is-small","aria-haspopup":"true","aria-controls":"dropdown-menu",children:[(0,hh.jsx)("span",{children:f}),(0,hh.jsx)("span",{className:"icon is-small",children:(0,hh.jsx)("span",{className:"material-symbols-outlined",children:"expand_more"})})]})}),(0,hh.jsx)("div",{className:"dropdown-menu",role:"menu",children:(0,hh.jsx)("div",{className:"dropdown-content",children:n.map((function(e){return(0,hh.jsx)("a",{className:e.name===f?"dropdown-item is-active":"dropdown-item",onClick:function(e){!function(e){f===e.currentTarget.innerHTML?(s(t),d(t)):(s(e.currentTarget.innerHTML),d(e.currentTarget.innerHTML))}(e)},children:e.name},Zh())}))})})]})}var tp=[{id:"month01",name:"January"},{id:"month02",name:"February"},{id:"month03",name:"Match"},{id:"month04",name:"April"},{id:"month05",name:"May"},{id:"month06",name:"Jun"},{id:"month07",name:"July"},{id:"month08",name:"August"},{id:"month09",name:"September"},{id:"month10",name:"October"},{id:"month11",name:"November"},{id:"month12",name:"December"}],np=[{id:"state01",name:"Waiting"},{id:"state02",name:"To-do"},{id:"state03",name:"Doing"},{id:"state04",name:"Feedback"},{id:"state05",name:"Done"},{id:"state06",name:"Pending"},{id:"state07",name:"Cancel"}];function rp(){return tp}function ip(){return np}function ap(e){var t=e.task;return(0,hh.jsxs)("tr",{children:[(0,hh.jsx)("th",{children:(0,hh.jsxs)(G,{to:"/tasks/".concat(t.id),children:[(0,hh.jsx)("p",{children:t.title}),(0,hh.jsx)("p",{children:t.des})]})}),(0,hh.jsx)("th",{children:t.deadline.split("-").reverse().join("-")}),(0,hh.jsx)("th",{width:"120",className:"dropdown-state",children:(0,hh.jsx)(ep,{defaultValue:t.state,type:"is-right",valueList:sp,onChange:function(e){!function(e){t.state=e,Ds(Ps(ch,"tasks/".concat(t.id)),t)}(e)}},"myTask".concat(t.id))})]})}function op(e){var t=e.user,n=e.taskList,r=new Date;return(0,hh.jsxs)("tr",{children:[(0,hh.jsxs)("th",{children:[(0,hh.jsx)("span",{className:"imageAvatar",children:(0,hh.jsx)("img",{src:t.avatar})}),(0,hh.jsxs)("span",{className:"userInfo",children:[(0,hh.jsx)("span",{children:t.name}),(0,hh.jsx)("span",{children:t.email})]})]}),(0,hh.jsx)("th",{width:"120px",children:n.filter((function(e){return e.incharge===t.id&&"Done"!=e.state})).length}),(0,hh.jsx)("th",{width:"120px",children:n.filter((function(e){var n=new Date(e.deadline);if(e.incharge===t.id&&"Done"!=e.state&&n.getDate()<r.getDate())return e})).length})]})}var sp=ip();function up(){var e=A(),t=i((0,o.useState)(),2),n=t[0],r=t[1],a=i((0,o.useState)(),2),s=a[0],u=a[1],l=n&&Intl.NumberFormat("en-US"),c=n&&l.format(n.reduce((function(e,t){return e+parseInt(t.cost)}),0)),f=n&&l.format(n.filter((function(e){return e.incharge===fh.currentUser.uid})).reduce((function(e,t){return e+parseInt(t.cost)}),0)),d=n&&l.format(n.filter((function(e){return null===e.incharge})).reduce((function(e,t){return e+parseInt(t.cost)}),0)),h=[];if((0,o.useEffect)((function(){fh.onAuthStateChanged((function(t){t?(Fs(Ps(ch,"/users/"),(function(e){u(Object.assign({},e.val()))})),Fs(Ps(ch,"/tasks/"),(function(e){r(Object.values(e.val()).slice())}))):e("/login")}))}),[]),(0,o.useEffect)((function(){var e=document.querySelectorAll(".yourTasks tr");[].forEach.call(e,(function(e){e.querySelector(".dropdown .button span")&&"Done"===e.querySelector(".dropdown .button span").innerHTML&&e.classList.add("has-done")}))})),n&&(h=n.sort((function(e,t){return sp.find((function(t){if(t.name===e.state)return t})).id<sp.find((function(e){if(e.name===t.state)return e})).id?-1:1}))),n)return(0,hh.jsxs)("div",{className:"Dashboard",children:[(0,hh.jsxs)("div",{className:"totalCost dashboard-section is-fullwidth",children:[(0,hh.jsx)("div",{className:"section-title",children:"Total Cost"}),(0,hh.jsxs)("div",{className:"cost-card",children:[(0,hh.jsx)("h1",{children:"Team Design"}),(0,hh.jsx)("p",{children:c})]}),(0,hh.jsxs)("div",{className:"cost-card",children:[(0,hh.jsx)("h1",{children:"Your Tasks"}),(0,hh.jsx)("p",{children:f})]}),(0,hh.jsxs)("div",{className:"cost-card",children:[(0,hh.jsx)("h1",{children:"Non-incharge Tasks"}),(0,hh.jsx)("p",{children:d})]})]}),(0,hh.jsx)("div",{className:"dashboard-section-left",children:(0,hh.jsxs)("div",{className:"userList dashboard-section",children:[(0,hh.jsx)("div",{className:"section-title",children:"Users List"}),(0,hh.jsxs)("table",{className:"table is-fullwidth",children:[(0,hh.jsx)("thead",{children:(0,hh.jsxs)("tr",{children:[(0,hh.jsx)("th",{children:(0,hh.jsx)("abbr",{children:"Username"})}),(0,hh.jsx)("th",{width:"120px",children:(0,hh.jsx)("abbr",{children:"Doing Task"})}),(0,hh.jsx)("th",{width:"120px",children:(0,hh.jsx)("abbr",{children:"Overdue"})})]})}),(0,hh.jsx)("tbody",{children:Object.values(s).map((function(e){return(0,hh.jsx)(op,{taskList:n,user:e},e.id)}))})]})]})}),(0,hh.jsxs)("div",{className:"dashboard-section-right",children:[(0,hh.jsxs)("div",{className:"yourTasks dashboard-section",children:[(0,hh.jsx)("div",{className:"section-title",children:"My Tasks"}),(0,hh.jsxs)("table",{className:"table is-fullwitdh",children:[(0,hh.jsx)("thead",{children:(0,hh.jsxs)("tr",{children:[(0,hh.jsx)("th",{children:(0,hh.jsx)("abbr",{children:"Title"})}),(0,hh.jsx)("th",{children:(0,hh.jsx)("abbr",{children:"Deadline"})}),(0,hh.jsx)("th",{children:(0,hh.jsx)("abbr",{children:"State"})})]})}),(0,hh.jsx)("tbody",{children:h.map((function(e){if(e.incharge===fh.currentUser.uid)return(0,hh.jsx)(ap,{task:e},e.id)}))})]})]}),(0,hh.jsxs)("div",{className:"yourTasks dashboard-section",children:[(0,hh.jsx)("div",{className:"section-title",children:"Create by me"}),(0,hh.jsxs)("table",{className:"table is-fullwitdh",children:[(0,hh.jsx)("thead",{children:(0,hh.jsxs)("tr",{children:[(0,hh.jsx)("th",{children:(0,hh.jsx)("abbr",{children:"Title"})}),(0,hh.jsx)("th",{children:(0,hh.jsx)("abbr",{children:"Deadline"})}),(0,hh.jsx)("th",{children:(0,hh.jsx)("abbr",{children:"State"})})]})}),(0,hh.jsx)("tbody",{children:h.map((function(e){if(e.creator===fh.currentUser.uid)return(0,hh.jsx)(ap,{task:e},e.id)}))})]})]})]})]})}var lp=n(7),cp=n.n(lp);function fp(){return Array.prototype.slice.call(arguments).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return"string"===typeof e})).join(" ")}var dp=n(916),hp=n.n(dp);var pp=hp()((function(){var e=[];return"undefined"!==typeof window&&(window.navigator.languages&&(e=e.concat(window.navigator.languages)),window.navigator.language&&e.push(window.navigator.language),window.navigator.userLanguage&&e.push(window.navigator.userLanguage),window.navigator.browserLanguage&&e.push(window.navigator.browserLanguage),window.navigator.systemLanguage&&e.push(window.navigator.systemLanguage)),e.push("en-US"),function(e){return e.map((function(e){if(!e||-1===e.indexOf("-")||e.toLowerCase()!==e)return e;var t=e.split("-");return"".concat(t[0],"-").concat(t[1].toUpperCase())}))}(e.filter((function(e,t,n){return n.indexOf(e)===t})))}));var vp=hp()((function(){return pp()[0]})),mp=vp;function yp(e,t,n){return function(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n,a=e(r)+i;return t(a)}}function gp(e){return function(t){return new Date(e(t).getTime()-1)}}function bp(e){return function(t){return e.map((function(e){return e(t)}))}}function _p(e){if(e instanceof Date)return e.getFullYear();if("number"===typeof e)return e;var t=parseInt(e,10);if("string"===typeof e&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function kp(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function wp(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function xp(e){var t=_p(e),n=t+(1-t)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var Cp=yp(_p,xp,-100),Sp=yp(_p,xp,100),Ep=gp(Sp),Tp=yp(_p,Ep,-100),Ip=(yp(_p,Ep,100),bp([xp,Ep]));function Op(e){var t=_p(e),n=t+(1-t)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var Np=yp(_p,Op,-10),Pp=yp(_p,Op,10),Rp=gp(Pp),jp=yp(_p,Rp,-10),Dp=(yp(_p,Rp,10),bp([Op,Rp]));function Lp(e){var t=_p(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var Ap=yp(_p,Lp,-1),Mp=yp(_p,Lp,1),Fp=gp(Mp),Up=yp(_p,Fp,-1),zp=(yp(_p,Fp,1),bp([Lp,Fp]));function qp(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=_p(n),a=kp(n)+r,o=new Date;return o.setFullYear(i,a,1),o.setHours(0,0,0,0),e(o)}}function Wp(e){var t=_p(e),n=kp(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}var Bp=qp(Wp,-1),Hp=qp(Wp,1),Vp=gp(Hp),Yp=qp(Vp,-1),Kp=(qp(Vp,1),bp([Wp,Vp]));function $p(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=_p(n),a=kp(n),o=wp(n)+r,s=new Date;return s.setFullYear(i,a,o),s.setHours(0,0,0,0),e(s)}}function Gp(e){var t=_p(e),n=kp(e),r=wp(e),i=new Date;return i.setFullYear(t,n,r),i.setHours(0,0,0,0),i}$p(Gp,-1);var Qp,Jp=gp($p(Gp,1)),Xp=($p(Jp,-1),$p(Jp,1),bp([Gp,Jp]));function Zp(e){return wp(Vp(e))}function ev(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nv,rv={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},iv=(tv(Qp={},rv.US,["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"]),tv(Qp,rv.ARABIC,["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]),tv(Qp,rv.HEBREW,["he","he-IL"]),Qp),av=(nv=Array(7),function(e){if(Array.isArray(e))return ev(e)}(nv)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(nv)||function(e,t){if(e){if("string"===typeof e)return ev(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ev(e,t):void 0}}(nv)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e,t){return t})),ov=new Map;function sv(e){return function(t,n){return function(e){return function(t,n){var r=t||mp();ov.has(r)||ov.set(r,new Map);var i=ov.get(r);return i.has(e)||i.set(e,new Intl.DateTimeFormat(r,e).format),i.get(e)(n)}}(e)(t,function(e){var t=new Date(e);return new Date(t.setHours(12))}(n))}}sv({day:"numeric",month:"numeric",year:"numeric"});var uv=sv({day:"numeric"}),lv=sv({day:"numeric",month:"long",year:"numeric"}),cv=sv({month:"long"}),fv=sv({month:"long",year:"numeric"}),dv=sv({weekday:"short"}),hv=sv({weekday:"long"}),pv=sv({year:"numeric"}),vv=av[0],mv=av[5],yv=av[6];function gv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rv.ISO_8601,n=e.getDay();switch(t){case rv.ISO_8601:return(n+6)%7;case rv.ARABIC:return(n+1)%7;case rv.HEBREW:case rv.US:return n;default:throw new Error("Unsupported calendar type.")}}function bv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rv.ISO_8601,n=_p(e),r=kp(e),i=e.getDate()-gv(e,t);return new Date(n,r,i)}function _v(e,t){switch(e){case"century":return xp(t);case"decade":return Op(t);case"year":return Lp(t);case"month":return Wp(t);case"day":return Gp(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function kv(e,t){switch(e){case"century":return Sp(t);case"decade":return Pp(t);case"year":return Mp(t);case"month":return Hp(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function wv(e,t){switch(e){case"century":return Ep(t);case"decade":return Rp(t);case"year":return Fp(t);case"month":return Vp(t);case"day":return Jp(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function xv(e,t){switch(e){case"century":return Ip(t);case"decade":return Dp(t);case"year":return zp(t);case"month":return Kp(t);case"day":return Xp(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Cv(e,t,n){var r=[t,n].sort((function(e,t){return e-t}));return[_v(e,r[0]),wv(e,r[1])]}function Sv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pv,n=arguments.length>2?arguments[2]:void 0;return n.map((function(n){return t(e,n)})).join(" \u2013 ")}function Ev(e,t,n){return Sv(e,t,Dp(n))}function Tv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rv.ISO_8601,n=e.getDay();switch(t){case rv.ARABIC:case rv.HEBREW:return n===mv||n===yv;case rv.ISO_8601:case rv.US:return n===yv||n===vv;default:throw new Error("Unsupported calendar type.")}}function Iv(e){return Iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(e)}var Ov=Object.values(rv),Nv=["century","decade","year","month"],Pv=cp().oneOf(Ov),Rv=cp().oneOfType([cp().string,cp().arrayOf(cp().string)]),jv=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(Iv(r),"` supplied to `").concat(n,"`, expected instance of `Date`."));var i=e.maxDate;return i&&r>i?new Error("Invalid prop `".concat(t,"` of type `").concat(Iv(r),"` supplied to `").concat(n,"`, minDate cannot be larger than maxDate.")):null},Dv=function(e,t,n){var r=e[t];if(!r)return null;if(!(r instanceof Date))return new Error("Invalid prop `".concat(t,"` of type `").concat(Iv(r),"` supplied to `").concat(n,"`, expected instance of `Date`."));var i=e.minDate;return i&&r<i?new Error("Invalid prop `".concat(t,"` of type `").concat(Iv(r),"` supplied to `").concat(n,"`, maxDate cannot be smaller than minDate.")):null},Lv=cp().oneOfType([cp().func,cp().shape({current:cp().any})]),Av=cp().oneOfType([cp().instanceOf(Date),cp().arrayOf(cp().instanceOf(Date))]),Mv=cp().arrayOf(cp().oneOf(Nv)),Fv=function(e,t,n){var r=e[t],i=e.views||Nv;return void 0!==r&&-1===i.indexOf(r)?new Error("Invalid prop `".concat(t,"` of value `").concat(r,"` supplied to `").concat(n,"`, expected one of [").concat(i.map((function(e){return'"'.concat(e,'"')})).join(", "),"].")):null};Fv.isRequired=function(e,t,n){var r=e[t];return r?Fv(e,t,n):new Error("The prop `".concat(t,"` is marked as required in `").concat(n,"`, but its value is `").concat(r,"`."))};var Uv={activeStartDate:cp().instanceOf(Date).isRequired,hover:cp().instanceOf(Date),locale:cp().string,maxDate:Dv,minDate:jv,onClick:cp().func,onMouseOver:cp().func,tileClassName:cp().oneOfType([cp().func,Rv]),tileContent:cp().oneOfType([cp().func,cp().node]),value:Av,valueType:cp().string},zv={activeStartDate:cp().instanceOf(Date).isRequired,classes:cp().arrayOf(cp().string).isRequired,date:cp().instanceOf(Date).isRequired,locale:cp().string,maxDate:Dv,minDate:jv,onClick:cp().func,onMouseOver:cp().func,style:cp().objectOf(cp().oneOfType([cp().string,cp().number])),tileClassName:cp().oneOfType([cp().func,Rv]),tileContent:cp().oneOfType([cp().func,cp().node]),tileDisabled:cp().func},qv="react-calendar__navigation";function Wv(e){var t=e.activeStartDate,n=e.drillUp,r=e.formatMonthYear,i=void 0===r?fv:r,a=e.formatYear,s=void 0===a?pv:a,u=e.locale,l=e.maxDate,c=e.minDate,f=e.navigationAriaLabel,d=void 0===f?"":f,h=e.navigationAriaLive,p=e.navigationLabel,v=e.next2AriaLabel,m=void 0===v?"":v,y=e.next2Label,g=void 0===y?"\xbb":y,b=e.nextAriaLabel,_=void 0===b?"":b,k=e.nextLabel,w=void 0===k?"\u203a":k,x=e.prev2AriaLabel,C=void 0===x?"":x,S=e.prev2Label,E=void 0===S?"\xab":S,T=e.prevAriaLabel,I=void 0===T?"":T,O=e.prevLabel,N=void 0===O?"\u2039":O,P=e.setActiveStartDate,R=e.showDoubleView,j=e.view,D=e.views.indexOf(j)>0,L="century"!==j,A=function(e,t){switch(e){case"century":return Cp(t);case"decade":return Np(t);case"year":return Ap(t);case"month":return Bp(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(j,t),M=L&&function(e,t){switch(e){case"decade":return Np(t,-100);case"year":return Ap(t,-10);case"month":return Bp(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(j,t),F=kv(j,t),U=L&&function(e,t){switch(e){case"decade":return Pp(t,100);case"year":return Mp(t,10);case"month":return Hp(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}(j,t),z=function(){if(A.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"century":return Tp(t);case"decade":return jp(t);case"year":return Up(t);case"month":return Yp(t);default:throw new Error("Invalid rangeType: ".concat(e))}}(j,t);return c&&c>=e}(),q=L&&function(){if(M.getFullYear()<0)return!0;var e=function(e,t){switch(e){case"decade":return jp(t,-100);case"year":return Up(t,-10);case"month":return Yp(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}(j,t);return c&&c>=e}(),W=l&&l<F,B=L&&l&&l<U;function H(e){var t=function(){switch(j){case"century":return function(e,t,n){return Sv(e,t,Ip(n))}(u,s,e);case"decade":return Ev(u,s,e);case"year":return s(u,e);case"month":return i(u,e);default:throw new Error("Invalid view: ".concat(j,"."))}}();return p?p({date:e,label:t,locale:u||vp(),view:j}):t}return o.createElement("div",{className:qv},null!==E&&L&&o.createElement("button",{"aria-label":C,className:"".concat(qv,"__arrow ").concat(qv,"__prev2-button"),disabled:q,onClick:function(){P(M,"prev2")},type:"button"},E),null!==N&&o.createElement("button",{"aria-label":I,className:"".concat(qv,"__arrow ").concat(qv,"__prev-button"),disabled:z,onClick:function(){P(A,"prev")},type:"button"},N),function(){var e="".concat(qv,"__label");return o.createElement("button",{"aria-label":d,"aria-live":h,className:e,disabled:!D,onClick:n,style:{flexGrow:1},type:"button"},o.createElement("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--from")},H(t)),R&&o.createElement(o.Fragment,null,o.createElement("span",{className:"".concat(e,"__divider")}," \u2013 "),o.createElement("span",{className:"".concat(e,"__labelText ").concat(e,"__labelText--to")},H(F))))}(),null!==w&&o.createElement("button",{"aria-label":_,className:"".concat(qv,"__arrow ").concat(qv,"__next-button"),disabled:W,onClick:function(){P(F,"next")},type:"button"},w),null!==g&&L&&o.createElement("button",{"aria-label":m,className:"".concat(qv,"__arrow ").concat(qv,"__next2-button"),disabled:B,onClick:function(){P(U,"next2")},type:"button"},g))}Wv.propTypes={activeStartDate:cp().instanceOf(Date).isRequired,drillUp:cp().func.isRequired,formatMonthYear:cp().func,formatYear:cp().func,locale:cp().string,maxDate:cp().instanceOf(Date),minDate:cp().instanceOf(Date),navigationAriaLabel:cp().string,navigationAriaLive:cp().string,navigationLabel:cp().func,next2AriaLabel:cp().string,next2Label:cp().node,nextAriaLabel:cp().string,nextLabel:cp().node,prev2AriaLabel:cp().string,prev2Label:cp().node,prevAriaLabel:cp().string,prevLabel:cp().node,setActiveStartDate:cp().func.isRequired,showDoubleView:cp().bool,view:Fv.isRequired,views:Mv.isRequired};var Bv=["children","className","direction","count","offset","style","wrap"];function Hv(){return Hv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hv.apply(this,arguments)}function Vv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vv(Object(n),!0).forEach((function(t){Kv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $v(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gv(e){return"".concat(e,"%")}function Qv(e){var t=e.children,n=e.className,r=e.direction,i=e.count,a=e.offset,s=e.style,u=e.wrap,l=$v(e,Bv);return o.createElement("div",Hv({className:n,style:Yv({display:"flex",flexDirection:r,flexWrap:u?"wrap":"no-wrap"},s)},l),o.Children.map(t,(function(e,t){return o.cloneElement(e,Yv(Yv({},e.props),{},{style:{flexBasis:Gv(100/i),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:a&&0===t?Gv(100*a/i):null}}))})))}function Jv(e){return function(e){if(Array.isArray(e))return Xv(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Xv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xv(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zv(e,t){return t[0]<=e&&t[1]>=e}function em(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function tm(e,t){return Zv(e[0],t)||Zv(e[1],t)}function nm(e,t,n){var r=[];if(tm(t,e)){r.push(n);var i=Zv(e[0],t),a=Zv(e[1],t);i&&r.push("".concat(n,"Start")),a&&r.push("".concat(n,"End")),i&&a&&r.push("".concat(n,"BothEnds"))}return r}function rm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value,n=e.valueType,r=e.date,i=e.dateType,a=e.hover,o="react-calendar__tile",s=[o];if(!r)return s;if(!Array.isArray(r)&&!i)throw new Error("getTileClasses(): Unable to get tile activity classes because one or more required arguments were not passed.");var u=new Date,l=Array.isArray(r)?r:xv(i,r);if(Zv(u,l)&&s.push("".concat(o,"--now")),!t)return s;if(!Array.isArray(t)&&!n)throw new Error("getTileClasses(): Unable to get tile activity classes because one or more required arguments were not passed.");var c=Array.isArray(t)?t:xv(n,t);em(c,l)?s.push("".concat(o,"--active")):tm(c,l)&&s.push("".concat(o,"--hasActive"));var f=nm(c,l,"".concat(o,"--range"));s.push.apply(s,Jv(f));var d=[].concat(t);if(a&&1===d.length){var h=a>c[0]?[c[0],a]:[a,c[0]],p=nm(h,l,"".concat(o,"--hover"));s.push.apply(s,Jv(p))}return s}Qv.propTypes={children:cp().node,className:cp().string,count:cp().number.isRequired,direction:cp().string,offset:cp().number,style:cp().objectOf(cp().oneOfType([cp().string,cp().number])),wrap:cp().bool};var im=["className","count","dateTransform","dateType","end","hover","offset","start","step","tile","value","valueType"];function am(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function om(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?am(Object(n),!0).forEach((function(t){sm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):am(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function um(){return um=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},um.apply(this,arguments)}function lm(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cm(e){for(var t=e.className,n=e.count,r=void 0===n?3:n,i=e.dateTransform,a=e.dateType,s=e.end,u=e.hover,l=e.offset,c=e.start,f=e.step,d=void 0===f?1:f,h=e.tile,p=e.value,v=e.valueType,m=lm(e,im),y=[],g=c;g<=s;g+=d){var b=i(g);y.push(o.createElement(h,um({key:b.getTime(),classes:rm({value:p,valueType:v,date:b,dateType:a,hover:u}),date:b,point:g},m)))}return o.createElement(Qv,{className:t,count:r,offset:l,wrap:!0},y)}function fm(e){return fm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(e)}function dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dm(Object(n),!0).forEach((function(t){km(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mm(e,t){return mm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},mm(e,t)}function ym(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_m(e);if(t){var i=_m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return gm(this,n)}}function gm(e,t){if(t&&("object"===fm(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bm(e)}function bm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _m(e){return _m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_m(e)}function km(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wm(e,t){return e&&!t||!e&&t||e&&t&&e.getTime()!==t.getTime()}function xm(e,t){var n=e.activeStartDate,r=e.date,i=e.view;return"function"===typeof t?t({activeStartDate:n,date:r,view:i}):t}cm.propTypes=om(om({},Uv),{},{activeStartDate:cp().instanceOf(Date),count:cp().number,dateTransform:cp().func.isRequired,dateType:cp().string,offset:cp().number,step:cp().number,tile:cp().func.isRequired});var Cm=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mm(e,t)}(a,e);var t,n,r,i=ym(a);function a(){var e;pm(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return km(bm(e=i.call.apply(i,[this].concat(n))),"state",{}),e}return t=a,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.activeStartDate,r=e.tileClassName,i=e.tileContent,a={};return(r!==t.tileClassNameProps||wm(n,t.activeStartDateProps))&&(a.tileClassName=xm(e,r),a.tileClassNameProps=r),(i!==t.tileContentProps||wm(n,t.activeStartDateProps))&&(a.tileContent=xm(e,i),a.tileContentProps=i),a.activeStartDateProps=n,a}}],(n=[{key:"render",value:function(){var e=this.props,t=e.activeStartDate,n=e.children,r=e.classes,i=e.date,a=e.formatAbbr,s=e.locale,u=e.maxDate,l=e.maxDateTransform,c=e.minDate,f=e.minDateTransform,d=e.onClick,h=e.onMouseOver,p=e.style,v=e.tileDisabled,m=e.view,y=this.state,g=y.tileClassName,b=y.tileContent;return o.createElement("button",{className:fp(r,g),disabled:c&&f(c)>i||u&&l(u)<i||v&&v({activeStartDate:t,date:i,view:m}),onClick:d&&function(e){return d(i,e)},onFocus:h&&function(){return h(i)},onMouseOver:h&&function(){return h(i)},style:p,type:"button"},a?o.createElement("abbr",{"aria-label":a(s,i)},n):n,b)}}])&&vm(t.prototype,n),r&&vm(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component);Cm.propTypes=hm(hm({},zv),{},{children:cp().node.isRequired,formatAbbr:cp().func,maxDateTransform:cp().func.isRequired,minDateTransform:cp().func.isRequired});var Sm=["classes","formatYear"];function Em(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Em(Object(n),!0).forEach((function(t){Im(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Em(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Im(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Om(){return Om=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Om.apply(this,arguments)}function Nm(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pm(e){var t=e.classes,n=e.formatYear,r=void 0===n?pv:n,i=Nm(e,Sm),a=i.date,s=i.locale;return o.createElement(Cm,Om({},i,{classes:[].concat(t,"react-calendar__century-view__decades__decade"),maxDateTransform:Rp,minDateTransform:Op,view:"century"}),Ev(s,r,a))}function Rm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dm(){return Dm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dm.apply(this,arguments)}function Lm(e){var t=e.activeStartDate,n=_p(xp(t)),r=n+99;return o.createElement(cm,Dm({},e,{className:"react-calendar__century-view__decades",dateTransform:Op,dateType:"decade",end:r,start:n,step:10,tile:Pm}))}function Am(e){return o.createElement("div",{className:"react-calendar__century-view"},o.createElement(Lm,e))}Pm.propTypes=Tm(Tm({},zv),{},{formatYear:cp().func}),Lm.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rm(Object(n),!0).forEach((function(t){jm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Uv);var Mm=["classes","formatYear"];function Fm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Um(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fm(Object(n),!0).forEach((function(t){zm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qm(){return qm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qm.apply(this,arguments)}function Wm(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bm(e){var t=e.classes,n=e.formatYear,r=void 0===n?pv:n,i=Wm(e,Mm),a=i.date,s=i.locale;return o.createElement(Cm,qm({},i,{classes:[].concat(t,"react-calendar__decade-view__years__year"),maxDateTransform:Fp,minDateTransform:Lp,view:"decade"}),r(s,a))}function Hm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ym(){return Ym=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ym.apply(this,arguments)}function Km(e){var t=e.activeStartDate,n=_p(Op(t)),r=n+9;return o.createElement(cm,Ym({},e,{className:"react-calendar__decade-view__years",dateTransform:function(e){var t=new Date;return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t},dateType:"year",end:r,start:n,tile:Bm}))}function $m(e){return o.createElement("div",{className:"react-calendar__decade-view"},o.createElement(Km,e))}Bm.propTypes=Um(Um({},zv),{},{formatYear:cp().func}),Km.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hm(Object(n),!0).forEach((function(t){Vm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Uv);var Gm=["classes","formatMonth","formatMonthYear"];function Qm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qm(Object(n),!0).forEach((function(t){Xm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zm(){return Zm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zm.apply(this,arguments)}function ey(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ty(e){var t=e.classes,n=e.formatMonth,r=void 0===n?cv:n,i=e.formatMonthYear,a=void 0===i?fv:i,s=ey(e,Gm),u=s.date,l=s.locale;return o.createElement(Cm,Zm({},s,{classes:[].concat(t,"react-calendar__year-view__months__month"),formatAbbr:a,maxDateTransform:Vp,minDateTransform:Wp,view:"year"}),r(l,u))}function ny(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ry(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ny(Object(n),!0).forEach((function(t){iy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ny(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ay(){return ay=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ay.apply(this,arguments)}function oy(e){var t=_p(e.activeStartDate);return o.createElement(cm,ay({},e,{className:"react-calendar__year-view__months",dateTransform:function(e){var n=new Date;return n.setFullYear(t,e,1),n.setHours(0,0,0,0),n},dateType:"month",end:11,start:0,tile:ty}))}function sy(e){return o.createElement("div",{className:"react-calendar__year-view"},o.createElement(oy,e))}ty.propTypes=Jm(Jm({},zv),{},{formatMonth:cp().func,formatMonthYear:cp().func}),oy.propTypes=ry(ry({},Uv),{},{locale:cp().string});var uy=["formatDay","formatLongDate","calendarType","classes","currentMonthIndex"];function ly(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ly(Object(n),!0).forEach((function(t){fy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ly(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dy(){return dy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dy.apply(this,arguments)}function hy(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var py="react-calendar__month-view__days__day";function vy(e){var t=e.formatDay,n=void 0===t?uv:t,r=e.formatLongDate,i=void 0===r?lv:r,a=e.calendarType,s=e.classes,u=e.currentMonthIndex,l=hy(e,uy),c=l.date,f=l.locale;return o.createElement(Cm,dy({},l,{classes:[].concat(s,py,Tv(c,a)?"".concat(py,"--weekend"):null,c.getMonth()!==u?"".concat(py,"--neighboringMonth"):null),formatAbbr:i,maxDateTransform:Jp,minDateTransform:Gp,view:"month"}),n(f,c))}vy.propTypes=cy(cy({},zv),{},{currentMonthIndex:cp().number.isRequired,formatDay:cp().func,formatLongDate:cp().func});var my=["showFixedNumberOfWeeks","showNeighboringMonth"];function yy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gy(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function by(){return by=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},by.apply(this,arguments)}function _y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ky(e){var t=e.activeStartDate,n=e.calendarType,r=e.showFixedNumberOfWeeks,i=e.showNeighboringMonth,a=_y(e,my),s=_p(t),u=kp(t),l=r||i,c=gv(t,n),f=l?0:c,d=1+(l?-c:0),h=function(){if(r)return d+42-1;var e=Zp(t);if(i){var a=new Date;return a.setFullYear(s,u,e),a.setHours(0,0,0,0),e+(7-gv(a,n)-1)}return e}();return o.createElement(cm,by({},a,{className:"react-calendar__month-view__days",count:7,currentMonthIndex:u,dateTransform:function(e){var t=new Date;return t.setFullYear(s,u,e),t.setHours(0,0,0,0),t},dateType:"day",end:h,offset:f,start:d,tile:vy}))}ky.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yy(Object(n),!0).forEach((function(t){gy(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({calendarType:Pv.isRequired,showFixedNumberOfWeeks:cp().bool,showNeighboringMonth:cp().bool},Uv);var wy="react-calendar__month-view__weekdays";function xy(e){for(var t=e.calendarType,n=e.formatShortWeekday,r=void 0===n?dv:n,i=e.locale,a=e.onMouseLeave,s=Wp(new Date),u=_p(s),l=kp(s),c=[],f=1;f<=7;f+=1){var d=new Date(u,l,f-gv(s,t)),h=hv(i,d);c.push(o.createElement("div",{key:f,className:"".concat(wy,"__weekday")},o.createElement("abbr",{"aria-label":h,title:h},r(i,d).replace(".",""))))}return o.createElement(Qv,{className:wy,count:7,onFocus:a,onMouseOver:a},c)}xy.propTypes={calendarType:Pv.isRequired,formatShortWeekday:cp().func,locale:cp().string,onMouseLeave:cp().func};var Cy=["date","onClickWeekNumber","weekNumber"];function Sy(){return Sy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sy.apply(this,arguments)}function Ey(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iy(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oy(e){var t=e.date,n=e.onClickWeekNumber,r=e.weekNumber,i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ey(Object(n),!0).forEach((function(t){Ty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ey(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:"react-calendar__tile"},Iy(e,Cy)),a=o.createElement("span",null,r);return n?o.createElement("button",Sy({},i,{onClick:function(e){return n(r,t,e)},type:"button"}),a):o.createElement("div",i,a)}function Ny(e){var t=e.activeStartDate,n=e.calendarType,r=e.onClickWeekNumber,i=e.onMouseLeave,a=e.showFixedNumberOfWeeks,s=function(){if(a)return 6;var e=Zp(t)-(7-gv(t,n));return 1+Math.ceil(e/7)}(),u=function(){for(var e=_p(t),r=kp(t),i=wp(t),a=[],o=0;o<s;o+=1)a.push(bv(new Date(e,r,i+7*o),n));return a}(),l=u.map((function(e){return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rv.ISO_8601,r=n===rv.US?rv.US:rv.ISO_8601,i=bv(e,n),a=_p(e)+1;do{t=bv(new Date(a,0,r===rv.ISO_8601?4:1),n),a-=1}while(e<t);return Math.round((i-t)/6048e5)+1}(e,n)}));return o.createElement(Qv,{className:"react-calendar__month-view__weekNumbers",count:s,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},l.map((function(e,t){return o.createElement(Oy,{key:e,date:u[t],onClickWeekNumber:r,weekNumber:e})})))}Oy.propTypes={date:cp().instanceOf(Date).isRequired,onClickWeekNumber:cp().func,weekNumber:cp().node.isRequired},Ny.propTypes={activeStartDate:cp().instanceOf(Date).isRequired,calendarType:Pv.isRequired,onClickWeekNumber:cp().func,onMouseLeave:cp().func,showFixedNumberOfWeeks:cp().bool};var Py=["calendarType","formatShortWeekday","onClickWeekNumber","showWeekNumbers"];function Ry(){return Ry=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ry.apply(this,arguments)}function jy(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Dy(e){var t=e.activeStartDate,n=e.locale,r=e.onMouseLeave,i=e.showFixedNumberOfWeeks,a=e.calendarType,s=void 0===a?function(e){return Object.keys(iv).find((function(t){return iv[t].includes(e)}))||rv.ISO_8601}(n):a,u=e.formatShortWeekday,l=e.onClickWeekNumber,c=e.showWeekNumbers,f=jy(e,Py);var d="react-calendar__month-view";return o.createElement("div",{className:fp(d,c?"".concat(d,"--weekNumbers"):"")},o.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},c?o.createElement(Ny,{activeStartDate:t,calendarType:s,onClickWeekNumber:l,onMouseLeave:r,showFixedNumberOfWeeks:i}):null,o.createElement("div",{style:{flexGrow:1,width:"100%"}},o.createElement(xy,{calendarType:s,formatShortWeekday:u,locale:n,onMouseLeave:r}),o.createElement(ky,Ry({calendarType:s},f)))))}Dy.propTypes={activeStartDate:cp().instanceOf(Date).isRequired,calendarType:Pv,formatShortWeekday:cp().func,locale:cp().string,onClickWeekNumber:cp().func,onMouseLeave:cp().func,showFixedNumberOfWeeks:cp().bool,showWeekNumbers:cp().bool};var Ly=["activeStartDate","defaultActiveStartDate","defaultValue","defaultView","maxDetail","minDetail","value","view"];function Ay(){return Ay=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ay.apply(this,arguments)}function My(e){return My="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(e)}function Fy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zy(e,t){return zy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},zy(e,t)}function qy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Hy(e);if(t){var i=Hy(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Wy(this,n)}}function Wy(e,t){if(t&&("object"===My(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return By(e)}function By(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hy(e){return Hy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hy(e)}function Vy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vy(Object(n),!0).forEach((function(t){Ky(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ky(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Gy(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qy=new Date;Qy.setFullYear(1,0,1),Qy.setHours(0,0,0,0);var Jy=new Date(864e13),Xy="react-calendar",Zy=["century","decade","year","month"],eg=[].concat(function(e){return function(e){if(Array.isArray(e))return Gy(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Gy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gy(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Zy.slice(1)),["day"]);function tg(e,t){return Zy.slice(Zy.indexOf(e),Zy.indexOf(t)+1)}function ng(e,t,n){return function(e,t,n){return-1!==tg(t,n).indexOf(e)}(e,t,n)?e:n}function rg(e){return eg[Zy.indexOf(e)]}function ig(e,t){if(!e)return null;var n=Array.isArray(e)&&2===e.length?e[t]:e;if(!n)return null;var r=function(e){return e instanceof Date?e:new Date(e)}(n);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}function ag(e,t){var n=e.value,r=e.minDate,i=e.maxDate,a=e.maxDetail,o=ig(n,t);if(!o)return null;var s=rg(a);return function(e,t,n){return t&&t>e?t:n&&n<e?n:e}([_v,wv][t](s,o),r,i)}var og=function(e){return ag(e,0)},sg=function(e){return ag(e,1)},ug=function(e){var t=e.value;return Array.isArray(t)?t:[og,sg].map((function(t){return t(e)}))};function lg(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,i=e.minDetail,a=e.value;return _v(ng(e.view,i,n),og({value:a,minDate:r,maxDate:t,maxDetail:n})||new Date)}var cg=function(e){return e&&1===[].concat(e).length},fg=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zy(e,t)}(a,e);var t,n,r,i=qy(a);function a(){var e;Fy(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ky(By(e=i.call.apply(i,[this].concat(n))),"state",{activeStartDate:e.props.defaultActiveStartDate,value:e.props.defaultValue,view:e.props.defaultView}),Ky(By(e),"setStateAndCallCallbacks",(function(t,n,r){var i=By(e),a=i.activeStartDate,o=i.view,s=e.props,u=s.allowPartialRange,l=s.onActiveStartDateChange,c=s.onChange,f=s.onViewChange,d=s.selectRange,h={activeStartDate:a,view:o};e.setState(t,(function(){var i={action:t.action,activeStartDate:t.activeStartDate||e.activeStartDate,value:t.value||e.value,view:t.view||e.view};function a(e){return e in t&&(My(t[e])!==My(h[e])||(t[e]instanceof Date?t[e].getTime()!==h[e].getTime():t[e]!==h[e]))}(a("activeStartDate")&&l&&l(i),a("view")&&f&&f(i),a("value"))&&(c&&(d&&cg(t.value)?u&&c([t.value],n):c(t.value,n)));r&&r(i)}))})),Ky(By(e),"setActiveStartDate",(function(t,n){e.setStateAndCallCallbacks({action:n,activeStartDate:t})})),Ky(By(e),"drillDown",(function(t,n){if(e.drillDownAvailable){e.onClickTile(t,n);var r=By(e),i=r.view,a=r.views,o=e.props.onDrillDown,s=a[a.indexOf(i)+1];e.setStateAndCallCallbacks({action:"drillDown",activeStartDate:t,view:s},void 0,o)}})),Ky(By(e),"drillUp",(function(){if(e.drillUpAvailable){var t=By(e),n=t.activeStartDate,r=t.view,i=t.views,a=e.props.onDrillUp,o=i[i.indexOf(r)-1],s=_v(o,n);e.setStateAndCallCallbacks({action:"drillUp",activeStartDate:s,view:o},void 0,a)}})),Ky(By(e),"onChange",(function(t,n){var r,i=e.props.selectRange;if(e.onClickTile(t,n),i){var a=By(e),o=a.value,s=a.valueType;r=cg(o)?Cv(s,o,t):_v(s,t)}else r=e.getProcessedValue(t);var u=lg(Yy(Yy({},e.props),{},{value:r}));n.persist(),e.setStateAndCallCallbacks({action:"onChange",activeStartDate:u,value:r},n)})),Ky(By(e),"onClickTile",(function(t,n){var r=By(e).view,i=e.props,a=i.onClickDay,o=i.onClickDecade,s=i.onClickMonth,u=i.onClickYear,l=function(){switch(r){case"century":return o;case"decade":return u;case"year":return s;case"month":return a;default:throw new Error("Invalid view: ".concat(r,"."))}}();l&&l(t,n)})),Ky(By(e),"onMouseOver",(function(t){e.setState((function(e){return e.hover&&e.hover.getTime()===t.getTime()?null:{hover:t}}))})),Ky(By(e),"onMouseLeave",(function(){e.setState({hover:null})})),e}return t=a,n=[{key:"activeStartDate",get:function(){var e=this.props.activeStartDate,t=this.state.activeStartDate;return e||t||function(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,i=e.defaultView,a=e.maxDetail,o=e.minDetail,s=e.value,u=e.view,l=$y(e,Ly),c=ng(u,o,a),f=t||n;return f?_v(c,f):lg(Yy({maxDetail:a,minDetail:o,value:s||r,view:u||i},l))}(this.props)}},{key:"value",get:function(){var e=this.props,t=e.selectRange,n=e.value,r=this.state.value;return t&&cg(r)?r:void 0!==n?n:r}},{key:"valueType",get:function(){return rg(this.props.maxDetail)}},{key:"view",get:function(){var e=this.props,t=e.minDetail,n=e.maxDetail,r=e.view,i=this.state.view;return ng(r||i,t,n)}},{key:"views",get:function(){var e=this.props;return tg(e.minDetail,e.maxDetail)}},{key:"hover",get:function(){var e=this.props.selectRange,t=this.state.hover;return e?t:null}},{key:"drillDownAvailable",get:function(){var e=this.view,t=this.views;return t.indexOf(e)<t.length-1}},{key:"drillUpAvailable",get:function(){var e=this.view;return this.views.indexOf(e)>0}},{key:"getProcessedValue",value:function(e){var t=this.props,n=t.minDate,r=t.maxDate,i=t.maxDetail,a=t.returnValue;return function(){switch(a){case"start":return og;case"end":return sg;case"range":return ug;default:throw new Error("Invalid returnValue.")}}()({value:e,minDate:n,maxDate:r,maxDetail:i})}},{key:"renderContent",value:function(e){var t=this.activeStartDate,n=this.onMouseOver,r=this.valueType,i=this.value,a=this.view,s=this.props,u=s.calendarType,l=s.locale,c=s.maxDate,f=s.minDate,d=s.selectRange,h=s.tileClassName,p=s.tileContent,v=s.tileDisabled,m=this.hover,y={activeStartDate:e?kv(a,t):_v(a,t),hover:m,locale:l,maxDate:c,minDate:f,onClick:this.drillDownAvailable?this.drillDown:this.onChange,onMouseOver:d?n:null,tileClassName:h,tileContent:p,tileDisabled:v,value:i,valueType:r};switch(a){case"century":var g=this.props.formatYear;return o.createElement(Am,Ay({formatYear:g},y));case"decade":var b=this.props.formatYear;return o.createElement($m,Ay({formatYear:b},y));case"year":var _=this.props,k=_.formatMonth,w=_.formatMonthYear;return o.createElement(sy,Ay({formatMonth:k,formatMonthYear:w},y));case"month":var x=this.props,C=x.formatDay,S=x.formatLongDate,E=x.formatShortWeekday,T=x.onClickWeekNumber,I=x.showDoubleView,O=x.showFixedNumberOfWeeks,N=x.showNeighboringMonth,P=x.showWeekNumbers,R=this.onMouseLeave;return o.createElement(Dy,Ay({calendarType:u,formatDay:C,formatLongDate:S,formatShortWeekday:E,onClickWeekNumber:T,onMouseLeave:d?R:null,showFixedNumberOfWeeks:"undefined"!==typeof O?O:I,showNeighboringMonth:N,showWeekNumbers:P},y));default:throw new Error("Invalid view: ".concat(a,"."))}}},{key:"renderNavigation",value:function(){if(!this.props.showNavigation)return null;var e=this.activeStartDate,t=this.view,n=this.views,r=this.props,i=r.formatMonthYear,a=r.formatYear,s=r.locale,u=r.maxDate,l=r.minDate,c=r.navigationAriaLabel,f=r.navigationAriaLive,d=r.navigationLabel,h=r.next2AriaLabel,p=r.next2Label,v=r.nextAriaLabel,m=r.nextLabel,y=r.prev2AriaLabel,g=r.prev2Label,b=r.prevAriaLabel,_=r.prevLabel,k=r.showDoubleView;return o.createElement(Wv,{activeStartDate:e,drillUp:this.drillUp,formatMonthYear:i,formatYear:a,locale:s,maxDate:u,minDate:l,navigationAriaLabel:c,navigationAriaLive:f,navigationLabel:d,next2AriaLabel:h,next2Label:p,nextAriaLabel:v,nextLabel:m,prev2AriaLabel:y,prev2Label:g,prevAriaLabel:b,prevLabel:_,setActiveStartDate:this.setActiveStartDate,showDoubleView:k,view:t,views:n})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.inputRef,r=e.selectRange,i=e.showDoubleView,a=this.onMouseLeave,s=this.value,u=[].concat(s);return o.createElement("div",{className:fp(Xy,r&&1===u.length&&"".concat(Xy,"--selectRange"),i&&"".concat(Xy,"--doubleView"),t),ref:n},this.renderNavigation(),o.createElement("div",{className:"".concat(Xy,"__viewContainer"),onBlur:r?a:null,onMouseLeave:r?a:null},this.renderContent(),i&&this.renderContent(!0)))}}],n&&Uy(t.prototype,n),r&&Uy(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(o.Component);fg.defaultProps={maxDate:Jy,maxDetail:"month",minDate:Qy,minDetail:"century",returnValue:"start",showNavigation:!0,showNeighboringMonth:!0};var dg=cp().instanceOf(Date),hg=cp().oneOfType([cp().string,Av]);fg.propTypes={activeStartDate:dg,allowPartialRange:cp().bool,calendarType:Pv,className:Rv,defaultActiveStartDate:dg,defaultValue:hg,defaultView:Fv,formatDay:cp().func,formatLongDate:cp().func,formatMonth:cp().func,formatMonthYear:cp().func,formatShortWeekday:cp().func,formatYear:cp().func,inputRef:Lv,locale:cp().string,maxDate:Dv,maxDetail:cp().oneOf(Zy),minDate:jv,minDetail:cp().oneOf(Zy),navigationAriaLabel:cp().string,navigationAriaLive:cp().oneOf(["off","polite","assertive"]),navigationLabel:cp().func,next2AriaLabel:cp().string,next2Label:cp().node,nextAriaLabel:cp().string,nextLabel:cp().node,onActiveStartDateChange:cp().func,onChange:cp().func,onClickDay:cp().func,onClickDecade:cp().func,onClickMonth:cp().func,onClickWeekNumber:cp().func,onClickYear:cp().func,onDrillDown:cp().func,onDrillUp:cp().func,onViewChange:cp().func,prev2AriaLabel:cp().string,prev2Label:cp().node,prevAriaLabel:cp().string,prevLabel:cp().node,returnValue:cp().oneOf(["start","end","range"]),selectRange:cp().bool,showDoubleView:cp().bool,showFixedNumberOfWeeks:cp().bool,showNavigation:cp().bool,showNeighboringMonth:cp().bool,showWeekNumbers:cp().bool,tileClassName:cp().oneOfType([cp().func,Rv]),tileContent:cp().oneOfType([cp().func,cp().node]),tileDisabled:cp().func,value:hg,view:Fv};var pg,vg=fg;function mg(e){var t=e.value,n=e.onChange,r=e.type,a=void 0===r?"":r,s=e.disable,u=void 0!==s&&s,l=(Zh(),i((0,o.useState)(new Date(t)),2)),c=l[0],f=l[1],d="".concat(c.getFullYear(),"-").concat((c.getMonth()+1).toString().padStart(2,"0"),"-").concat(c.getDate().toString().padStart(2,"0"));return(0,hh.jsxs)("div",{className:a+" col6 card-time",onClick:function(e){return function(e){var t=document.getElementsByClassName("react-calendar");if(u)return!1;if(e.currentTarget)if(e.currentTarget.children[2].classList.contains("is-active"))e.currentTarget.children[2].classList.remove("is-active");else{for(var n=0;n<t.length;n++)t[n].classList.remove("is-active");e.currentTarget.children[2].classList.add("is-active")}}(e)},children:[(0,hh.jsx)("span",{className:"material-symbols-outlined",children:"calendar_month"}),(0,hh.jsx)("span",{children:d.split("-").reverse().join("-")}),(0,hh.jsx)(vg,{onChange:function(e){n(e),f(e)},value:c}),(0,hh.jsxs)("span",{className:"tag is-info is-small",children:["Change ",a," day"]})]})}function yg(e){fh.onAuthStateChanged((function(t){t&&Ds(Ps(ch,"/tasks/".concat(e.id)),e).catch((function(e){return console.log(e)}))}))}function gg(e){fh.onAuthStateChanged((function(t){t&&function(e){return Vo("remove",e._path),js(e,null)}(Ps(ch,"/tasks/".concat(e.id))).catch((function(e){return console.log(e)})).then((function(){console.log("delete ok")}))}))}function bg(e){var t=e.defaultValue,n=e.valueList,r=e.disable,a=void 0!==r&&r,s=e.type,u=void 0===s?"":s,l=e.onChange,c=i((0,o.useState)(t),2),f=c[0],d=c[1];if(t&&n)return(0,hh.jsxs)("div",{className:"userselect dropdown users-incharge col3 "+u,onClick:function(e){return function(e){if(a)return!1;e.currentTarget.classList.toggle("is-active")}(e)},children:[(0,hh.jsx)("div",{className:"dropdown-trigger",children:(0,hh.jsxs)("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu",children:[(0,hh.jsxs)("span",{className:"button-image",children:[(0,hh.jsx)("img",{src:f.avatar}),(0,hh.jsx)("span",{children:f.name})]}),(0,hh.jsx)("span",{className:"icon is-small",children:(0,hh.jsx)("span",{className:"material-symbols-outlined",children:"expand_more"})})]})}),(0,hh.jsx)("div",{className:"dropdown-menu",role:"menu",children:(0,hh.jsx)("div",{className:"dropdown-content",children:Object.values(n).filter((function(e){return"Designer"===e.permission||"Admin"===e.permission})).map((function(e){return(0,hh.jsx)("a",{"data-id":e.id,className:e.id===f.id?"dropdown-item is-active":"dropdown-item",onClick:function(e){!function(e){var t=e.currentTarget.getAttribute("data-id");f.id===t?(l(""),d({avatar:"https://cdn.dribbble.com/users/232189/avatars/small/66f57b76decb9f1795af8eb74076a476.jpg?1555512051",name:"Assign designer",permission:"Designer",id:""})):(l(n[t].id),d(n[t]))}(e)},children:(0,hh.jsxs)("span",{children:[(0,hh.jsx)("img",{src:e.avatar}),(0,hh.jsx)("span",{children:e.name})]})},Zh())}))})}),(0,hh.jsx)("span",{className:"tag is-info is-small",children:"Click to change"})]})}function _g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kg(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return _g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_g(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}!function(e){e.X="x",e.Y="y"}(pg||(pg={}));var wg=function(e){return{leftTop:pg.X===e?"left":"top",offsetLeftTop:pg.X===e?"offsetLeft":"offsetTop",offsetWidthHeight:pg.X===e?"offsetWidth":"offsetHeight",scrollLeftTop:pg.X===e?"scrollLeft":"scrollTop",scrollWidthHeight:pg.X===e?"scrollWidth":"scrollHeight",clientWidthHeight:pg.X===e?"clientWidth":"clientHeight"}};function xg(e,t){var n;return void 0===t&&(t=100),function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=this;n&&clearTimeout(n),n=setTimeout((function(){e.apply(o,i)}),t)}}var Cg=function(e){return!e.parentElement||!e.parentElement.parentElement},Sg=function(e){var t=e.ref,n=e.speed,r=void 0===n?100:n,i=e.direction,a=void 0===i?pg.Y:i,s=e.threshold,u=void 0===s?1:s,l=wg(a),c=(0,o.useState)(!0),f=c[0],d=c[1],h=(0,o.useState)(!0),p=h[0],v=h[1],m=(0,o.useState)(0),y=m[0],g=m[1],b=function(){var e=t.current;return!!e&&0===e[l.scrollLeftTop]},_=function(){var e=t.current;return!!e&&Math.abs(e[l.scrollLeftTop]+e[l.clientWidthHeight]-e[l.scrollWidthHeight])<u},k=xg((function(){if(t.current){var e=t.current[l.clientWidthHeight];g(e)}})),w=xg((function(e){b()?d(!0):d(!1),_()?v(!0):v(!1)})),x=function(e,n){if(t&&t.current){var i=t.current;if(i){e||"number"===typeof e||console.warn("Please pass a valid property for `scrollTo()`! \n Get more info at https://github.com/ron0115/react-smooth-scroll-hook");var a=i[l.scrollLeftTop],o=function(e,t,n){if("number"===typeof e)return e;if("string"===typeof e){var r=document.querySelector(e);return r?Cg(t)?r.getBoundingClientRect()[n.leftTop]:r.getBoundingClientRect()[n.leftTop]-t.getBoundingClientRect()[n.leftTop]:(console.warn("Please pass correct selector string for scrollTo()!"),0)}return 0}(e,i,l);"number"===typeof n&&(o+=n);var s=r;requestAnimationFrame((function e(){if(w(),0!==o&&!(_()&&o>9||o<0&&b())){var t=function(){return Math.abs(i[l.scrollLeftTop]-a)};Math.abs(o)-t()<s&&(s=Math.abs(o)-t()),i[l.scrollLeftTop]+=s*(o>0?1:-1),Math.abs(t()-Math.abs(o))<u||requestAnimationFrame(e)}}))}}else console.warn("Please pass `ref` property for your scroll container! \n Get more info at https://github.com/ron0115/react-smooth-scroll-hook")};return(0,o.useEffect)((function(){if(t.current){w(),k();var e=new MutationObserver((function(e,t){for(var n,r=kg(e);!(n=r()).done;){var i=n.value;"attributes"===i.type&&i.target instanceof Element&&k()}}));return e.observe(t.current,{attributes:!0}),window.addEventListener("resize",k),function(){e.disconnect(),window.removeEventListener("resize",k)}}}),[t,w,k]),(0,o.useEffect)((function(){if(t.current){var e=t.current,n=new MutationObserver((function(e,t){for(var n,r=kg(e);!(n=r()).done;){var i=n.value;"childList"===i.type&&i.target instanceof Element&&w()}}));return n.observe(e,{childList:!0,subtree:!0}),e.addEventListener("scroll",w),function(){n.disconnect(),e&&e.removeEventListener("scroll",w)}}}),[t,w]),{reachedTop:f,reachedBottom:p,containerSize:y,scrollTo:x,scrollToPage:function(e){x(e*y)},refreshState:w,refreshSize:k}};function Eg(e){var t=e.task,n=e.alluser,r=e.incharge,a=e.scrollToEle,s=void 0===a?null:a,u=localStorage.getItem("currentUser"),l=i((0,o.useState)(r||{avatar:"https://cdn.dribbble.com/users/232189/avatars/small/66f57b76decb9f1795af8eb74076a476.jpg?1555512051",name:"Assign designer",permission:"Designer",id:""}),2),c=l[0],f=l[1],d=(0,o.useRef)(document.querySelector(".app")),h=Sg({ref:d,speed:30,direction:"y"}).scrollTo;(0,o.useEffect)((function(){var e=document.getElementById("taskbrief".concat(t.id)),n=document.getElementById("tasknote".concat(t.id));e.innerHTML=t.brief,n.innerHTML=t.note,s&&(h('[id="'.concat(s,'"]'),-250),g())}),[]);var p=ip(),v=Intl.NumberFormat("en-US"),m=function(e,n){var r="".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0"));t[n]=r,u===t.creator&&yg(t)},y=function(e){var n=document.querySelector('[id="'.concat(t.id,'"] .card-content-main')),r=document.getElementById("title".concat(t.id)),i=document.getElementById("des".concat(t.id)),a=document.getElementById("taskbrief".concat(t.id)),o=document.getElementById("tasknote".concat(t.id));document.querySelector('[id="'.concat(t.id,'"] .card-content-header')).classList.remove("is-active"),document.querySelector('[id="'.concat(t.id,'"]')).removeAttribute("style"),n.classList.remove("is-active"),r.removeAttribute("contenteditable"),i.removeAttribute("contenteditable"),a.removeAttribute("contenteditable"),o.removeAttribute("contenteditable")},g=function(e){var r=document.querySelector('[id="'.concat(t.id,'"] .card-content-main')),i=document.getElementById("title".concat(t.id)),a=document.getElementById("des".concat(t.id)),o=document.getElementById("taskbrief".concat(t.id)),s=document.getElementById("tasknote".concat(t.id));r.classList.contains("is-active")||([].forEach.call(document.querySelectorAll(".card-content-header"),(function(e){e.classList.remove("is-active")})),[].forEach.call(document.querySelectorAll(".card-content-main"),(function(e){e.classList.remove("is-active")})),[].forEach.call(document.querySelectorAll(".card-content-header h1"),(function(e){e.removeAttribute("contenteditable")})),[].forEach.call(document.querySelectorAll(".card-content-header p:nth-of-type(1)"),(function(e){e.removeAttribute("contenteditable")})),[].forEach.call(document.querySelectorAll(".card"),(function(e){e.removeAttribute("style")})),r.classList.add("is-active"),document.querySelector('[id="'.concat(t.id,'"] .card-content-header')).classList.add("is-active"),document.querySelector('[id="'.concat(t.id,'"]')).setAttribute("style","width: 100%"),c.id!==u&&t.creator!==u&&"Admin"!==n[u].permission||(i.setAttribute("contenteditable",!0),a.setAttribute("contenteditable",!0),o.setAttribute("contenteditable",!0),s.setAttribute("contenteditable",!0)))},b=function(e){return("Admin"===n[u].permission||n[u].id===t.creator)&&(13===e.keyCode?(document.execCommand("defaultParagraphSeparator",!1,"br"),!1):(9===e.keyCode&&(document.execCommand("insertHTML",!1,"&#009"),e.preventDefault()),void e.currentTarget.addEventListener("paste",(function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain");document.execCommand("insertText",!1,t)}))))};if(t)return(0,hh.jsxs)("div",{className:"Done"===t.state?"card has-done":"card",id:t.id,children:[(0,hh.jsxs)("div",{className:"card-trigger",children:[(0,hh.jsx)("div",{className:"card-trigger-header",children:(0,hh.jsxs)("div",{className:"card-trigger-header-incharge",children:[(0,hh.jsx)(bg,{disable:"Admin"!==n[u].permission&&n[u].id!==t.creator,defaultValue:c,valueList:n,onChange:function(e){!function(e){if("Admin"!==n[u].permission&&n[u].id!==t.creator)return!1;""===e?(t.incharge="",yg(t),f({avatar:"https://cdn.dribbble.com/users/232189/avatars/small/66f57b76decb9f1795af8eb74076a476.jpg?1555512051",name:"Assign designer",permission:"Designer",id:""})):(t.incharge=e,yg(t),f(n[e]))}(e)}}),(0,hh.jsxs)("div",{className:"card-trigger-time",children:[(0,hh.jsx)(mg,{disable:"Admin"!==n[u].permission&&n[u].id!==t.creator,type:"deadline",value:t.deadline,onChange:function(e){m(e,"deadline")}}),(0,hh.jsx)(mg,{disable:"Admin"!==n[u].permission&&n[u].id!==t.creator,type:"start",value:t.start,onChange:function(e){m(e,"start")}}),(0,hh.jsx)(mg,{disable:"Admin"!==n[u].permission&&n[u].id!==t.creator,type:"end",value:t.end,onChange:function(e){m(e,"end")}})]}),(0,hh.jsx)(ep,{disable:"Admin"!==n[u].permission&&n[u].id!==t.creator,defaultValue:t.state,valueList:p,type:"is-right",onChange:function(e){!function(e){t.state=e,u===r.id&&yg(t)}(e)}})]})}),(0,hh.jsxs)("div",{className:"card-content",children:[(0,hh.jsxs)("div",{className:"card-content-header",onClick:function(e){g(e),h('[id="'.concat(t.id,'"]'),-250)},children:[(0,hh.jsx)("h1",{spellCheck:"false",id:"title".concat(t.id),children:t.title}),(0,hh.jsx)("p",{spellCheck:"false",id:"des".concat(t.id),children:t.des}),(0,hh.jsx)("span",{className:"tag is-info is-small",children:"Click to edit"})]}),(0,hh.jsxs)("div",{className:"card-content-main",children:[(0,hh.jsxs)("div",{className:"brief",children:[(0,hh.jsx)("h1",{spellCheck:"false",children:"Brief"}),(0,hh.jsx)("div",{spellCheck:"false",id:"taskbrief".concat(t.id),style:{display:"inline-block"},onKeyDown:function(e){return b(e)}})]}),(0,hh.jsxs)("div",{className:"note",children:[(0,hh.jsx)("h1",{spellCheck:"false",children:"Note"}),(0,hh.jsx)("div",{spellCheck:"false",id:"tasknote".concat(t.id),style:{display:"inline-block"},onKeyDown:function(e){return b(e)}})]}),(0,hh.jsxs)("div",{className:"cost",children:[(0,hh.jsx)("span",{children:"Cost: "}),(0,hh.jsx)("span",{id:"costview".concat(t.id),children:c.id===u||t.creator===u?v.format(t.cost):"-"}),(0,hh.jsx)("input",{type:c.id===u||t.creator===u?"number":"hidden",disabled:c.id!==u&&t.creator!==u,pattern:"([0-9]{1,3}).([0-9]{1,3})",defaultValue:t.cost,onChange:function(e){!function(e){var n=document.getElementById("costview".concat(t.id)),r=e.currentTarget.value;""!==r&&null!==r||(r=0),n.innerHTML=v.format(r)}(e)},className:"input cost col7",onFocus:function(e){return e.currentTarget.parentElement.children[1].classList.add("is-editing")},onBlur:function(e){e.currentTarget.parentElement.children[1].classList.remove("is-editing"),t.cost=parseInt(e.currentTarget.value),yg(t)}}),(0,hh.jsx)("span",{className:"tag is-info is-small",children:"Only Incharge and Creator can edit"})]}),(0,hh.jsxs)("div",{className:"action-button",children:[(0,hh.jsx)(vh,{value:"Update",icon:"update",type:"is-primary is-small",onClick:function(e){!function(){var e=document.getElementById("taskbrief".concat(t.id)),r=document.getElementById("tasknote".concat(t.id)),i=document.getElementById("title".concat(t.id)),a=document.getElementById("des".concat(t.id));if("Admin"!==n[u].permission&&n[u].id!==t.creator)return!1;t.brief=e.innerHTML,t.note=r.innerHTML,t.title=i.innerHTML,t.des=a.innerHTML,yg(t)}(),y()}}),(0,hh.jsx)(vh,{value:"Delete",icon:"delete",type:"is-danger is-small",onClick:function(e){!function(){if("Admin"!==n[u].permission&&n[u].id!==t.creator)return!1;gg(t)}(),y()}})]})]})]})]}),(0,hh.jsx)("div",{className:"background-card",children:(0,hh.jsx)("img",{src:t.backgroundimage})})]})}function Tg(e){var t=e.company,n=e.tasks,r=e.users,a=e.deleteCallback,s=i((0,o.useState)(),2),u=s[0],l=s[1],c=ip(),f=L().pathname;if((0,o.useEffect)((function(){l(n)}),[n.length]),u&&u.sort((function(e,t){return c.find((function(t){if(t.name===e.state)return t})).id<c.find((function(e){if(e.name===t.state)return e})).id?-1:1})),u)return(0,hh.jsx)(hh.Fragment,{children:(0,hh.jsxs)("div",{id:t.id,className:"card-company is-active",children:[(0,hh.jsxs)("div",{className:"card-company-header",children:[(0,hh.jsx)("h1",{children:t.name}),(0,hh.jsx)("div",{className:"linebreak"})]}),(0,hh.jsx)("div",{className:"card-tasksList",children:u.length?(0,hh.jsx)(hh.Fragment,{children:u.map((function(e){return(0,hh.jsx)(Eg,{scrollToEle:f&&f.includes(e.id)?f.replace("/tasks/",""):null,task:e,alluser:r,incharge:r[e.incharge],deleteCallback:function(e){a(e)}},e.id)}))}):(0,hh.jsx)(hh.Fragment,{})})]})})}var Ig=["company","currentUser","alluser"];function Og(e){var t=e.company,n=e.currentUser,r=e.alluser,a=dh(e,Ig),s={backgroundimage:"",brief:"What is it about",company:"",cost:0,creator:"",deadline:"",des:"Description about it",end:"",id:"",incharge:"",note:"",start:"",state:"Waiting",title:"A task title"},u=ip(),l=Intl.NumberFormat("en-US"),c=i((0,o.useState)({}),2),f=c[0],d=c[1],h=new Date,p="".concat(h.getFullYear(),"-").concat((h.getMonth()+1).toString().padStart(2,"0"),"-").concat(h.getDate().toString().padStart(2,"0"));(0,o.useEffect)((function(){s.company="".concat(n.company),s.creator=n.id,s.deadline=p,s.start=p,s.end=p,d(s)}),[Object.keys(f).length]);var v=function(){document.getElementById("addTitle").value&&document.getElementById("addDes").value?fetch("https://source.unsplash.com/random/1200x600/?design").then((function(e){return f.backgroundimage=e.url})).then((function(){var e;f.id=Zh(),f.title=document.getElementById("addTitle").value,f.des=document.getElementById("addDes").value,f.brief=document.getElementById("addBrief").innerHTML,f.note=document.getElementById("addNote").innerHTML,e=f,fh.onAuthStateChanged((function(t){t&&js(Ps(ch,"/tasks/".concat(e.id)),e).catch((function(e){return console.log(e)}))}))})).then((function(){document.querySelector(".notification").classList.remove("is-active"),document.querySelector(".notification span").innerHTML="Task created",document.querySelector(".notification").classList.remove("is-danger"),setTimeout((function(){document.querySelector(".notification").classList.remove("is-active"),m()}),1500),d({})})):(document.querySelector(".notification span").innerHTML="Please enter title and description",document.querySelector(".notification").classList.add("is-danger"),document.querySelector(".notification").classList.add("is-active"))},m=function(){document.getElementsByClassName("modal")[0].classList.remove("is-active"),document.getElementById("addBrief").removeAttribute("contenteditable"),document.getElementById("addNote").removeAttribute("contenteditable")};if(n&&Object.keys(f).length)return(0,hh.jsxs)("div",ht(ht({className:"modal"},a),{},{children:[(0,hh.jsx)("div",{className:"modal-background",onClick:function(){m()}}),(0,hh.jsxs)("div",{className:"modal-card",children:[(0,hh.jsxs)("header",{className:"modal-card-head",children:[(0,hh.jsx)("p",{className:"modal-card-title",children:"Create New Task"}),(0,hh.jsx)("button",{className:"delete","aria-label":"close",onClick:function(){m()}})]}),(0,hh.jsxs)("section",{className:"modal-card-body",children:[(0,hh.jsxs)("div",{className:"card-header-content",children:[(0,hh.jsxs)("div",{className:"card-title col1",children:[(0,hh.jsx)("input",{spellCheck:"false",id:"addTitle",required:!0,placeholder:f.title,className:"col1"}),(0,hh.jsx)("input",{spellCheck:"false",id:"addDes",required:!0,placeholder:f.des})]}),(0,hh.jsxs)("div",{className:"cost col7",children:[(0,hh.jsx)("span",{id:"addCostview",children:"Cost: "}),(0,hh.jsx)("input",{type:"number",pattern:"([0-9]{1,3}).([0-9]{1,3})",defaultValue:f.cost,onChange:function(e){!function(e){var t=document.getElementById("addCostview"),n=e.currentTarget.value;""!==n&&null!==n||(n=0),t.innerHTML=l.format(n)}(e)},className:"input cost col7",onFocus:function(e){return e.currentTarget.parentElement.children[0].classList.add("is-editing")},onBlur:function(e){e.currentTarget.parentElement.children[0].classList.remove("is-editing"),f.cost=parseInt(e.currentTarget.value)}})]})]}),(0,hh.jsxs)("div",{className:"card-body-content",children:[(0,hh.jsx)(bg,{defaultValue:n,valueList:r,onChange:function(e){f.incharge=e}}),(0,hh.jsx)(mg,{value:h,type:"deadline",onChange:function(e){!function(e){var t="".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0"));f.deadline=t,f.start=t,f.end=t}(e)}}),(0,hh.jsx)(ep,{defaultValue:f.state,valueList:u,type:"is-right",onChange:function(e){f.state=e}},"modalState"),(0,hh.jsx)(ep,{defaultValue:t.filter((function(e){return e.id===f.company}))[0].name,valueList:t,type:"is-right",onChange:function(e){f.company=t.filter((function(t){return t.name===e}))[0].id}},"modalCompany")]}),(0,hh.jsxs)("div",{id:f.id,className:"card-main-content is-active",children:[(0,hh.jsxs)("div",{className:"brief",children:[(0,hh.jsx)("h1",{spellCheck:"false",children:"Brief"}),(0,hh.jsx)("div",{spellCheck:"false",id:"addBrief",children:f.brief})]}),(0,hh.jsxs)("div",{className:"note",children:[(0,hh.jsx)("h1",{spellCheck:"false",children:"Note"}),(0,hh.jsx)("div",{spellCheck:"false",id:"addNote",children:f.note})]})]})]}),(0,hh.jsxs)("footer",{className:"modal-card-foot",children:[(0,hh.jsx)(vh,{value:"Add",icon:"add",type:"is-primary is-success",onClick:function(e){v()}}),(0,hh.jsx)(vh,{value:"Close",icon:"close",type:"is-ghost",onClick:function(){m()}}),(0,hh.jsxs)("div",{className:"notification",children:[(0,hh.jsx)("button",{className:"delete",onClick:function(e){return e.currentTarget.parentElement.classList.remove("is-active")}}),(0,hh.jsx)("span",{children:"Task created!"})]})]})]})]}))}function Ng(){var e=A(),t=localStorage.getItem("loginState"),n=localStorage.getItem("currentUser"),r=i((0,o.useState)(JSON.parse(localStorage.getItem("taskList"))),2),a=r[0],s=r[1],u=i((0,o.useState)(JSON.parse(localStorage.getItem("allUsers"))),2),l=u[0],c=u[1],f=i((0,o.useState)(JSON.parse(localStorage.getItem("allCompany"))),2),d=f[0],h=f[1],p=i((0,o.useState)({company:!0,deadline:!0,end:!0,state:!0}),2),v=p[0],m=p[1],y=a,g=rp(),b=ip();(0,o.useEffect)((function(){fh.onAuthStateChanged((function(r){r&&t?(n=r.uid,Fs(Ps(ch,"/users/"),(function(e){c(Object.assign({},e.val())),localStorage.setItem("allUsers",JSON.stringify(Object.assign({},e.val())))})),Fs(Ps(ch,"/tasks/"),(function(e){s(Object.values(e.val()).slice()),localStorage.setItem("taskList",JSON.stringify(Object.values(e.val()).slice()))})),Fs(Ps(ch,"/companys/"),(function(e){h(e.val()),localStorage.setItem("allCompany",JSON.stringify(e.val()))}))):e("/login")}))}),[]);var _=function(e,t){m("Company"===t?{company:e===v.company||e,deadline:v.deadline,end:v.end,state:v.state}:"State"===t?{company:v.company,deadline:v.deadline,end:v.end,state:e===v.state||e}:"Deadline"===t?{company:v.company,deadline:e===v.deadline||e,end:v.end,state:v.state}:{company:v.company,deadline:v.deadline,end:e===v.end||e,state:v.state})};return l&&a&&"Admin"!==l[n].permission&&(y=a.filter((function(e){if(e.incharge===n||e.creator===n)return e}))),(0,hh.jsx)("div",{className:"section is-active",children:a&&d&&l&&n?(0,hh.jsxs)(hh.Fragment,{children:[(0,hh.jsxs)("div",{className:"toolbar",children:[(0,hh.jsx)(ep,{defaultValue:"".concat(!0===v.company?"Company":v.company),valueList:Object.values(d),onChange:function(e){_(e,"Company")}}),(0,hh.jsx)(ep,{defaultValue:"".concat(!0===v.deadline?"Deadline":v.deadline),valueList:g,onChange:function(e){_(e,"Deadline")}}),(0,hh.jsx)(ep,{defaultValue:"".concat(!0===v.end?"Finish":v.end),valueList:g,onChange:function(e){_(e,"End")}}),(0,hh.jsx)(ep,{defaultValue:"".concat(!0===v.state?"State":v.state),valueList:b,onChange:function(e){_(e,"State")}}),(0,hh.jsxs)("div",{className:"control has-icons-left search",children:[(0,hh.jsx)("input",{onKeyUp:function(e){return function(e){var t=document.querySelectorAll(".card"),n=e.currentTarget.value;[].forEach.call(t,(function(e){-1!==e.querySelectorAll(".card-content-header h1")[0].innerHTML.toLowerCase().indexOf(n.toLowerCase())?e.style.display="flex":e.style.display="none"}))}(e)},className:"input is-small",type:"text",placeholder:"Search something..."}),(0,hh.jsx)("span",{className:"icon is-small is-left",children:(0,hh.jsx)("span",{className:"material-symbols-outlined",children:"search"})})]}),(0,hh.jsx)(vh,{value:"Add",type:"is-primary",icon:"add",onClick:function(){!function(){var e=document.getElementById("modal");e&&(e.classList.add("is-active"),document.getElementById("addBrief").setAttribute("contenteditable",!0),document.getElementById("addNote").setAttribute("contenteditable",!0))}()}})]},"toolbar".concat(Zh())),(0,hh.jsx)("div",{className:"overlay"}),(0,hh.jsx)("div",{className:"taskList",children:d.filter((function(e){return!0===v.company?e:e.name===v.company})).map((function(e){return(0,hh.jsx)(Tg,{company:e,tasks:y===[]?[]:y.filter((function(t){var n=t.company===e.id,r=!0===v.state||t.state===v.state,i=!0===v.deadline||g[new Date(t.deadline).getMonth()].name===v.deadline,a=!0===v.end||g[new Date(t.end).getMonth()].name===v.end;return n&&r&&i&&a})),users:l},e.id)}))}),(0,hh.jsx)(Og,{id:"modal",company:d,alluser:l,currentUser:l[n]})]}):(0,hh.jsx)(hh.Fragment,{})})}function Pg(){var e=i((0,o.useState)(JSON.parse(localStorage.getItem("allUsers"))[localStorage.getItem("currentUser")]),2),t=e[0],n=e[1],r=i((0,o.useState)(JSON.parse(localStorage.getItem("allCompany"))),2),a=r[0],s=r[1],u={current:"",new:""},l=Zh();(0,o.useEffect)((function(){fh.onAuthStateChanged((function(e){e&&(Fs(Ps(ch,"companys"),(function(e){s(e.val())})),Fs(Ps(ch,"users/".concat(e.uid)),(function(e){n(e.val())})))}))}),[]);var c={avatar:t?t.avatar:"",company:t?t.company:"",email:t?t.email:"",id:t?t.id:"",name:t?t.name:"",permission:t?t.permission:"",phone:t?t.phone:"",user:t?t.user:""},f=function(){var e,r;u.current&&u.new&&(Qc.credential(fh.currentUser.email,u.current)&&(e=fh.currentUser.email,r=u.new,wf(Ze(e),null,r)).catch((function(e){return console.log(e)})));(function(e,t){return kf.apply(this,arguments)})(fh.currentUser,{displayName:c.name,email:c.email,photoURL:c.avatar,phoneNumber:c.phone}).catch((function(e){return console.log(e)})).then((function(){Ds(Ps(ch,"/users/".concat(t.id)),c)})).then((function(){n(c)})),document.querySelector(".notification span").innerHTML="Profile updated",document.querySelector(".notification").classList.add("is-active"),setTimeout((function(){document.querySelector(".notification").classList.remove("is-active")}),1500)},d=function(e,t){"password"===t?u.current=e.currentTarget.value:u.new=e.currentTarget.value},h=function(e){var t=e.target.files[0];(function(e,t,n){return Bu(e=Ze(e),t,n)})(Zu(lh,"avatar/".concat(l,".").concat(t.name.substr(-3))),t).catch((function(e){return console.log(e)})).then((function(){(function(e){return Hu(e=Ze(e))})(Zu(lh,"avatar/".concat(l,".").concat(t.name.substr(-3)))).catch((function(e){return console.log(e)})).then((function(e){c.avatar=e})).then((function(){return f()}))})).then((function(){document.querySelector(".notification span").innerHTML="Avatar updated",document.querySelector(".notification").classList.add("is-active"),setTimeout((function(){document.querySelector(".notification").classList.remove("is-active")}),1500)}))},p=function(e,t){for(var n in c)n===t&&(c[n]=e.currentTarget.value),"user"===t&&(c.user=e.current.value)};if(t)return(0,hh.jsxs)("div",{className:"settings",children:[(0,hh.jsx)("h1",{children:"Your Profile"}),(0,hh.jsxs)("div",{className:"settings-left",children:[(0,hh.jsx)("img",{src:t.avatar,alt:t.name}),(0,hh.jsxs)("label",{htmlFor:"file",children:[(0,hh.jsx)("span",{className:"material-symbols-outlined",children:"logout"}),(0,hh.jsx)("span",{children:"Upload Avatar"})]}),(0,hh.jsx)("input",{type:"file",id:"file",name:"filename",onChange:function(e){return h(e)}})]}),(0,hh.jsxs)("div",{className:"settings-right",children:[(0,hh.jsx)("input",{id:"name",defaultValue:t.name,onChange:function(e){return p(e,"name")},placeholder:"Your name"}),(0,hh.jsx)("input",{id:"phone",defaultValue:t.phone,onChange:function(e){return p(e,"phone")},placeholder:"Your phone"}),(0,hh.jsx)("input",{id:"email",defaultValue:t.email,onChange:function(e){return p(e,"email")},placeholder:"Your email"}),(0,hh.jsx)("input",{autoComplete:"false",id:"password",type:"password",defaultValue:"",onChange:function(e){return d(e,"password")},placeholder:"Current password"}),(0,hh.jsx)("input",{autoComplete:"false",id:"new-password",type:"password",defaultValue:"",onChange:function(e){return d(e,"new-password")},placeholder:"New password"}),(0,hh.jsx)("input",{id:"permission",defaultValue:t.permission,onChange:function(e){return p(e,"email")},placeholder:"Your email",disabled:!0}),(0,hh.jsx)("div",{className:"control",children:(0,hh.jsx)(ep,{defaultValue:a.filter((function(e){return e.id===t.company}))[0].name,valueList:a,onChange:function(e){c.company=a.filter((function(t){return t.name===e}))[0].id}})}),(0,hh.jsx)(vh,{value:"Update",type:"is-primary",icon:"update",onClick:function(e){e.preventDefault(),f()}}),(0,hh.jsxs)("div",{className:"notification",children:[(0,hh.jsx)("button",{className:"delete",onClick:function(e){return e.currentTarget.parentElement.classList.remove("is-active")}}),(0,hh.jsx)("span",{children:"Profile updated"})]})]})]})}function Rg(){var e="",t="",n="",r=A(),a=0;""===localStorage.getItem("loginState")||null===localStorage.getItem("loginState")?localStorage.setItem("loginState","0"):a=parseInt(localStorage.getItem("loginState"));var s=i((0,o.useState)(!1),2),u=s[0],l=s[1],c=Zh();(0,o.useEffect)((function(){fh.onAuthStateChanged((function(e){e&&a&&r("/")}))}),[]);var f=function(t){e=t.target.value},d=function(e){t=e.target.value},h=function(n){n.preventDefault(),function(e,t,n){return mf(Ze(e),Qc.credential(t,n))}(fh,e,t).then((function(){document.getElementsByTagName("form")[0].classList.remove("error"),r("/dashboard")})).catch((function(){return document.getElementsByTagName("form")[0].classList.add("error")}))},p=function(e){"visibility"===e.target.innerHTML?e.target.innerHTML="visibility_off":e.target.innerHTML="visibility";var t=document.getElementById("password");"visibility"===e.target.innerHTML?t.setAttribute("type","password"):t.setAttribute("type","text")},v=function(e){e.currentTarget.classList.toggle("is-active")},m=function(e,t){var n=document.querySelectorAll(".dropdown-item");[].forEach.call(n,(function(e){e.classList.remove("is-active")})),e.currentTarget.classList.add("is-active"),document.getElementById("".concat(t).concat(c)).innerHTML=e.currentTarget.innerHTML,document.getElementsByClassName("dropdown ".concat(t))[0].setAttribute("data-id",e.currentTarget.getAttribute("data-id"))};return(0,hh.jsxs)("div",{className:"welcome",children:[u?(0,hh.jsx)(hh.Fragment,{children:(0,hh.jsxs)("div",{className:"welcome-content",children:[(0,hh.jsx)("h1",{className:"welcome-title",children:"Be a member of"}),(0,hh.jsx)("h1",{className:"welcome-title",children:"WorkZone"}),(0,hh.jsxs)("form",{className:"signUp",onSubmit:function(e){return e.preventDefault()},children:[(0,hh.jsx)("div",{className:"field",children:(0,hh.jsxs)("div",{className:"control has-icons-left",children:[(0,hh.jsx)("input",{id:"name",className:"input",type:"text",placeholder:"Enter your name"}),(0,hh.jsxs)("span",{className:"icon is-small is-left",children:[(0,hh.jsx)("span",{className:"material-symbols-outlined",children:"person"}),(0,hh.jsx)("div",{className:"line"})]})]})}),(0,hh.jsx)("div",{className:"field",children:(0,hh.jsxs)("div",{className:"control has-icons-left",children:[(0,hh.jsxs)("div",{className:"dropdown companyList","data-id":"Company01",onClick:function(e){return v(e)},children:[(0,hh.jsx)("div",{className:"dropdown-trigger",children:(0,hh.jsxs)("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu",children:[(0,hh.jsx)("span",{id:"companyList".concat(c),children:"Conando Corp"}),(0,hh.jsx)("span",{className:"icon is-small",children:(0,hh.jsx)("span",{className:"material-symbols-outlined",children:"expand_more"})})]})}),(0,hh.jsx)("div",{className:"dropdown-menu",role:"menu",children:(0,hh.jsxs)("div",{className:"dropdown-content",children:[(0,hh.jsx)("a",{className:"dropdown-item","data-id":"Company01",onClick:function(e){return m(e,"companyList")},children:"Conando Corp"}),(0,hh.jsx)("a",{className:"dropdown-item","data-id":"Company02",onClick:function(e){return m(e,"companyList")},children:"Brando"}),(0,hh.jsx)("a",{className:"dropdown-item","data-id":"Company03",onClick:function(e){return m(e,"companyList")},children:"Docommerce"}),(0,hh.jsx)("a",{className:"dropdown-item","data-id":"Company04",onClick:function(e){return m(e,"companyList")},children:"Dotravel"}),(0,hh.jsx)("a",{className:"dropdown-item","data-id":"Company05",onClick:function(e){return m(e,"companyList")},children:"Seodo"}),(0,hh.jsx)("a",{className:"dropdown-item","data-id":"Company06",onClick:function(e){return m(e,"companyList")},children:"Fastdo"}),(0,hh.jsx)("a",{className:"dropdown-item","data-id":"Company07",onClick:function(e){return m(e,"companyList")},children:"Martech"})]})})]}),(0,hh.jsxs)("span",{className:"icon is-small is-left",children:[(0,hh.jsx)("span",{className:"material-symbols-outlined",children:"apartment"}),(0,hh.jsx)("div",{className:"line"})]})]})}),(0,hh.jsx)("div",{className:"field",children:(0,hh.jsxs)("div",{className:"control has-icons-left",children:[(0,hh.jsxs)("div",{className:"dropdown roleList","data-id":"Company01",onClick:function(e){return v(e)},children:[(0,hh.jsx)("div",{className:"dropdown-trigger",children:(0,hh.jsxs)("button",{className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu",children:[(0,hh.jsx)("span",{id:"roleList".concat(c),children:"Client"}),(0,hh.jsx)("span",{className:"icon is-small",children:(0,hh.jsx)("span",{className:"material-symbols-outlined",children:"expand_more"})})]})}),(0,hh.jsx)("div",{className:"dropdown-menu",role:"menu",children:(0,hh.jsxs)("div",{className:"dropdown-content",children:[(0,hh.jsx)("a",{className:"dropdown-item","data-id":"Client",onClick:function(e){return m(e,"roleList")},children:"Client"}),(0,hh.jsx)("a",{className:"dropdown-item","data-id":"Designer",onClick:function(e){return m(e,"roleList")},children:"Designer"})]})})]}),(0,hh.jsxs)("span",{className:"icon is-small is-left",children:[(0,hh.jsx)("span",{className:"material-symbols-outlined",children:"apartment"}),(0,hh.jsx)("div",{className:"line"})]})]})}),(0,hh.jsx)("div",{className:"field",children:(0,hh.jsxs)("div",{className:"control has-icons-left",children:[(0,hh.jsx)("input",{id:"email",className:"input",type:"text",placeholder:"Enter your email",onChange:f}),(0,hh.jsxs)("span",{className:"icon is-small is-left",children:[(0,hh.jsx)("span",{className:"material-symbols-outlined",children:"mail"}),(0,hh.jsx)("div",{className:"line"})]})]})}),(0,hh.jsxs)("div",{className:"field",children:[(0,hh.jsx)("span",{className:"icon is-small is-right",children:(0,hh.jsx)("span",{className:"material-symbols-outlined",onClick:p,children:"visibility"})}),(0,hh.jsxs)("div",{className:"control has-icons-right has-icons-left",children:[(0,hh.jsx)("input",{id:"password",className:"input",type:"password",placeholder:"Enter your password",onChange:d}),(0,hh.jsxs)("span",{className:"icon is-small is-left",children:[(0,hh.jsx)("span",{className:"material-symbols-outlined",children:"key"}),(0,hh.jsx)("div",{className:"line"})]})]})]}),(0,hh.jsxs)("div",{className:"field signUp",children:[(0,hh.jsx)("span",{className:"icon is-small is-right",children:(0,hh.jsx)("span",{className:"material-symbols-outlined",onClick:p,children:"visibility"})}),(0,hh.jsxs)("div",{className:"control has-icons-right has-icons-left",children:[(0,hh.jsx)("input",{id:"repassword",className:"input",type:"password",placeholder:"Re-enter your password",onChange:function(e){n=e.target.value}}),(0,hh.jsxs)("span",{className:"icon is-small is-left",children:[(0,hh.jsx)("span",{className:"material-symbols-outlined",children:"key"}),(0,hh.jsx)("div",{className:"line"})]})]})]}),(0,hh.jsxs)("div",{className:"field CTA",children:[(0,hh.jsx)("button",{className:"button is-primary",onClick:function(i){i.preventDefault(),t===n?(function(e,t,n){return gf.apply(this,arguments)}(fh,e,t).then((function(){js(Ps(ch,"/users/".concat(fh.currentUser.uid)),{avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQmcs9ke65YUANZ4loajxZ9G0WgevPlRDaNuw&usqp=CAU",company:document.getElementsByClassName("dropdown")[0].getAttribute("data-id"),email:fh.currentUser.email,id:fh.currentUser.uid,name:document.getElementById("name").value,permission:document.getElementsByClassName("dropdown")[1].getAttribute("data-id"),phone:"",user:fh.currentUser.email})})).then((function(){r("/dashboard")})),document.getElementsByTagName("form")[0].classList.remove("error")):document.getElementsByTagName("form")[0].classList.add("error")},children:"I'm in!"}),(0,hh.jsx)("span",{children:"or"}),(0,hh.jsx)("button",{onClick:function(e){e.preventDefault(),l(!1)},className:"button is-ghost sign-up",children:(0,hh.jsx)("span",{children:"I have an account"})})]})]})]})}):(0,hh.jsx)(hh.Fragment,{children:(0,hh.jsxs)("div",{className:"welcome-content",children:[(0,hh.jsx)("h1",{className:"welcome-title",children:"Welcome to"}),(0,hh.jsx)("h1",{className:"welcome-title",children:"WorkZone"}),(0,hh.jsxs)("form",{children:[(0,hh.jsx)("div",{className:"field",children:(0,hh.jsxs)("div",{className:"control has-icons-left",children:[(0,hh.jsx)("input",{id:"email",className:"input",type:"text",placeholder:"Enter your email",onChange:f}),(0,hh.jsxs)("span",{className:"icon is-small is-left",children:[(0,hh.jsx)("span",{className:"material-symbols-outlined",children:"mail"}),(0,hh.jsx)("div",{className:"line"})]})]})}),(0,hh.jsxs)("div",{className:"field",children:[(0,hh.jsx)("span",{className:"icon is-small is-right",children:(0,hh.jsx)("span",{className:"material-symbols-outlined",onClick:function(e){return p(e)},children:"visibility"})}),(0,hh.jsxs)("div",{className:"control has-icons-right has-icons-left",children:[(0,hh.jsx)("input",{id:"password",className:"input",type:"password",placeholder:"Enter your password",onChange:d}),(0,hh.jsxs)("span",{className:"icon is-small is-left",children:[(0,hh.jsx)("span",{className:"material-symbols-outlined",children:"key"}),(0,hh.jsx)("div",{className:"line"})]})]})]}),(0,hh.jsx)("div",{className:"field sub-action",children:(0,hh.jsxs)("button",{className:"button is-small is-ghost remember",onClick:function(e){return function(e){e.preventDefault();var t=document.getElementById("rememberLogin");"check_box_outline_blank"===t.innerHTML?(a=1,localStorage.setItem("loginState",a),t.innerHTML="check_box"):(a=0,localStorage.setItem("loginState",a),t.innerHTML="check_box_outline_blank")}(e)},children:[(0,hh.jsx)("span",{className:"icon is-small",children:(0,hh.jsx)("span",{id:"rememberLogin",className:"material-symbols-outlined",children:1===a?"check_box":"check_box_outline_blank"})}),(0,hh.jsx)("span",{children:"Remember login"})]})}),(0,hh.jsxs)("div",{className:"field CTA",children:[(0,hh.jsx)("button",{className:"button is-primary",onClick:function(e){return h(e)},children:"Let's do it!"}),(0,hh.jsx)("span",{children:"or"}),(0,hh.jsx)("button",{onClick:function(e){e.preventDefault(),l(!0)},className:"button is-ghost sign-up",children:(0,hh.jsx)("span",{children:"Become zone-er?"})})]})]})]})}),(0,hh.jsx)("div",{className:"welcome-background",children:(0,hh.jsx)("img",{alt:"background",src:"https://firebasestorage.googleapis.com/v0/b/design-team-6d633.appspot.com/o/source%2Fwelcome-background.gif?alt=media&token=4e53c1b6-b784-4ddc-8f62-627ecfb6c556"})})]})}e.createRoot(document.getElementById("root")).render((0,hh.jsx)(o.StrictMode,{children:(0,hh.jsx)($,{children:(0,hh.jsxs)(B,{children:[(0,hh.jsx)(q,{path:"/login",element:(0,hh.jsx)(Rg,{})}),(0,hh.jsxs)(q,{path:"/",element:(0,hh.jsx)(Gh,{}),children:[(0,hh.jsx)(q,{path:"dashboard",element:(0,hh.jsx)(up,{})}),(0,hh.jsx)(q,{path:"tasks-management",element:(0,hh.jsx)(up,{})}),(0,hh.jsx)(q,{path:"tasks",element:(0,hh.jsx)(Ng,{}),children:(0,hh.jsx)(q,{path:"*",element:(0,hh.jsx)(Ng,{})})}),(0,hh.jsx)(q,{path:"profile",element:(0,hh.jsx)(Pg,{})}),(0,hh.jsx)(q,{path:"*",element:(0,hh.jsx)("main",{style:{padding:"1rem"},children:(0,hh.jsx)("p",{children:"There's nothing here!"})})})]})]})})}))}()}();
//# sourceMappingURL=main.29e7ca38.js.map